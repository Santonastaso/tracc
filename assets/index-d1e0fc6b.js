var Xg=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var A=(e,t,r)=>(Xg(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},de=(e,t,r,n)=>(Xg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var jh=(e,t,r,n)=>({set _(a){de(e,t,a,r)},get _(){return A(e,t,n)}}),De=(e,t,r)=>(Xg(e,t,"access private method"),r);function h3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function L2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var P2={exports:{}},ng={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3=Symbol.for("react.transitional.element"),g3=Symbol.for("react.fragment");function U2(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:m3,type:e,key:n,ref:t!==void 0?t:null,props:r}}ng.Fragment=g3;ng.jsx=U2;ng.jsxs=U2;P2.exports=ng;var c=P2.exports,B2={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=Symbol.for("react.transitional.element"),p3=Symbol.for("react.portal"),v3=Symbol.for("react.fragment"),x3=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),_3=Symbol.for("react.consumer"),w3=Symbol.for("react.context"),b3=Symbol.for("react.forward_ref"),S3=Symbol.for("react.suspense"),E3=Symbol.for("react.memo"),z2=Symbol.for("react.lazy"),T3=Symbol.for("react.activity"),Y_=Symbol.iterator;function C3(e){return e===null||typeof e!="object"?null:(e=Y_&&e[Y_]||e["@@iterator"],typeof e=="function"?e:null)}var $2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q2=Object.assign,V2={};function wu(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||$2}wu.prototype.isReactComponent={};wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H2(){}H2.prototype=wu.prototype;function ky(e,t,r){this.props=e,this.context=t,this.refs=V2,this.updater=r||$2}var Dy=ky.prototype=new H2;Dy.constructor=ky;q2(Dy,wu.prototype);Dy.isPureReactComponent=!0;var X_=Array.isArray;function Sv(){}var Mt={H:null,A:null,T:null,S:null},G2=Object.prototype.hasOwnProperty;function My(e,t,r){var n=r.ref;return{$$typeof:jy,type:e,key:t,ref:n!==void 0?n:null,props:r}}function R3(e,t){return My(e.type,t,e.props)}function Iy(e){return typeof e=="object"&&e!==null&&e.$$typeof===jy}function A3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Z_=/\/+/g;function Zg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A3(""+e.key):t.toString(36)}function N3(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sv,Sv):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ec(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case jy:case p3:s=!0;break;case z2:return s=e._init,ec(s(e._payload),t,r,n,a)}}if(s)return a=a(e),s=n===""?"."+Zg(e,0):n,X_(a)?(r="",s!=null&&(r=s.replace(Z_,"$&/")+"/"),ec(a,t,r,"",function(u){return u})):a!=null&&(Iy(a)&&(a=R3(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Z_,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=n===""?".":n+":";if(X_(e))for(var l=0;l<e.length;l++)n=e[l],i=o+Zg(n,l),s+=ec(n,t,r,i,a);else if(l=C3(e),typeof l=="function")for(e=l.call(e),l=0;!(n=e.next()).done;)n=n.value,i=o+Zg(n,l++),s+=ec(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return ec(N3(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function kh(e,t,r){if(e==null)return e;var n=[],a=0;return ec(e,n,"","",function(i){return t.call(r,i,a++)}),n}function O3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var J_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},j3={map:kh,forEach:function(e,t,r){kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kh(e,function(){t++}),t},toArray:function(e){return kh(e,function(t){return t})||[]},only:function(e){if(!Iy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Activity=T3;Ge.Children=j3;Ge.Component=wu;Ge.Fragment=v3;Ge.Profiler=y3;Ge.PureComponent=ky;Ge.StrictMode=x3;Ge.Suspense=S3;Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mt;Ge.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Mt.H.useMemoCache(e)}};Ge.cache=function(e){return function(){return e.apply(null,arguments)}};Ge.cacheSignal=function(){return null};Ge.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=q2({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!G2.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return My(e.type,a,n)};Ge.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_3,_context:e},e};Ge.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)G2.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return My(e,i,a)};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:b3,render:e}};Ge.isValidElement=Iy;Ge.lazy=function(e){return{$$typeof:z2,_payload:{_status:-1,_result:e},_init:O3}};Ge.memo=function(e,t){return{$$typeof:E3,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=Mt.T,r={};Mt.T=r;try{var n=e(),a=Mt.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Sv,J_)}catch(i){J_(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Mt.T=t}};Ge.unstable_useCacheRefresh=function(){return Mt.H.useCacheRefresh()};Ge.use=function(e){return Mt.H.use(e)};Ge.useActionState=function(e,t,r){return Mt.H.useActionState(e,t,r)};Ge.useCallback=function(e,t){return Mt.H.useCallback(e,t)};Ge.useContext=function(e){return Mt.H.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e,t){return Mt.H.useDeferredValue(e,t)};Ge.useEffect=function(e,t){return Mt.H.useEffect(e,t)};Ge.useEffectEvent=function(e){return Mt.H.useEffectEvent(e)};Ge.useId=function(){return Mt.H.useId()};Ge.useImperativeHandle=function(e,t,r){return Mt.H.useImperativeHandle(e,t,r)};Ge.useInsertionEffect=function(e,t){return Mt.H.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return Mt.H.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Mt.H.useMemo(e,t)};Ge.useOptimistic=function(e,t){return Mt.H.useOptimistic(e,t)};Ge.useReducer=function(e,t,r){return Mt.H.useReducer(e,t,r)};Ge.useRef=function(e){return Mt.H.useRef(e)};Ge.useState=function(e){return Mt.H.useState(e)};Ge.useSyncExternalStore=function(e,t,r){return Mt.H.useSyncExternalStore(e,t,r)};Ge.useTransition=function(){return Mt.H.useTransition()};Ge.version="19.2.0";B2.exports=Ge;var S=B2.exports;const ce=rg(S),Fy=h3({__proto__:null,default:ce},[S]);var K2={exports:{}},ag={},W2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,Q){var M=O.length;O.push(Q);e:for(;0<M;){var K=M-1>>>1,J=O[K];if(0<a(J,Q))O[K]=Q,O[M]=J,M=K;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var Q=O[0],M=O.pop();if(M!==Q){O[0]=M;e:for(var K=0,J=O.length,Y=J>>>1;K<Y;){var P=2*(K+1)-1,H=O[P],I=P+1,L=O[I];if(0>a(H,M))I<J&&0>a(L,H)?(O[K]=L,O[I]=M,K=I):(O[K]=H,O[P]=M,K=P);else if(I<J&&0>a(L,M))O[K]=L,O[I]=M,K=I;else break e}}return Q}function a(O,Q){var M=O.sortIndex-Q.sortIndex;return M!==0?M:O.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(O){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=O)n(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=r(u)}}function N(O){if(g=!1,w(O),!p)if(r(l)!==null)p=!0,U||(U=!0,R());else{var Q=r(u);Q!==null&&ie(N,Q.startTime-O)}}var U=!1,E=-1,k=5,T=-1;function b(){return x?!0:!(e.unstable_now()-T<k)}function D(){if(x=!1,U){var O=e.unstable_now();T=O;var Q=!0;try{e:{p=!1,g&&(g=!1,y(E),E=-1),m=!0;var M=h;try{t:{for(w(O),f=r(l);f!==null&&!(f.expirationTime>O&&b());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var J=K(f.expirationTime<=O);if(O=e.unstable_now(),typeof J=="function"){f.callback=J,w(O),Q=!0;break t}f===r(l)&&n(l),w(O)}else n(l);f=r(l)}if(f!==null)Q=!0;else{var Y=r(u);Y!==null&&ie(N,Y.startTime-O),Q=!1}}break e}finally{f=null,h=M,m=!1}Q=void 0}}finally{Q?R():U=!1}}}var R;if(typeof _=="function")R=function(){_(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=D,R=function(){re.postMessage(null)}}else R=function(){v(D,0)};function ie(O,Q){E=v(function(){O(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var M=h;h=Q;try{return O()}finally{h=M}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=h;h=O;try{return Q()}finally{h=M}},e.unstable_scheduleCallback=function(O,Q,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,O={id:d++,callback:Q,priorityLevel:O,startTime:M,expirationTime:J,sortIndex:-1},M>K?(O.sortIndex=M,t(u,O),r(l)===null&&O===r(u)&&(g?(y(E),E=-1):g=!0,ie(N,M-K))):(O.sortIndex=J,t(l,O),p||m||(p=!0,U||(U=!0,R()))),O},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(O){var Q=h;return function(){var M=h;h=Q;try{return O.apply(this,arguments)}finally{h=M}}}})(Q2);W2.exports=Q2;var k3=W2.exports,Y2={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3=S;function X2(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function as(){}var rn={d:{f:as,r:function(){throw Error(X2(522))},D:as,C:as,L:as,m:as,X:as,S:as,M:as},p:0,findDOMNode:null},M3=Symbol.for("react.portal");function I3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M3,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var _d=D3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ig(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rn;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(X2(299));return I3(e,t,null,r)};an.flushSync=function(e){var t=_d.T,r=rn.p;try{if(_d.T=null,rn.p=2,e)return e()}finally{_d.T=t,rn.p=r,rn.d.f()}};an.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,rn.d.C(e,t))};an.prefetchDNS=function(e){typeof e=="string"&&rn.d.D(e)};an.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=ig(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?rn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&rn.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};an.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=ig(t.as,t.crossOrigin);rn.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&rn.d.M(e)};an.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=ig(r,t.crossOrigin);rn.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};an.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=ig(t.as,t.crossOrigin);rn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else rn.d.m(e)};an.requestFormReset=function(e){rn.d.r(e)};an.unstable_batchedUpdates=function(e,t){return e(t)};an.useFormState=function(e,t,r){return _d.H.useFormState(e,t,r)};an.useFormStatus=function(){return _d.H.useHostTransitionStatus()};an.version="19.2.0";function Z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z2)}catch(e){console.error(e)}}Z2(),Y2.exports=an;var sg=Y2.exports;const J2=rg(sg);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=k3,eT=S,F3=sg;function ue(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nT(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ew(e){if(Yf(e)!==e)throw Error(ue(188))}function L3(e){var t=e.alternate;if(!t){if(t=Yf(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ew(a),e;if(i===n)return ew(a),t;i=i.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function aT(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=aT(e),t!==null)return t;e=e.sibling}return null}var It=Object.assign,P3=Symbol.for("react.element"),Dh=Symbol.for("react.transitional.element"),ud=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),Ev=Symbol.for("react.profiler"),sT=Symbol.for("react.consumer"),Di=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Cv=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),Rv=Symbol.for("react.activity"),U3=Symbol.for("react.memo_cache_sentinel"),tw=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var B3=Symbol.for("react.client.reference");function Av(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===B3?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oc:return"Fragment";case Ev:return"Profiler";case iT:return"StrictMode";case Tv:return"Suspense";case Cv:return"SuspenseList";case Rv:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ud:return"Portal";case Di:return e.displayName||"Context";case sT:return(e._context.displayName||"Context")+".Consumer";case Ly:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Py:return t=e.displayName||null,t!==null?t:Av(e.type)||"Memo";case fs:t=e._payload,e=e._init;try{return Av(e(t))}catch{}}return null}var dd=Array.isArray,$e=eT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=F3.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,il={pending:!1,data:null,method:null,action:null},Nv=[],lc=-1;function oi(e){return{current:e}}function Rr(e){0>lc||(e.current=Nv[lc],Nv[lc]=null,lc--)}function Nt(e,t){lc++,Nv[lc]=e.current,e.current=t}var ri=oi(null),Kd=oi(null),Vs=oi(null),G0=oi(null);function K0(e,t){switch(Nt(Vs,t),Nt(Kd,e),Nt(ri,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ob(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ob(t),e=CR(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Rr(ri),Nt(ri,e)}function nu(){Rr(ri),Rr(Kd),Rr(Vs)}function Ov(e){e.memoizedState!==null&&Nt(G0,e);var t=ri.current,r=CR(t,e.type);t!==r&&(Nt(Kd,e),Nt(ri,r))}function W0(e){Kd.current===e&&(Rr(ri),Rr(Kd)),G0.current===e&&(Rr(G0),af._currentValue=il)}var Jg,rw;function ko(e){if(Jg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jg=t&&t[1]||"",rw=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jg+e+rw}var ep=!1;function tp(e,t){if(!e||ep)return"";ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===u.length)for(n=l.length-1,a=u.length-1;1<=n&&0<=a&&l[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||l[n]!==u[a]){var d=`
`+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{ep=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ko(r):""}function z3(e,t){switch(e.tag){case 26:case 27:case 5:return ko(e.type);case 16:return ko("Lazy");case 13:return e.child!==t&&t!==null?ko("Suspense Fallback"):ko("Suspense");case 19:return ko("SuspenseList");case 0:case 15:return tp(e.type,!1);case 11:return tp(e.type.render,!1);case 1:return tp(e.type,!0);case 31:return ko("Activity");default:return""}}function nw(e){try{var t="",r=null;do t+=z3(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var jv=Object.prototype.hasOwnProperty,Uy=pr.unstable_scheduleCallback,rp=pr.unstable_cancelCallback,$3=pr.unstable_shouldYield,q3=pr.unstable_requestPaint,Hn=pr.unstable_now,V3=pr.unstable_getCurrentPriorityLevel,oT=pr.unstable_ImmediatePriority,lT=pr.unstable_UserBlockingPriority,Q0=pr.unstable_NormalPriority,H3=pr.unstable_LowPriority,cT=pr.unstable_IdlePriority,G3=pr.log,K3=pr.unstable_setDisableYieldValue,Xf=null,Gn=null;function Is(e){if(typeof G3=="function"&&K3(e),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(Xf,e)}catch{}}var Kn=Math.clz32?Math.clz32:Y3,W3=Math.log,Q3=Math.LN2;function Y3(e){return e>>>=0,e===0?32:31-(W3(e)/Q3|0)|0}var Mh=256,Ih=262144,Fh=4194304;function Do(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function og(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?a=Do(n):(s&=o,s!==0?a=Do(s):r||(r=o&~e,r!==0&&(a=Do(r))))):(o=n&~i,o!==0?a=Do(o):s!==0?a=Do(s):r||(r=n&~e,r!==0&&(a=Do(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Zf(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function X3(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uT(){var e=Fh;return Fh<<=1,!(Fh&62914560)&&(Fh=4194304),e}function np(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jf(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Z3(e,t,r,n,a,i){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(r=s&~r;0<r;){var d=31-Kn(r),f=1<<d;o[d]=0,l[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&dT(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(s&~t))}function dT(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Kn(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function fT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function hT(e,t){var r=t&-t;return r=r&42?1:By(r),r&(e.suspendedLanes|t)?0:r}function By(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zy(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mT(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:LR(e.type))}function aw(e,t){var r=ft.p;try{return ft.p=e,t()}finally{ft.p=r}}var go=Math.random().toString(36).slice(2),Dr="__reactFiber$"+go,En="__reactProps$"+go,bu="__reactContainer$"+go,kv="__reactEvents$"+go,J3="__reactListeners$"+go,ek="__reactHandles$"+go,iw="__reactResources$"+go,eh="__reactMarker$"+go;function $y(e){delete e[Dr],delete e[En],delete e[kv],delete e[J3],delete e[ek]}function cc(e){var t=e[Dr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bu]||r[Dr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fb(e);e!==null;){if(r=e[Dr])return r;e=fb(e)}return t}e=r,r=e.parentNode}return null}function Su(e){if(e=e[Dr]||e[bu]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ue(33))}function _c(e){var t=e[iw];return t||(t=e[iw]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Sr(e){e[eh]=!0}var gT=new Set,pT={};function bl(e,t){au(e,t),au(e+"Capture",t)}function au(e,t){for(pT[e]=t,e=0;e<t.length;e++)gT.add(t[e])}var tk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sw={},ow={};function rk(e){return jv.call(ow,e)?!0:jv.call(sw,e)?!1:tk.test(e)?ow[e]=!0:(sw[e]=!0,!1)}function C0(e,t,r){if(rk(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Lh(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function mi(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function la(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nk(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dv(e){if(!e._valueTracker){var t=vT(e)?"checked":"value";e._valueTracker=nk(e,t,""+e[t])}}function xT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Y0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ak=/[\n"\\]/g;function da(e){return e.replace(ak,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mv(e,t,r,n,a,i,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+la(t)):e.value!==""+la(t)&&(e.value=""+la(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Iv(e,s,la(t)):r!=null?Iv(e,s,la(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+la(o):e.removeAttribute("name")}function yT(e,t,r,n,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Dv(e);return}r=r!=null?""+la(r):"",t=t!=null?""+la(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Dv(e)}function Iv(e,t,r){t==="number"&&Y0(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function wc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+la(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _T(e,t,r){if(t!=null&&(t=""+la(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+la(r):""}function wT(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(ue(92));if(dd(n)){if(1<n.length)throw Error(ue(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=la(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),Dv(e)}function iu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ik=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lw(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||ik.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function bT(e,t,r){if(t!=null&&typeof t!="object")throw Error(ue(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&lw(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&lw(e,i,t[i])}function qy(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ok=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function R0(e){return ok.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mi(){}var Fv=null;function Vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uc=null,bc=null;function cw(e){var t=Su(e);if(t&&(e=t.stateNode)){var r=e[En]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mv(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+da(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[En]||null;if(!a)throw Error(ue(90));Mv(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&xT(n)}break e;case"textarea":_T(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&wc(e,!!r.multiple,t,!1)}}}var ap=!1;function ST(e,t,r){if(ap)return e(t,r);ap=!0;try{var n=e(t);return n}finally{if(ap=!1,(uc!==null||bc!==null)&&(yg(),uc&&(t=uc,e=bc,bc=uc=null,cw(t),e)))for(t=0;t<e.length;t++)cw(e[t])}}function Wd(e,t){var r=e.stateNode;if(r===null)return null;var n=r[En]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lv=!1;if(Vi)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){Lv=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{Lv=!1}var Fs=null,Hy=null,A0=null;function ET(){if(A0)return A0;var e,t=Hy,r=t.length,n,a="value"in Fs?Fs.value:Fs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return A0=a.slice(e,1<n?1-n:void 0)}function N0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ph(){return!0}function uw(){return!1}function An(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ph:uw,this.isPropagationStopped=uw,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=An(Sl),th=It({},Sl,{view:0,detail:0}),lk=An(th),ip,sp,Ju,cg=It({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ju&&(Ju&&e.type==="mousemove"?(ip=e.screenX-Ju.screenX,sp=e.screenY-Ju.screenY):sp=ip=0,Ju=e),ip)},movementY:function(e){return"movementY"in e?e.movementY:sp}}),dw=An(cg),ck=It({},cg,{dataTransfer:0}),uk=An(ck),dk=It({},th,{relatedTarget:0}),op=An(dk),fk=It({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),hk=An(fk),mk=It({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gk=An(mk),pk=It({},Sl,{data:0}),fw=An(pk),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _k(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yk[e])?!!t[e]:!1}function Gy(){return _k}var wk=It({},th,{key:function(e){if(e.key){var t=vk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=N0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(e){return e.type==="keypress"?N0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?N0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bk=An(wk),Sk=It({},cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=An(Sk),Ek=It({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),Tk=An(Ek),Ck=It({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=An(Ck),Ak=It({},cg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nk=An(Ak),Ok=It({},Sl,{newState:0,oldState:0}),jk=An(Ok),kk=[9,13,27,32],Ky=Vi&&"CompositionEvent"in window,wd=null;Vi&&"documentMode"in document&&(wd=document.documentMode);var Dk=Vi&&"TextEvent"in window&&!wd,TT=Vi&&(!Ky||wd&&8<wd&&11>=wd),mw=String.fromCharCode(32),gw=!1;function CT(e,t){switch(e){case"keyup":return kk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dc=!1;function Mk(e,t){switch(e){case"compositionend":return RT(t);case"keypress":return t.which!==32?null:(gw=!0,mw);case"textInput":return e=t.data,e===mw&&gw?null:e;default:return null}}function Ik(e,t){if(dc)return e==="compositionend"||!Ky&&CT(e,t)?(e=ET(),A0=Hy=Fs=null,dc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TT&&t.locale!=="ko"?null:t.data;default:return null}}var Fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fk[e.type]:t==="textarea"}function AT(e,t,r,n){uc?bc?bc.push(n):bc=[n]:uc=n,t=mm(t,"onChange"),0<t.length&&(r=new lg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bd=null,Qd=null;function Lk(e){SR(e,0)}function ug(e){var t=fd(e);if(xT(t))return e}function vw(e,t){if(e==="change")return t}var NT=!1;if(Vi){var lp;if(Vi){var cp="oninput"in document;if(!cp){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),cp=typeof xw.oninput=="function"}lp=cp}else lp=!1;NT=lp&&(!document.documentMode||9<document.documentMode)}function yw(){bd&&(bd.detachEvent("onpropertychange",OT),Qd=bd=null)}function OT(e){if(e.propertyName==="value"&&ug(Qd)){var t=[];AT(t,Qd,e,Vy(e)),ST(Lk,t)}}function Pk(e,t,r){e==="focusin"?(yw(),bd=t,Qd=r,bd.attachEvent("onpropertychange",OT)):e==="focusout"&&yw()}function Uk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ug(Qd)}function Bk(e,t){if(e==="click")return ug(t)}function zk(e,t){if(e==="input"||e==="change")return ug(t)}function $k(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:$k;function Yd(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jv.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function _w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var r=_w(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_w(r)}}function jT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Y0(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Y0(e.document)}return t}function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qk=Vi&&"documentMode"in document&&11>=document.documentMode,fc=null,Pv=null,Sd=null,Uv=!1;function bw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uv||fc==null||fc!==Y0(n)||(n=fc,"selectionStart"in n&&Wy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sd&&Yd(Sd,n)||(Sd=n,n=mm(Pv,"onSelect"),0<n.length&&(t=new lg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fc)))}function To(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hc={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},up={},DT={};Vi&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete hc.animationend.animation,delete hc.animationiteration.animation,delete hc.animationstart.animation),"TransitionEvent"in window||delete hc.transitionend.transition);function El(e){if(up[e])return up[e];if(!hc[e])return e;var t=hc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DT)return up[e]=t[r];return e}var MT=El("animationend"),IT=El("animationiteration"),FT=El("animationstart"),Vk=El("transitionrun"),Hk=El("transitionstart"),Gk=El("transitioncancel"),LT=El("transitionend"),PT=new Map,Bv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bv.push("scrollEnd");function qa(e,t){PT.set(e,t),bl(t,[e])}var X0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},na=[],mc=0,Qy=0;function dg(){for(var e=mc,t=Qy=mc=0;t<e;){var r=na[t];na[t++]=null;var n=na[t];na[t++]=null;var a=na[t];na[t++]=null;var i=na[t];if(na[t++]=null,n!==null&&a!==null){var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}i!==0&&UT(r,a,i)}}function fg(e,t,r,n){na[mc++]=e,na[mc++]=t,na[mc++]=r,na[mc++]=n,Qy|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Yy(e,t,r,n){return fg(e,t,r,n),Z0(e)}function Tl(e,t){return fg(e,null,null,t),Z0(e)}function UT(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-Kn(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Z0(e){if(50<kd)throw kd=0,ox=null,Error(ue(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gc={};function Kk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,r,n){return new Kk(e,t,r,n)}function Xy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,t){var r=e.alternate;return r===null?(r=Un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function BT(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function O0(e,t,r,n,a,i){var s=0;if(n=e,typeof e=="function")Xy(e)&&(s=1);else if(typeof e=="string")s=ZD(e,r,ri.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rv:return e=Un(31,r,t,a),e.elementType=Rv,e.lanes=i,e;case oc:return sl(r.children,a,i,t);case iT:s=8,a|=24;break;case Ev:return e=Un(12,r,t,a|2),e.elementType=Ev,e.lanes=i,e;case Tv:return e=Un(13,r,t,a),e.elementType=Tv,e.lanes=i,e;case Cv:return e=Un(19,r,t,a),e.elementType=Cv,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Di:s=10;break e;case sT:s=9;break e;case Ly:s=11;break e;case Py:s=14;break e;case fs:s=16,n=null;break e}s=29,r=Error(ue(130,e===null?"null":typeof e,"")),n=null}return t=Un(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function sl(e,t,r,n){return e=Un(7,e,n,t),e.lanes=r,e}function dp(e,t,r){return e=Un(6,e,null,t),e.lanes=r,e}function zT(e){var t=Un(18,null,null,0);return t.stateNode=e,t}function fp(e,t,r){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sw=new WeakMap;function fa(e,t){if(typeof e=="object"&&e!==null){var r=Sw.get(e);return r!==void 0?r:(t={value:e,source:t,stack:nw(t)},Sw.set(e,t),t)}return{value:e,source:t,stack:nw(t)}}var pc=[],vc=0,J0=null,Xd=0,ca=[],ua=0,to=null,Za=1,Ja="";function Ei(e,t){pc[vc++]=Xd,pc[vc++]=J0,J0=e,Xd=t}function $T(e,t,r){ca[ua++]=Za,ca[ua++]=Ja,ca[ua++]=to,to=e;var n=Za;e=Ja;var a=32-Kn(n)-1;n&=~(1<<a),r+=1;var i=32-Kn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Za=1<<32-Kn(t)+a|r<<a|n,Ja=i+e}else Za=1<<i|r<<a|n,Ja=e}function Zy(e){e.return!==null&&(Ei(e,1),$T(e,1,0))}function Jy(e){for(;e===J0;)J0=pc[--vc],pc[vc]=null,Xd=pc[--vc],pc[vc]=null;for(;e===to;)to=ca[--ua],ca[ua]=null,Ja=ca[--ua],ca[ua]=null,Za=ca[--ua],ca[ua]=null}function qT(e,t){ca[ua++]=Za,ca[ua++]=Ja,ca[ua++]=to,Za=t.id,Ja=t.overflow,to=e}var Mr=null,Dt=null,it=!1,Hs=null,ha=!1,zv=Error(ue(519));function ro(e){var t=Error(ue(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zd(fa(t,e)),zv}function Ew(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Dr]=e,t[En]=n,r){case"dialog":Je("cancel",t),Je("close",t);break;case"iframe":case"object":case"embed":Je("load",t);break;case"video":case"audio":for(r=0;r<rf.length;r++)Je(rf[r],t);break;case"source":Je("error",t);break;case"img":case"image":case"link":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"input":Je("invalid",t),yT(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Je("invalid",t);break;case"textarea":Je("invalid",t),wT(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||TR(t.textContent,r)?(n.popover!=null&&(Je("beforetoggle",t),Je("toggle",t)),n.onScroll!=null&&Je("scroll",t),n.onScrollEnd!=null&&Je("scrollend",t),n.onClick!=null&&(t.onclick=Mi),t=!0):t=!1,t||ro(e,!0)}function Tw(e){for(Mr=e.return;Mr;)switch(Mr.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Mr=Mr.return}}function Ul(e){if(e!==Mr)return!1;if(!it)return Tw(e),it=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fx(e.type,e.memoizedProps)),r=!r),r&&Dt&&ro(e),Tw(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));Dt=db(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));Dt=db(e)}else t===27?(t=Dt,po(e.type)?(e=px,px=null,Dt=e):Dt=t):Dt=Mr?va(e.stateNode.nextSibling):null;return!0}function dl(){Dt=Mr=null,it=!1}function hp(){var e=Hs;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Hs=null),e}function Zd(e){Hs===null?Hs=[e]:Hs.push(e)}var $v=oi(null),Cl=null,Ii=null;function ms(e,t,r){Nt($v,t._currentValue),t._currentValue=r}function Pi(e){e._currentValue=$v.current,Rr($v)}function qv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vv(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var l=0;l<t.length;l++)if(o.context===t[l]){i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),qv(i.return,r,e),n||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(ue(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),qv(s,r,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Eu(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(ue(387));if(s=s.memoizedProps,s!==null){var o=a.type;Yn(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===G0.current){if(s=a.alternate,s===null)throw Error(ue(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(af):e=[af])}a=a.return}e!==null&&Vv(t,e,r,n),t.flags|=262144}function em(e){for(e=e.firstContext;e!==null;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){Cl=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lr(e){return VT(Cl,e)}function Uh(e,t){return Cl===null&&fl(e),VT(e,t)}function VT(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Ii===null){if(e===null)throw Error(ue(308));Ii=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ii=Ii.next=t;return r}var Wk=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Qk=pr.unstable_scheduleCallback,Yk=pr.unstable_NormalPriority,sr={$$typeof:Di,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e1(){return{controller:new Wk,data:new Map,refCount:0}}function rh(e){e.refCount--,e.refCount===0&&Qk(Yk,function(){e.controller.abort()})}var Ed=null,Hv=0,su=0,Sc=null;function Xk(e,t){if(Ed===null){var r=Ed=[];Hv=0,su=T1(),Sc={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Hv++,t.then(Cw,Cw),t}function Cw(){if(--Hv===0&&Ed!==null){Sc!==null&&(Sc.status="fulfilled");var e=Ed;Ed=null,su=0,Sc=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zk(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Rw=$e.S;$e.S=function(e,t){aR=Hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xk(e,t),Rw!==null&&Rw(e,t)};var ol=oi(null);function t1(){var e=ol.current;return e!==null?e:Ct.pooledCache}function j0(e,t){t===null?Nt(ol,ol.current):Nt(ol,t.pool)}function HT(){var e=t1();return e===null?null:{parent:sr._currentValue,pool:e}}var Tu=Error(ue(460)),r1=Error(ue(474)),hg=Error(ue(542)),tm={then:function(){}};function Aw(e){return e=e.status,e==="fulfilled"||e==="rejected"}function GT(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Mi,Mi),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ow(e),e;default:if(typeof t.status=="string")t.then(Mi,Mi);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(ue(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ow(e),e}throw ll=t,Tu}}function Mo(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ll=r,Tu):r}}var ll=null;function Nw(){if(ll===null)throw Error(ue(459));var e=ll;return ll=null,e}function Ow(e){if(e===Tu||e===hg)throw Error(ue(483))}var Ec=null,Jd=0;function Bh(e){var t=Jd;return Jd+=1,Ec===null&&(Ec=[]),GT(Ec,e,t)}function ed(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zh(e,t){throw t.$$typeof===P3?Error(ue(525)):(e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function KT(e){function t(v,y){if(e){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(v,y){return v=Li(v,y),v.index=0,v.sibling=null,v}function i(v,y,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=67108866,y):_):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function o(v,y,_,w){return y===null||y.tag!==6?(y=dp(_,v.mode,w),y.return=v,y):(y=a(y,_),y.return=v,y)}function l(v,y,_,w){var N=_.type;return N===oc?d(v,y,_.props.children,w,_.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fs&&Mo(N)===y.type)?(y=a(y,_.props),ed(y,_),y.return=v,y):(y=O0(_.type,_.key,_.props,null,v.mode,w),ed(y,_),y.return=v,y)}function u(v,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=fp(_,v.mode,w),y.return=v,y):(y=a(y,_.children||[]),y.return=v,y)}function d(v,y,_,w,N){return y===null||y.tag!==7?(y=sl(_,v.mode,w,N),y.return=v,y):(y=a(y,_),y.return=v,y)}function f(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=dp(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:return _=O0(y.type,y.key,y.props,null,v.mode,_),ed(_,y),_.return=v,_;case ud:return y=fp(y,v.mode,_),y.return=v,y;case fs:return y=Mo(y),f(v,y,_)}if(dd(y)||Xu(y))return y=sl(y,v.mode,_,null),y.return=v,y;if(typeof y.then=="function")return f(v,Bh(y),_);if(y.$$typeof===Di)return f(v,Uh(v,y),_);zh(v,y)}return null}function h(v,y,_,w){var N=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return N!==null?null:o(v,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dh:return _.key===N?l(v,y,_,w):null;case ud:return _.key===N?u(v,y,_,w):null;case fs:return _=Mo(_),h(v,y,_,w)}if(dd(_)||Xu(_))return N!==null?null:d(v,y,_,w,null);if(typeof _.then=="function")return h(v,y,Bh(_),w);if(_.$$typeof===Di)return h(v,y,Uh(v,_),w);zh(v,_)}return null}function m(v,y,_,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(_)||null,o(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dh:return v=v.get(w.key===null?_:w.key)||null,l(y,v,w,N);case ud:return v=v.get(w.key===null?_:w.key)||null,u(y,v,w,N);case fs:return w=Mo(w),m(v,y,_,w,N)}if(dd(w)||Xu(w))return v=v.get(_)||null,d(y,v,w,N,null);if(typeof w.then=="function")return m(v,y,_,Bh(w),N);if(w.$$typeof===Di)return m(v,y,_,Uh(y,w),N);zh(y,w)}return null}function p(v,y,_,w){for(var N=null,U=null,E=y,k=y=0,T=null;E!==null&&k<_.length;k++){E.index>k?(T=E,E=null):T=E.sibling;var b=h(v,E,_[k],w);if(b===null){E===null&&(E=T);break}e&&E&&b.alternate===null&&t(v,E),y=i(b,y,k),U===null?N=b:U.sibling=b,U=b,E=T}if(k===_.length)return r(v,E),it&&Ei(v,k),N;if(E===null){for(;k<_.length;k++)E=f(v,_[k],w),E!==null&&(y=i(E,y,k),U===null?N=E:U.sibling=E,U=E);return it&&Ei(v,k),N}for(E=n(E);k<_.length;k++)T=m(E,v,k,_[k],w),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?k:T.key),y=i(T,y,k),U===null?N=T:U.sibling=T,U=T);return e&&E.forEach(function(D){return t(v,D)}),it&&Ei(v,k),N}function g(v,y,_,w){if(_==null)throw Error(ue(151));for(var N=null,U=null,E=y,k=y=0,T=null,b=_.next();E!==null&&!b.done;k++,b=_.next()){E.index>k?(T=E,E=null):T=E.sibling;var D=h(v,E,b.value,w);if(D===null){E===null&&(E=T);break}e&&E&&D.alternate===null&&t(v,E),y=i(D,y,k),U===null?N=D:U.sibling=D,U=D,E=T}if(b.done)return r(v,E),it&&Ei(v,k),N;if(E===null){for(;!b.done;k++,b=_.next())b=f(v,b.value,w),b!==null&&(y=i(b,y,k),U===null?N=b:U.sibling=b,U=b);return it&&Ei(v,k),N}for(E=n(E);!b.done;k++,b=_.next())b=m(E,v,k,b.value,w),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?k:b.key),y=i(b,y,k),U===null?N=b:U.sibling=b,U=b);return e&&E.forEach(function(R){return t(v,R)}),it&&Ei(v,k),N}function x(v,y,_,w){if(typeof _=="object"&&_!==null&&_.type===oc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Dh:e:{for(var N=_.key;y!==null;){if(y.key===N){if(N=_.type,N===oc){if(y.tag===7){r(v,y.sibling),w=a(y,_.props.children),w.return=v,v=w;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===fs&&Mo(N)===y.type){r(v,y.sibling),w=a(y,_.props),ed(w,_),w.return=v,v=w;break e}r(v,y);break}else t(v,y);y=y.sibling}_.type===oc?(w=sl(_.props.children,v.mode,w,_.key),w.return=v,v=w):(w=O0(_.type,_.key,_.props,null,v.mode,w),ed(w,_),w.return=v,v=w)}return s(v);case ud:e:{for(N=_.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(v,y.sibling),w=a(y,_.children||[]),w.return=v,v=w;break e}else{r(v,y);break}else t(v,y);y=y.sibling}w=fp(_,v.mode,w),w.return=v,v=w}return s(v);case fs:return _=Mo(_),x(v,y,_,w)}if(dd(_))return p(v,y,_,w);if(Xu(_)){if(N=Xu(_),typeof N!="function")throw Error(ue(150));return _=N.call(_),g(v,y,_,w)}if(typeof _.then=="function")return x(v,y,Bh(_),w);if(_.$$typeof===Di)return x(v,y,Uh(v,_),w);zh(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,y!==null&&y.tag===6?(r(v,y.sibling),w=a(y,_),w.return=v,v=w):(r(v,y),w=dp(_,v.mode,w),w.return=v,v=w),s(v)):r(v,y)}return function(v,y,_,w){try{Jd=0;var N=x(v,y,_,w);return Ec=null,N}catch(E){if(E===Tu||E===hg)throw E;var U=Un(29,E,null,v.mode);return U.lanes=w,U.return=v,U}finally{}}}var hl=KT(!0),WT=KT(!1),hs=!1;function n1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Z0(e),UT(e,null,r),t}return fg(e,n,t,r),Z0(e)}function Td(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fT(e,r)}}function mp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Kv=!1;function Cd(){if(Kv){var e=Sc;if(e!==null)throw e}}function Rd(e,t,r,n){Kv=!1;var a=e.updateQueue;hs=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,d=u=l=null,o=i;do{var h=o.lane&-536870913,m=h!==o.lane;if(m?(tt&h)===h:(n&h)===h){h!==0&&h===su&&(Kv=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;h=t;var x=r;switch(g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(x,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(x,f,h):p,h==null)break e;f=It({},f,h);break e;case 2:hs=!0}}h=o.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),ao|=s,e.lanes=s,e.memoizedState=f}}function QT(e,t){if(typeof e!="function")throw Error(ue(191,e));e.call(t)}function YT(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)QT(r[e],t)}var ou=oi(null),rm=oi(0);function jw(e,t){e=Wi,Nt(rm,e),Nt(ou,t),Wi=e|t.baseLanes}function Wv(){Nt(rm,Wi),Nt(ou,ou.current)}function a1(){Wi=rm.current,Rr(ou),Rr(rm)}var Xn=oi(null),pa=null;function gs(e){var t=e.alternate;Nt(Xt,Xt.current&1),Nt(Xn,e),pa===null&&(t===null||ou.current!==null||t.memoizedState!==null)&&(pa=e)}function Qv(e){Nt(Xt,Xt.current),Nt(Xn,e),pa===null&&(pa=e)}function XT(e){e.tag===22?(Nt(Xt,Xt.current),Nt(Xn,e),pa===null&&(pa=e)):ps()}function ps(){Nt(Xt,Xt.current),Nt(Xn,Xn.current)}function In(e){Rr(Xn),pa===e&&(pa=null),Rr(Xt)}var Xt=oi(0);function nm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||mx(r)||gx(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hi=0,We=null,Et=null,ar=null,am=!1,Tc=!1,ml=!1,im=0,ef=0,Cc=null,Jk=0;function Ht(){throw Error(ue(321))}function i1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function s1(e,t,r,n,a,i){return Hi=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$e.H=e===null||e.memoizedState===null?AC:v1,ml=!1,i=r(n,a),ml=!1,Tc&&(i=JT(t,r,n,a)),ZT(e),i}function ZT(e){$e.H=tf;var t=Et!==null&&Et.next!==null;if(Hi=0,ar=Et=We=null,am=!1,ef=0,Cc=null,t)throw Error(ue(300));e===null||or||(e=e.dependencies,e!==null&&em(e)&&(or=!0))}function JT(e,t,r,n){We=e;var a=0;do{if(Tc&&(Cc=null),ef=0,Tc=!1,25<=a)throw Error(ue(301));if(a+=1,ar=Et=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}$e.H=NC,i=t(r,n)}while(Tc);return i}function eD(){var e=$e.H,t=e.useState()[0];return t=typeof t.then=="function"?nh(t):t,e=e.useState()[0],(Et!==null?Et.memoizedState:null)!==e&&(We.flags|=1024),t}function o1(){var e=im!==0;return im=0,e}function l1(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function c1(e){if(am){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}am=!1}Hi=0,ar=Et=We=null,Tc=!1,ef=im=0,Cc=null}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?We.memoizedState=ar=e:ar=ar.next=e,ar}function Zt(){if(Et===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=ar===null?We.memoizedState:ar.next;if(t!==null)ar=t,Et=e;else{if(e===null)throw We.alternate===null?Error(ue(467)):Error(ue(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},ar===null?We.memoizedState=ar=e:ar=ar.next=e}return ar}function mg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(e){var t=ef;return ef+=1,Cc===null&&(Cc=[]),e=GT(Cc,e,t),t=We,(ar===null?t.memoizedState:ar.next)===null&&(t=t.alternate,$e.H=t===null||t.memoizedState===null?AC:v1),e}function gg(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nh(e);if(e.$$typeof===Di)return Lr(e)}throw Error(ue(438,String(e)))}function u1(e){var t=null,r=We.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=We.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=mg(),We.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=U3;return t.index++,r}function Gi(e,t){return typeof t=="function"?t(e):t}function k0(e){var t=Zt();return d1(t,Et,e)}function d1(e,t,r){var n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var o=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(tt&f)===f:(Hi&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===su&&(d=!0);else if((Hi&h)===h){u=u.next,h===su&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=i):l=l.next=f,We.lanes|=h,ao|=h;f=u.action,ml&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,s=i):l=l.next=h,We.lanes|=f,ao|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=i:l.next=o,!Yn(i,e.memoizedState)&&(or=!0,d&&(r=Sc,r!==null)))throw r;e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function gp(e){var t=Zt(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Yn(i,t.memoizedState)||(or=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function eC(e,t,r){var n=We,a=Zt(),i=it;if(i){if(r===void 0)throw Error(ue(407));r=r()}else r=t();var s=!Yn((Et||a).memoizedState,r);if(s&&(a.memoizedState=r,or=!0),a=a.queue,f1(nC.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,lu(9,{destroy:void 0},rC.bind(null,n,a,r,t),null),Ct===null)throw Error(ue(349));i||Hi&127||tC(n,t,r)}return r}function tC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t=mg(),We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rC(e,t,r,n){t.value=r,t.getSnapshot=n,aC(t)&&iC(e)}function nC(e,t,r){return r(function(){aC(t)&&iC(e)})}function aC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function iC(e){var t=Tl(e,2);t!==null&&bn(t,e,2)}function Yv(e){var t=Zr();if(typeof e=="function"){var r=e;if(e=r(),ml){Is(!0);try{r()}finally{Is(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t}function sC(e,t,r,n){return e.baseState=r,d1(e,Et,typeof n=="function"?n:Gi)}function tD(e,t,r,n,a){if(vg(e))throw Error(ue(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};$e.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,oC(t,i)):(i.next=r.next,t.pending=r.next=i)}}function oC(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=$e.T,s={};$e.T=s;try{var o=r(a,n),l=$e.S;l!==null&&l(s,o),kw(e,t,o)}catch(u){Xv(e,t,u)}finally{i!==null&&s.types!==null&&(i.types=s.types),$e.T=i}}else try{i=r(a,n),kw(e,t,i)}catch(u){Xv(e,t,u)}}function kw(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){Dw(e,t,n)},function(n){return Xv(e,t,n)}):Dw(e,t,r)}function Dw(e,t,r){t.status="fulfilled",t.value=r,lC(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,oC(e,r)))}function Xv(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,lC(t),t=t.next;while(t!==n)}e.action=null}function lC(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cC(e,t){return t}function Mw(e,t){if(it){var r=Ct.formState;if(r!==null){e:{var n=We;if(it){if(Dt){t:{for(var a=Dt,i=ha;a.nodeType!==8;){if(!i){a=null;break t}if(a=va(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Dt=va(a.nextSibling),n=a.data==="F!";break e}}ro(n)}n=!1}n&&(t=r[0])}}return r=Zr(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cC,lastRenderedState:t},r.queue=n,r=TC.bind(null,We,n),n.dispatch=r,n=Yv(!1),i=p1.bind(null,We,!1,n.queue),n=Zr(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=tD.bind(null,We,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function Iw(e){var t=Zt();return uC(t,Et,e)}function uC(e,t,r){if(t=d1(e,t,cC)[0],e=k0(Gi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=nh(t)}catch(s){throw s===Tu?hg:s}else n=t;t=Zt();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(We.flags|=2048,lu(9,{destroy:void 0},rD.bind(null,a,r),null)),[n,i,e]}function rD(e,t){e.action=t}function Fw(e){var t=Zt(),r=Et;if(r!==null)return uC(t,r,e);Zt(),t=t.memoizedState,r=Zt();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function lu(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=We.updateQueue,t===null&&(t=mg(),We.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function dC(){return Zt().memoizedState}function D0(e,t,r,n){var a=Zr();We.flags|=e,a.memoizedState=lu(1|t,{destroy:void 0},r,n===void 0?null:n)}function pg(e,t,r,n){var a=Zt();n=n===void 0?null:n;var i=a.memoizedState.inst;Et!==null&&n!==null&&i1(n,Et.memoizedState.deps)?a.memoizedState=lu(t,i,r,n):(We.flags|=e,a.memoizedState=lu(1|t,i,r,n))}function Lw(e,t){D0(8390656,8,e,t)}function f1(e,t){pg(2048,8,e,t)}function nD(e){We.flags|=4;var t=We.updateQueue;if(t===null)t=mg(),We.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function fC(e){var t=Zt().memoizedState;return nD({ref:t,nextImpl:e}),function(){if(dt&2)throw Error(ue(440));return t.impl.apply(void 0,arguments)}}function hC(e,t){return pg(4,2,e,t)}function mC(e,t){return pg(4,4,e,t)}function gC(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pC(e,t,r){r=r!=null?r.concat([e]):null,pg(4,4,gC.bind(null,t,e),r)}function h1(){}function vC(e,t){var r=Zt();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&i1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xC(e,t){var r=Zt();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&i1(t,n[1]))return n[0];if(n=e(),ml){Is(!0);try{e()}finally{Is(!1)}}return r.memoizedState=[n,t],n}function m1(e,t,r){return r===void 0||Hi&1073741824&&!(tt&261930)?e.memoizedState=t:(e.memoizedState=r,e=sR(),We.lanes|=e,ao|=e,r)}function yC(e,t,r,n){return Yn(r,t)?r:ou.current!==null?(e=m1(e,r,n),Yn(e,t)||(or=!0),e):!(Hi&42)||Hi&1073741824&&!(tt&261930)?(or=!0,e.memoizedState=r):(e=sR(),We.lanes|=e,ao|=e,t)}function _C(e,t,r,n,a){var i=ft.p;ft.p=i!==0&&8>i?i:8;var s=$e.T,o={};$e.T=o,p1(e,!1,t,r);try{var l=a(),u=$e.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=Zk(l,n);Ad(e,t,d,Wn(e))}else Ad(e,t,n,Wn(e))}catch(f){Ad(e,t,{then:function(){},status:"rejected",reason:f},Wn())}finally{ft.p=i,s!==null&&o.types!==null&&(s.types=o.types),$e.T=s}}function aD(){}function Zv(e,t,r,n){if(e.tag!==5)throw Error(ue(476));var a=wC(e).queue;_C(e,a,t,il,r===null?aD:function(){return bC(e),r(n)})}function wC(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:il,baseState:il,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:il},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bC(e){var t=wC(e);t.next===null&&(t=e.alternate.memoizedState),Ad(e,t.next.queue,{},Wn())}function g1(){return Lr(af)}function SC(){return Zt().memoizedState}function EC(){return Zt().memoizedState}function iD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Wn();e=Gs(r);var n=Ks(t,e,r);n!==null&&(bn(n,t,r),Td(n,t,r)),t={cache:e1()},e.payload=t;return}t=t.return}}function sD(e,t,r){var n=Wn();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vg(e)?CC(t,r):(r=Yy(e,t,r,n),r!==null&&(bn(r,e,n),RC(r,t,n)))}function TC(e,t,r){var n=Wn();Ad(e,t,r,n)}function Ad(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(vg(e))CC(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Yn(o,s))return fg(e,t,a,0),Ct===null&&dg(),!1}catch{}finally{}if(r=Yy(e,t,a,n),r!==null)return bn(r,e,n),RC(r,t,n),!0}return!1}function p1(e,t,r,n){if(n={lane:2,revertLane:T1(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vg(e)){if(t)throw Error(ue(479))}else t=Yy(e,r,n,2),t!==null&&bn(t,e,2)}function vg(e){var t=e.alternate;return e===We||t!==null&&t===We}function CC(e,t){Tc=am=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function RC(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fT(e,r)}}var tf={readContext:Lr,use:gg,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};tf.useEffectEvent=Ht;var AC={readContext:Lr,use:gg,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Lr,useEffect:Lw,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,D0(4194308,4,gC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return D0(4194308,4,e,t)},useInsertionEffect:function(e,t){D0(4,2,e,t)},useMemo:function(e,t){var r=Zr();t=t===void 0?null:t;var n=e();if(ml){Is(!0);try{e()}finally{Is(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Zr();if(r!==void 0){var a=r(t);if(ml){Is(!0);try{r(t)}finally{Is(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=sD.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:function(e){e=Yv(e);var t=e.queue,r=TC.bind(null,We,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:h1,useDeferredValue:function(e,t){var r=Zr();return m1(r,e,t)},useTransition:function(){var e=Yv(!1);return e=_C.bind(null,We,e.queue,!0,!1),Zr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=We,a=Zr();if(it){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Ct===null)throw Error(ue(349));tt&127||tC(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Lw(nC.bind(null,n,i,e),[e]),n.flags|=2048,lu(9,{destroy:void 0},rC.bind(null,n,i,r,t),null),r},useId:function(){var e=Zr(),t=Ct.identifierPrefix;if(it){var r=Ja,n=Za;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=im++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Jk++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:g1,useFormState:Mw,useActionState:Mw,useOptimistic:function(e){var t=Zr();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=p1.bind(null,We,!0,r),r.dispatch=t,[e,t]},useMemoCache:u1,useCacheRefresh:function(){return Zr().memoizedState=iD.bind(null,We)},useEffectEvent:function(e){var t=Zr(),r={impl:e};return t.memoizedState=r,function(){if(dt&2)throw Error(ue(440));return r.impl.apply(void 0,arguments)}}},v1={readContext:Lr,use:gg,useCallback:vC,useContext:Lr,useEffect:f1,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:mC,useMemo:xC,useReducer:k0,useRef:dC,useState:function(){return k0(Gi)},useDebugValue:h1,useDeferredValue:function(e,t){var r=Zt();return yC(r,Et.memoizedState,e,t)},useTransition:function(){var e=k0(Gi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:nh(e),t]},useSyncExternalStore:eC,useId:SC,useHostTransitionStatus:g1,useFormState:Iw,useActionState:Iw,useOptimistic:function(e,t){var r=Zt();return sC(r,Et,e,t)},useMemoCache:u1,useCacheRefresh:EC};v1.useEffectEvent=fC;var NC={readContext:Lr,use:gg,useCallback:vC,useContext:Lr,useEffect:f1,useImperativeHandle:pC,useInsertionEffect:hC,useLayoutEffect:mC,useMemo:xC,useReducer:gp,useRef:dC,useState:function(){return gp(Gi)},useDebugValue:h1,useDeferredValue:function(e,t){var r=Zt();return Et===null?m1(r,e,t):yC(r,Et.memoizedState,e,t)},useTransition:function(){var e=gp(Gi)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:nh(e),t]},useSyncExternalStore:eC,useId:SC,useHostTransitionStatus:g1,useFormState:Fw,useActionState:Fw,useOptimistic:function(e,t){var r=Zt();return Et!==null?sC(r,Et,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:u1,useCacheRefresh:EC};NC.useEffectEvent=fC;function pp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:It({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jv={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),a=Gs(n);a.payload=t,r!=null&&(a.callback=r),t=Ks(e,a,n),t!==null&&(bn(t,e,n),Td(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),a=Gs(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ks(e,a,n),t!==null&&(bn(t,e,n),Td(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=Gs(r);n.tag=2,t!=null&&(n.callback=t),t=Ks(e,n,r),t!==null&&(bn(t,e,r),Td(t,e,r))}};function Pw(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Yd(r,n)||!Yd(a,i):!0}function Uw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jv.enqueueReplaceState(t,t.state,null)}function gl(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=It({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function OC(e){X0(e)}function jC(e){console.error(e)}function kC(e){X0(e)}function sm(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Bw(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ex(e,t,r){return r=Gs(r),r.tag=3,r.payload={element:null},r.callback=function(){sm(e,t)},r}function DC(e){return e=Gs(e),e.tag=3,e}function MC(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){Bw(t,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Bw(t,r,n),typeof a!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function oD(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&Eu(t,r,a,!0),r=Xn.current,r!==null){switch(r.tag){case 31:case 13:return pa===null?dm():r.alternate===null&&Wt===0&&(Wt=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===tm?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Rp(e,n,a)),!1;case 22:return r.flags|=65536,n===tm?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Rp(e,n,a)),!1}throw Error(ue(435,r.tag))}return Rp(e,n,a),dm(),!1}if(it)return t=Xn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==zv&&(e=Error(ue(422),{cause:n}),Zd(fa(e,r)))):(n!==zv&&(t=Error(ue(423),{cause:n}),Zd(fa(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=fa(n,r),a=ex(e.stateNode,n,a),mp(e,a),Wt!==4&&(Wt=2)),!1;var i=Error(ue(520),{cause:n});if(i=fa(i,r),jd===null?jd=[i]:jd.push(i),Wt!==4&&(Wt=2),t===null)return!0;n=fa(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=ex(r.stateNode,n,e),mp(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ws===null||!Ws.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=DC(a),MC(a,e,r,n),mp(r,a),!1}r=r.return}while(r!==null);return!1}var x1=Error(ue(461)),or=!1;function jr(e,t,r,n){t.child=e===null?WT(t,null,r,n):hl(t,e.child,r,n)}function zw(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return fl(t),n=s1(e,t,r,s,i,a),o=o1(),e!==null&&!or?(l1(e,t,a),Ki(e,t,a)):(it&&o&&Zy(t),t.flags|=1,jr(e,t,n,a),t.child)}function $w(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Xy(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,IC(e,t,i,n,a)):(e=O0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!y1(e,a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yd,r(s,n)&&e.ref===t.ref)return Ki(e,t,a)}return t.flags|=1,e=Li(i,n),e.ref=t.ref,e.return=t,t.child=e}function IC(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Yd(i,n)&&e.ref===t.ref)if(or=!1,t.pendingProps=n=i,y1(e,a))e.flags&131072&&(or=!0);else return t.lanes=e.lanes,Ki(e,t,a)}return tx(e,t,r,n,a)}function FC(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return qw(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&j0(t,i!==null?i.cachePool:null),i!==null?jw(t,i):Wv(),XT(t);else return n=t.lanes=536870912,qw(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(j0(t,i.cachePool),jw(t,i),ps(),t.memoizedState=null):(e!==null&&j0(t,null),Wv(),ps());return jr(e,t,a,r),t.child}function hd(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qw(e,t,r,n,a){var i=t1();return i=i===null?null:{parent:sr._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&j0(t,null),Wv(),XT(t),e!==null&&Eu(e,t,n,!0),t.childLanes=a,null}function M0(e,t){return t=om({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vw(e,t,r){return hl(t,e.child,null,r),e=M0(t,t.pendingProps),e.flags|=2,In(t),t.memoizedState=null,e}function lD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(it){if(n.mode==="hidden")return e=M0(t,n),t.lanes=536870912,hd(null,e);if(Qv(t),(e=Dt)?(e=AR(e,ha),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:to!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},r=zT(e),r.return=t,t.child=r,Mr=t,Dt=null)):e=null,e===null)throw ro(t);return t.lanes=536870912,null}return M0(t,n)}var i=e.memoizedState;if(i!==null){var s=i.dehydrated;if(Qv(t),a)if(t.flags&256)t.flags&=-257,t=Vw(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(ue(558));else if(or||Eu(e,t,r,!1),a=(r&e.childLanes)!==0,or||a){if(n=Ct,n!==null&&(s=hT(n,r),s!==0&&s!==i.retryLane))throw i.retryLane=s,Tl(e,s),bn(n,e,s),x1;dm(),t=Vw(e,t,r)}else e=i.treeContext,Dt=va(s.nextSibling),Mr=t,it=!0,Hs=null,ha=!1,e!==null&&qT(t,e),t=M0(t,n),t.flags|=4096;return t}return e=Li(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function I0(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(ue(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function tx(e,t,r,n,a){return fl(t),r=s1(e,t,r,n,void 0,a),n=o1(),e!==null&&!or?(l1(e,t,a),Ki(e,t,a)):(it&&n&&Zy(t),t.flags|=1,jr(e,t,r,a),t.child)}function Hw(e,t,r,n,a,i){return fl(t),t.updateQueue=null,r=JT(t,n,r,a),ZT(e),n=o1(),e!==null&&!or?(l1(e,t,i),Ki(e,t,i)):(it&&n&&Zy(t),t.flags|=1,jr(e,t,r,i),t.child)}function Gw(e,t,r,n,a){if(fl(t),t.stateNode===null){var i=gc,s=r.contextType;typeof s=="object"&&s!==null&&(i=Lr(s)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Jv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},n1(t),s=r.contextType,i.context=typeof s=="object"&&s!==null?Lr(s):gc,i.state=t.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(pp(t,r,s,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Jv.enqueueReplaceState(i,i.state,null),Rd(t,n,i,a),Cd(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,l=gl(r,o);i.props=l;var u=i.context,d=r.contextType;s=gc,typeof d=="object"&&d!==null&&(s=Lr(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==s)&&Uw(t,i,n,s),hs=!1;var h=t.memoizedState;i.state=h,Rd(t,n,i,a),Cd(),u=t.memoizedState,o||h!==u||hs?(typeof f=="function"&&(pp(t,r,f,n),u=t.memoizedState),(l=hs||Pw(t,r,l,n,h,u,s))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=s,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Gv(e,t),s=t.memoizedProps,d=gl(r,s),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,l=gc,typeof u=="object"&&u!==null&&(l=Lr(u)),o=r.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Uw(t,i,n,l),hs=!1,h=t.memoizedState,i.state=h,Rd(t,n,i,a),Cd();var m=t.memoizedState;s!==f||h!==m||hs||e!==null&&e.dependencies!==null&&em(e.dependencies)?(typeof o=="function"&&(pp(t,r,o,n),m=t.memoizedState),(d=hs||Pw(t,r,d,n,h,m,l)||e!==null&&e.dependencies!==null&&em(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=d):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,I0(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=hl(t,e.child,null,a),t.child=hl(t,null,r,a)):jr(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Ki(e,t,a),e}function Kw(e,t,r,n){return dl(),t.flags|=256,jr(e,t,r,n),t.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(e){return{baseLanes:e,cachePool:HT()}}function yp(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=qn),e}function LC(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(it){if(a?gs(t):ps(),(e=Dt)?(e=AR(e,ha),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:to!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},r=zT(e),r.return=t,t.child=r,Mr=t,Dt=null)):e=null,e===null)throw ro(t);return gx(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,a?(ps(),a=t.mode,o=om({mode:"hidden",children:o},a),n=sl(n,a,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=xp(r),n.childLanes=yp(e,s,r),t.memoizedState=vp,hd(null,n)):(gs(t),rx(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(i)t.flags&256?(gs(t),t.flags&=-257,t=_p(e,t,r)):t.memoizedState!==null?(ps(),t.child=e.child,t.flags|=128,t=null):(ps(),o=n.fallback,a=t.mode,n=om({mode:"visible",children:n.children},a),o=sl(o,a,r,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,hl(t,e.child,null,r),n=t.child,n.memoizedState=xp(r),n.childLanes=yp(e,s,r),t.memoizedState=vp,t=hd(null,n));else if(gs(t),gx(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,n=Error(ue(419)),n.stack="",n.digest=s,Zd({value:n,source:null,stack:null}),t=_p(e,t,r)}else if(or||Eu(e,t,r,!1),s=(r&e.childLanes)!==0,or||s){if(s=Ct,s!==null&&(n=hT(s,r),n!==0&&n!==l.retryLane))throw l.retryLane=n,Tl(e,n),bn(s,e,n),x1;mx(o)||dm(),t=_p(e,t,r)}else mx(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Dt=va(o.nextSibling),Mr=t,it=!0,Hs=null,ha=!1,e!==null&&qT(t,e),t=rx(t,n.children),t.flags|=4096);return t}return a?(ps(),o=n.fallback,a=t.mode,l=e.child,u=l.sibling,n=Li(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Li(u,o):(o=sl(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,hd(null,n),n=t.child,o=e.child.memoizedState,o===null?o=xp(r):(a=o.cachePool,a!==null?(l=sr._currentValue,a=a.parent!==l?{parent:l,pool:l}:a):a=HT(),o={baseLanes:o.baseLanes|r,cachePool:a}),n.memoizedState=o,n.childLanes=yp(e,s,r),t.memoizedState=vp,hd(e.child,n)):(gs(t),r=e.child,e=r.sibling,r=Li(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r)}function rx(e,t){return t=om({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function om(e,t){return e=Un(22,e,null,t),e.lanes=0,e}function _p(e,t,r){return hl(t,e.child,null,r),e=rx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ww(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qv(e.return,t,r)}function wp(e,t,r,n,a,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a,s.treeForkCount=i)}function PC(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var s=Xt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Nt(Xt,s),jr(e,t,n,r),n=it?Xd:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ww(e,r,t);else if(e.tag===19)Ww(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wp(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wp(t,!0,r,null,i,n);break;case"together":wp(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ki(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ao|=t.lanes,!(r&t.childLanes))if(e!==null){if(Eu(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Li(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Li(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y1(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&em(e)))}function cD(e,t,r){switch(t.tag){case 3:K0(t,t.stateNode.containerInfo),ms(t,sr,e.memoizedState.cache),dl();break;case 27:case 5:Ov(t);break;case 4:K0(t,t.stateNode.containerInfo);break;case 10:ms(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qv(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(gs(t),t.flags|=128,null):r&t.child.childLanes?LC(e,t,r):(gs(t),e=Ki(e,t,r),e!==null?e.sibling:null);gs(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(Eu(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return PC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Xt,Xt.current),n)break;return null;case 22:return t.lanes=0,FC(e,t,r,t.pendingProps);case 24:ms(t,sr,e.memoizedState.cache)}return Ki(e,t,r)}function UC(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)or=!0;else{if(!y1(e,r)&&!(t.flags&128))return or=!1,cD(e,t,r);or=!!(e.flags&131072)}else or=!1,it&&t.flags&1048576&&$T(t,Xd,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Mo(t.elementType),t.type=e,typeof e=="function")Xy(e)?(n=gl(e,n),t.tag=1,t=Gw(null,t,e,n,r)):(t.tag=0,t=tx(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Ly){t.tag=11,t=zw(null,t,e,n,r);break e}else if(a===Py){t.tag=14,t=$w(null,t,e,n,r);break e}}throw t=Av(e)||e,Error(ue(306,t,""))}}return t;case 0:return tx(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=gl(n,t.pendingProps),Gw(e,t,n,a,r);case 3:e:{if(K0(t,t.stateNode.containerInfo),e===null)throw Error(ue(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Gv(e,t),Rd(t,n,null,r);var s=t.memoizedState;if(n=s.cache,ms(t,sr,n),n!==i.cache&&Vv(t,[sr],r,!0),Cd(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Kw(e,t,n,r);break e}else if(n!==a){a=fa(Error(ue(424)),t),Zd(a),t=Kw(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Dt=va(e.firstChild),Mr=t,it=!0,Hs=null,ha=!0,r=WT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(dl(),n===a){t=Ki(e,t,r);break e}jr(e,t,n,r)}t=t.child}return t;case 26:return I0(e,t),e===null?(r=mb(t.type,null,t.pendingProps,null))?t.memoizedState=r:it||(r=t.type,e=t.pendingProps,n=gm(Vs.current).createElement(r),n[Dr]=t,n[En]=e,Pr(n,r,e),Sr(n),t.stateNode=n):t.memoizedState=mb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ov(t),e===null&&it&&(n=t.stateNode=NR(t.type,t.pendingProps,Vs.current),Mr=t,ha=!0,a=Dt,po(t.type)?(px=a,Dt=va(n.firstChild)):Dt=a),jr(e,t,t.pendingProps.children,r),I0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&it&&((a=n=Dt)&&(n=UD(n,t.type,t.pendingProps,ha),n!==null?(t.stateNode=n,Mr=t,Dt=va(n.firstChild),ha=!1,a=!0):a=!1),a||ro(t)),Ov(t),a=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,n=i.children,fx(a,i)?n=null:s!==null&&fx(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=s1(e,t,eD,null,null,r),af._currentValue=a),I0(e,t),jr(e,t,n,r),t.child;case 6:return e===null&&it&&((e=r=Dt)&&(r=BD(r,t.pendingProps,ha),r!==null?(t.stateNode=r,Mr=t,Dt=null,e=!0):e=!1),e||ro(t)),null;case 13:return LC(e,t,r);case 4:return K0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hl(t,null,n,r):jr(e,t,n,r),t.child;case 11:return zw(e,t,t.type,t.pendingProps,r);case 7:return jr(e,t,t.pendingProps,r),t.child;case 8:return jr(e,t,t.pendingProps.children,r),t.child;case 12:return jr(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ms(t,t.type,n.value),jr(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,fl(t),a=Lr(a),n=n(a),t.flags|=1,jr(e,t,n,r),t.child;case 14:return $w(e,t,t.type,t.pendingProps,r);case 15:return IC(e,t,t.type,t.pendingProps,r);case 19:return PC(e,t,r);case 31:return lD(e,t,r);case 22:return FC(e,t,r,t.pendingProps);case 24:return fl(t),n=Lr(sr),e===null?(a=t1(),a===null&&(a=Ct,i=e1(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},n1(t),ms(t,sr,a)):(e.lanes&r&&(Gv(e,t),Rd(t,null,null,r),Cd()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ms(t,sr,n)):(n=i.cache,ms(t,sr,n),n!==a.cache&&Vv(t,[sr],r,!0))),jr(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(ue(156,t.tag))}function gi(e){e.flags|=4}function bp(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(cR())e.flags|=8192;else throw ll=tm,r1}else e.flags&=-16777217}function Qw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!kR(t))if(cR())e.flags|=8192;else throw ll=tm,r1}function $h(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?uT():536870912,e.lanes|=t,cu|=t)}function td(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uD(e,t,r){var n=t.pendingProps;switch(Jy(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return jt(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pi(sr),nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?gi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hp())),jt(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(gi(t),i!==null?(jt(t),Qw(t,i)):(jt(t),bp(t,a,null,n,r))):i?i!==e.memoizedState?(gi(t),jt(t),Qw(t,i)):(jt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&gi(t),jt(t),bp(t,a,e,n,r)),null;case 27:if(W0(t),r=Vs.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gi(t);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return jt(t),null}e=ri.current,Ul(t)?Ew(t):(e=NR(a,n,r),t.stateNode=e,gi(t))}return jt(t),null;case 5:if(W0(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gi(t);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return jt(t),null}if(i=ri.current,Ul(t))Ew(t);else{var s=gm(Vs.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}i[Dr]=t,i[En]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(Pr(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gi(t)}}return jt(t),bp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&gi(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(e=Vs.current,Ul(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Mr,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Dr]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||TR(e.nodeValue,r)),e||ro(t,!0)}else e=gm(e).createTextNode(n),e[Dr]=t,t.stateNode=e}return jt(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Ul(t),r!==null){if(e===null){if(!n)throw Error(ue(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(557));e[Dr]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),e=!1}else r=hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(In(t),t):(In(t),null);if(t.flags&128)throw Error(ue(558))}return jt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ul(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Dr]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),a=!1}else a=hp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(In(t),t):(In(t),null)}return In(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$h(t,t.updateQueue),jt(t),null);case 4:return nu(),e===null&&C1(t.stateNode.containerInfo),jt(t),null;case 10:return Pi(t.type),jt(t),null;case 19:if(Rr(Xt),n=t.memoizedState,n===null)return jt(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)td(n,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=nm(e),i!==null){for(t.flags|=128,td(n,!1),e=i.updateQueue,t.updateQueue=e,$h(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)BT(r,e),r=r.sibling;return Nt(Xt,Xt.current&1|2),it&&Ei(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Hn()>cm&&(t.flags|=128,a=!0,td(n,!1),t.lanes=4194304)}else{if(!a)if(e=nm(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$h(t,e),td(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!it)return jt(t),null}else 2*Hn()-n.renderingStartTime>cm&&r!==536870912&&(t.flags|=128,a=!0,td(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Hn(),e.sibling=null,r=Xt.current,Nt(Xt,a?r&1|2:r&1),it&&Ei(t,n.treeForkCount),e):(jt(t),null);case 22:case 23:return In(t),a1(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),r=t.updateQueue,r!==null&&$h(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&Rr(ol),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pi(sr),jt(t),null;case 25:return null;case 30:return null}throw Error(ue(156,t.tag))}function dD(e,t){switch(Jy(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pi(sr),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return W0(t),null;case 31:if(t.memoizedState!==null){if(In(t),t.alternate===null)throw Error(ue(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(In(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rr(Xt),null;case 4:return nu(),null;case 10:return Pi(t.type),null;case 22:case 23:return In(t),a1(),e!==null&&Rr(ol),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pi(sr),null;case 25:return null;default:return null}}function BC(e,t){switch(Jy(t),t.tag){case 3:Pi(sr),nu();break;case 26:case 27:case 5:W0(t);break;case 4:nu();break;case 31:t.memoizedState!==null&&In(t);break;case 13:In(t);break;case 19:Rr(Xt);break;case 10:Pi(t.type);break;case 22:case 23:In(t),a1(),e!==null&&Rr(ol);break;case 24:Pi(sr)}}function ah(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){xt(t,t.return,o)}}function no(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var l=r,u=o;try{u()}catch(d){xt(a,l,d)}}}n=n.next}while(n!==i)}}catch(d){xt(t,t.return,d)}}function zC(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{YT(t,r)}catch(n){xt(e,e.return,n)}}}function $C(e,t,r){r.props=gl(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){xt(e,t,n)}}function Nd(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){xt(e,t,a)}}function ei(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){xt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){xt(e,t,a)}else r.current=null}function qC(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){xt(e,e.return,a)}}function Sp(e,t,r){try{var n=e.stateNode;DD(n,e.type,r,t),n[En]=t}catch(a){xt(e,e.return,a)}}function VC(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&po(e.type)||e.tag===4}function Ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&po(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mi));else if(n!==4&&(n===27&&po(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(nx(e,t,r),e=e.sibling;e!==null;)nx(e,t,r),e=e.sibling}function lm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&po(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(lm(e,t,r),e=e.sibling;e!==null;)lm(e,t,r),e=e.sibling}function HC(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Pr(t,n,r),t[Dr]=e,t[En]=r}catch(i){xt(e,e.return,i)}}var ki=!1,ir=!1,Tp=!1,Yw=typeof WeakSet=="function"?WeakSet:Set,br=null;function fD(e,t){if(e=e.containerInfo,ux=ym,e=kT(e),Wy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dx={focusedElem:e,selectionRange:r},ym=!1,br=t;br!==null;)if(t=br,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,br=e;else for(;br!==null;){switch(t=br,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=gl(r.type,a);e=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){xt(r,r.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)hx(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hx(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ue(163))}if(e=t.sibling,e!==null){e.return=t.return,br=e;break}br=t.return}}function GC(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:vi(e,r),n&4&&ah(5,r);break;case 1:if(vi(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(s){xt(r,r.return,s)}else{var a=gl(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){xt(r,r.return,s)}}n&64&&zC(r),n&512&&Nd(r,r.return);break;case 3:if(vi(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{YT(e,t)}catch(s){xt(r,r.return,s)}}break;case 27:t===null&&n&4&&HC(r);case 26:case 5:vi(e,r),t===null&&n&4&&qC(r),n&512&&Nd(r,r.return);break;case 12:vi(e,r);break;case 31:vi(e,r),n&4&&QC(e,r);break;case 13:vi(e,r),n&4&&YC(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=wD.bind(null,r),zD(e,r))));break;case 22:if(n=r.memoizedState!==null||ki,!n){t=t!==null&&t.memoizedState!==null||ir,a=ki;var i=ir;ki=n,(ir=t)&&!i?_i(e,r,(r.subtreeFlags&8772)!==0):vi(e,r),ki=a,ir=i}break;case 30:break;default:vi(e,r)}}function KC(e){var t=e.alternate;t!==null&&(e.alternate=null,KC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$y(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Bt=null,pn=!1;function pi(e,t,r){for(r=r.child;r!==null;)WC(e,t,r),r=r.sibling}function WC(e,t,r){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Xf,r)}catch{}switch(r.tag){case 26:ir||ei(r,t),pi(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ir||ei(r,t);var n=Bt,a=pn;po(r.type)&&(Bt=r.stateNode,pn=!1),pi(e,t,r),Dd(r.stateNode),Bt=n,pn=a;break;case 5:ir||ei(r,t);case 6:if(n=Bt,a=pn,Bt=null,pi(e,t,r),Bt=n,pn=a,Bt!==null)if(pn)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(r.stateNode)}catch(i){xt(r,t,i)}else try{Bt.removeChild(r.stateNode)}catch(i){xt(r,t,i)}break;case 18:Bt!==null&&(pn?(e=Bt,cb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hu(e)):cb(Bt,r.stateNode));break;case 4:n=Bt,a=pn,Bt=r.stateNode.containerInfo,pn=!0,pi(e,t,r),Bt=n,pn=a;break;case 0:case 11:case 14:case 15:no(2,r,t),ir||no(4,r,t),pi(e,t,r);break;case 1:ir||(ei(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&$C(r,t,n)),pi(e,t,r);break;case 21:pi(e,t,r);break;case 22:ir=(n=ir)||r.memoizedState!==null,pi(e,t,r),ir=n;break;default:pi(e,t,r)}}function QC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hu(e)}catch(r){xt(t,t.return,r)}}}function YC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hu(e)}catch(r){xt(t,t.return,r)}}function hD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yw),t;default:throw Error(ue(435,e.tag))}}function qh(e,t){var r=hD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=bD.bind(null,e,n);n.then(a,a)}})}function un(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(po(o.type)){Bt=o.stateNode,pn=!1;break e}break;case 5:Bt=o.stateNode,pn=!1;break e;case 3:case 4:Bt=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(Bt===null)throw Error(ue(160));WC(i,s,a),Bt=null,pn=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)XC(t,e),t=t.sibling}var Oa=null;function XC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),dn(e),n&4&&(no(3,e,e.return),ah(3,e),no(5,e,e.return));break;case 1:un(t,e),dn(e),n&512&&(ir||r===null||ei(r,r.return)),n&64&&ki&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=Oa;if(un(t,e),dn(e),n&512&&(ir||r===null||ei(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[eh]||i[Dr]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Pr(i,n,r),i[Dr]=e,Sr(i),n=i;break e;case"link":var s=pb("link","href",a).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(n),Pr(i,n,r),a.head.appendChild(i);break;case"meta":if(s=pb("meta","content",a).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}i=a.createElement(n),Pr(i,n,r),a.head.appendChild(i);break;default:throw Error(ue(468,n))}i[Dr]=e,Sr(i),n=i}e.stateNode=n}else vb(a,e.type,e.stateNode);else e.stateNode=gb(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?vb(a,e.type,e.stateNode):gb(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Sp(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(t,e),dn(e),n&512&&(ir||r===null||ei(r,r.return)),r!==null&&n&4&&Sp(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(t,e),dn(e),n&512&&(ir||r===null||ei(r,r.return)),e.flags&32){a=e.stateNode;try{iu(a,"")}catch(p){xt(e,e.return,p)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,Sp(e,a,r!==null?r.memoizedProps:a)),n&1024&&(Tp=!0);break;case 6:if(un(t,e),dn(e),n&4){if(e.stateNode===null)throw Error(ue(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(p){xt(e,e.return,p)}}break;case 3:if(P0=null,a=Oa,Oa=pm(t.containerInfo),un(t,e),Oa=a,dn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hu(t.containerInfo)}catch(p){xt(e,e.return,p)}Tp&&(Tp=!1,ZC(e));break;case 4:n=Oa,Oa=pm(e.stateNode.containerInfo),un(t,e),dn(e),Oa=n;break;case 12:un(t,e),dn(e);break;case 31:un(t,e),dn(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qh(e,n)));break;case 13:un(t,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xg=Hn()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qh(e,n)));break;case 22:a=e.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,u=ki,d=ir;if(ki=u||a,ir=d||l,un(t,e),ir=d,ki=u,dn(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||l||ki||ir||Io(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){l=r=t;try{if(i=l.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){xt(l,l.return,p)}}}else if(t.tag===6){if(r===null){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(p){xt(l,l.return,p)}}}else if(t.tag===18){if(r===null){l=t;try{var m=l.stateNode;a?ub(m,!0):ub(l.stateNode,!1)}catch(p){xt(l,l.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,qh(e,r))));break;case 19:un(t,e),dn(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qh(e,n)));break;case 30:break;case 21:break;default:un(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(VC(n)){r=n;break}n=n.return}if(r==null)throw Error(ue(160));switch(r.tag){case 27:var a=r.stateNode,i=Ep(e);lm(e,i,a);break;case 5:var s=r.stateNode;r.flags&32&&(iu(s,""),r.flags&=-33);var o=Ep(e);lm(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Ep(e);nx(e,u,l);break;default:throw Error(ue(161))}}catch(d){xt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZC(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)GC(e,t.alternate,t),t=t.sibling}function Io(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:no(4,t,t.return),Io(t);break;case 1:ei(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&$C(t,t.return,r),Io(t);break;case 27:Dd(t.stateNode);case 26:case 5:ei(t,t.return),Io(t);break;case 22:t.memoizedState===null&&Io(t);break;case 30:Io(t);break;default:Io(t)}e=e.sibling}}function _i(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:_i(a,i,r),ah(4,i);break;case 1:if(_i(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){xt(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)QT(l[a],o)}catch(u){xt(n,n.return,u)}}r&&s&64&&zC(i),Nd(i,i.return);break;case 27:HC(i);case 26:case 5:_i(a,i,r),r&&n===null&&s&4&&qC(i),Nd(i,i.return);break;case 12:_i(a,i,r);break;case 31:_i(a,i,r),r&&s&4&&QC(a,i);break;case 13:_i(a,i,r),r&&s&4&&YC(a,i);break;case 22:i.memoizedState===null&&_i(a,i,r),Nd(i,i.return);break;case 30:break;default:_i(a,i,r)}t=t.sibling}}function _1(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&rh(r))}function w1(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rh(e))}function Sa(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JC(e,t,r,n),t=t.sibling}function JC(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Sa(e,t,r,n),a&2048&&ah(9,t);break;case 1:Sa(e,t,r,n);break;case 3:Sa(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rh(e)));break;case 12:if(a&2048){Sa(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){xt(t,t.return,l)}}else Sa(e,t,r,n);break;case 31:Sa(e,t,r,n);break;case 13:Sa(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,t.memoizedState!==null?i._visibility&2?Sa(e,t,r,n):Od(e,t):i._visibility&2?Sa(e,t,r,n):(i._visibility|=2,tc(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&_1(s,t);break;case 24:Sa(e,t,r,n),a&2048&&w1(t.alternate,t);break;default:Sa(e,t,r,n)}}function tc(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,s=t,o=r,l=n,u=s.flags;switch(s.tag){case 0:case 11:case 15:tc(i,s,o,l,a),ah(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?tc(i,s,o,l,a):Od(i,s):(d._visibility|=2,tc(i,s,o,l,a)),a&&u&2048&&_1(s.alternate,s);break;case 24:tc(i,s,o,l,a),a&&u&2048&&w1(s.alternate,s);break;default:tc(i,s,o,l,a)}t=t.sibling}}function Od(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Od(r,n),a&2048&&_1(n.alternate,n);break;case 24:Od(r,n),a&2048&&w1(n.alternate,n);break;default:Od(r,n)}t=t.sibling}}var md=8192;function Bl(e,t,r){if(e.subtreeFlags&md)for(e=e.child;e!==null;)eR(e,t,r),e=e.sibling}function eR(e,t,r){switch(e.tag){case 26:Bl(e,t,r),e.flags&md&&e.memoizedState!==null&&JD(r,Oa,e.memoizedState,e.memoizedProps);break;case 5:Bl(e,t,r);break;case 3:case 4:var n=Oa;Oa=pm(e.stateNode.containerInfo),Bl(e,t,r),Oa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=md,md=16777216,Bl(e,t,r),md=n):Bl(e,t,r));break;default:Bl(e,t,r)}}function tR(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];br=n,nR(n,e)}tR(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rR(e),e=e.sibling}function rR(e){switch(e.tag){case 0:case 11:case 15:rd(e),e.flags&2048&&no(9,e,e.return);break;case 3:rd(e);break;case 12:rd(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,F0(e)):rd(e);break;default:rd(e)}}function F0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];br=n,nR(n,e)}tR(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:no(8,t,t.return),F0(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,F0(t));break;default:F0(t)}e=e.sibling}}function nR(e,t){for(;br!==null;){var r=br;switch(r.tag){case 0:case 11:case 15:no(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:rh(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,br=n;else e:for(r=e;br!==null;){n=br;var a=n.sibling,i=n.return;if(KC(n),n===r){br=null;break e}if(a!==null){a.return=i,br=a;break e}br=i}}}var mD={getCacheForType:function(e){var t=Lr(sr),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Lr(sr).controller.signal}},gD=typeof WeakMap=="function"?WeakMap:Map,dt=0,Ct=null,et=null,tt=0,gt=0,kn=null,Ls=!1,Cu=!1,b1=!1,Wi=0,Wt=0,ao=0,cl=0,S1=0,qn=0,cu=0,jd=null,xn=null,ax=!1,xg=0,aR=0,cm=1/0,um=null,Ws=null,gr=0,Qs=null,uu=null,Ui=0,ix=0,sx=null,iR=null,kd=0,ox=null;function Wn(){return dt&2&&tt!==0?tt&-tt:$e.T!==null?T1():mT()}function sR(){if(qn===0)if(!(tt&536870912)||it){var e=Ih;Ih<<=1,!(Ih&3932160)&&(Ih=262144),qn=e}else qn=536870912;return e=Xn.current,e!==null&&(e.flags|=32),qn}function bn(e,t,r){(e===Ct&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(du(e,0),Ps(e,tt,qn,!1)),Jf(e,r),(!(dt&2)||e!==Ct)&&(e===Ct&&(!(dt&2)&&(cl|=r),Wt===4&&Ps(e,tt,qn,!1)),li(e))}function oR(e,t,r){if(dt&6)throw Error(ue(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Zf(e,t),a=n?xD(e,t):Cp(e,t,!0),i=n;do{if(a===0){Cu&&!n&&Ps(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!pD(r)){a=Cp(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var o=e;a=jd;var l=o.current.memoizedState.isDehydrated;if(l&&(du(o,s).flags|=256),s=Cp(o,s,!1),s!==2){if(b1&&!l){o.errorRecoveryDisabledLanes|=i,cl|=i,a=4;break e}i=xn,xn=a,i!==null&&(xn===null?xn=i:xn.push.apply(xn,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){du(e,0),Ps(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(ue(345));case 4:if((t&4194048)!==t)break;case 6:Ps(n,t,qn,!Ls);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(ue(329))}if((t&62914560)===t&&(a=xg+300-Hn(),10<a)){if(Ps(n,t,qn,!Ls),og(n,0,!0)!==0)break e;Ui=t,n.timeoutHandle=RR(Xw.bind(null,n,r,xn,um,ax,t,qn,cl,cu,Ls,i,"Throttled",-0,0),a);break e}Xw(n,r,xn,um,ax,t,qn,cl,cu,Ls,i,null,-0,0)}}break}while(1);li(e)}function Xw(e,t,r,n,a,i,s,o,l,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},eR(t,i,f);var p=(i&62914560)===i?xg-Hn():(i&4194048)===i?aR-Hn():0;if(p=eM(f,p),p!==null){Ui=i,e.cancelPendingCommit=p(Jw.bind(null,e,t,i,r,n,a,s,o,l,d,f,null,h,m)),Ps(e,i,s,!u);return}}Jw(e,t,i,r,n,a,s,o,l)}function pD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Yn(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t,r,n){t&=~S1,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-Kn(a),s=1<<i;n[i]=-1,a&=~s}r!==0&&dT(e,r,t)}function yg(){return dt&6?!0:(ih(0,!1),!1)}function E1(){if(et!==null){if(gt===0)var e=et.return;else e=et,Ii=Cl=null,c1(e),Ec=null,Jd=0,e=et;for(;e!==null;)BC(e.alternate,e),e=e.return;et=null}}function du(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,FD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ui=0,E1(),Ct=e,et=r=Li(e.current,null),tt=t,gt=0,kn=null,Ls=!1,Cu=Zf(e,t),b1=!1,cu=qn=S1=cl=ao=Wt=0,xn=jd=null,ax=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-Kn(n),i=1<<a;t|=e[a],n&=~i}return Wi=t,dg(),r}function lR(e,t){We=null,$e.H=tf,t===Tu||t===hg?(t=Nw(),gt=3):t===r1?(t=Nw(),gt=4):gt=t===x1?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kn=t,et===null&&(Wt=1,sm(e,fa(t,e.current)))}function cR(){var e=Xn.current;return e===null?!0:(tt&4194048)===tt?pa===null:(tt&62914560)===tt||tt&536870912?e===pa:!1}function uR(){var e=$e.H;return $e.H=tf,e===null?tf:e}function dR(){var e=$e.A;return $e.A=mD,e}function dm(){Wt=4,Ls||(tt&4194048)!==tt&&Xn.current!==null||(Cu=!0),!(ao&134217727)&&!(cl&134217727)||Ct===null||Ps(Ct,tt,qn,!1)}function Cp(e,t,r){var n=dt;dt|=2;var a=uR(),i=dR();(Ct!==e||tt!==t)&&(um=null,du(e,t)),t=!1;var s=Wt;e:do try{if(gt!==0&&et!==null){var o=et,l=kn;switch(gt){case 8:E1(),s=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(t=!0);var u=gt;if(gt=0,kn=null,xc(e,o,l,u),r&&Cu){s=0;break e}break;default:u=gt,gt=0,kn=null,xc(e,o,l,u)}}vD(),s=Wt;break}catch(d){lR(e,d)}while(1);return t&&e.shellSuspendCounter++,Ii=Cl=null,dt=n,$e.H=a,$e.A=i,et===null&&(Ct=null,tt=0,dg()),s}function vD(){for(;et!==null;)fR(et)}function xD(e,t){var r=dt;dt|=2;var n=uR(),a=dR();Ct!==e||tt!==t?(um=null,cm=Hn()+500,du(e,t)):Cu=Zf(e,t);e:do try{if(gt!==0&&et!==null){t=et;var i=kn;t:switch(gt){case 1:gt=0,kn=null,xc(e,t,i,1);break;case 2:case 9:if(Aw(i)){gt=0,kn=null,Zw(t);break}t=function(){gt!==2&&gt!==9||Ct!==e||(gt=7),li(e)},i.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Aw(i)?(gt=0,kn=null,Zw(t)):(gt=0,kn=null,xc(e,t,i,7));break;case 5:var s=null;switch(et.tag){case 26:s=et.memoizedState;case 5:case 27:var o=et;if(s?kR(s):o.stateNode.complete){gt=0,kn=null;var l=o.sibling;if(l!==null)et=l;else{var u=o.return;u!==null?(et=u,_g(u)):et=null}break t}}gt=0,kn=null,xc(e,t,i,5);break;case 6:gt=0,kn=null,xc(e,t,i,6);break;case 8:E1(),Wt=6;break e;default:throw Error(ue(462))}}yD();break}catch(d){lR(e,d)}while(1);return Ii=Cl=null,$e.H=n,$e.A=a,dt=r,et!==null?0:(Ct=null,tt=0,dg(),Wt)}function yD(){for(;et!==null&&!$3();)fR(et)}function fR(e){var t=UC(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,t===null?_g(e):et=t}function Zw(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Hw(r,t,t.pendingProps,t.type,void 0,tt);break;case 11:t=Hw(r,t,t.pendingProps,t.type.render,t.ref,tt);break;case 5:c1(t);default:BC(r,t),t=et=BT(t,Wi),t=UC(r,t,Wi)}e.memoizedProps=e.pendingProps,t===null?_g(e):et=t}function xc(e,t,r,n){Ii=Cl=null,c1(t),Ec=null,Jd=0;var a=t.return;try{if(oD(e,a,t,r,tt)){Wt=1,sm(e,fa(r,e.current)),et=null;return}}catch(i){if(a!==null)throw et=a,i;Wt=1,sm(e,fa(r,e.current)),et=null;return}t.flags&32768?(it||n===1?e=!0:Cu||tt&536870912?e=!1:(Ls=e=!0,(n===2||n===9||n===3||n===6)&&(n=Xn.current,n!==null&&n.tag===13&&(n.flags|=16384))),hR(t,e)):_g(t)}function _g(e){var t=e;do{if(t.flags&32768){hR(t,Ls);return}e=t.return;var r=uD(t.alternate,t,Wi);if(r!==null){et=r;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Wt===0&&(Wt=5)}function hR(e,t){do{var r=dD(e.alternate,e);if(r!==null){r.flags&=32767,et=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=r}while(e!==null);Wt=6,et=null}function Jw(e,t,r,n,a,i,s,o,l){e.cancelPendingCommit=null;do wg();while(gr!==0);if(dt&6)throw Error(ue(327));if(t!==null){if(t===e.current)throw Error(ue(177));if(i=t.lanes|t.childLanes,i|=Qy,Z3(e,r,i,s,o,l),e===Ct&&(et=Ct=null,tt=0),uu=t,Qs=e,Ui=r,ix=i,sx=a,iR=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,SD(Q0,function(){return xR(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=$e.T,$e.T=null,a=ft.p,ft.p=2,s=dt,dt|=4;try{fD(e,t,r)}finally{dt=s,ft.p=a,$e.T=n}}gr=1,mR(),gR(),pR()}}function mR(){if(gr===1){gr=0;var e=Qs,t=uu,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=$e.T,$e.T=null;var n=ft.p;ft.p=2;var a=dt;dt|=4;try{XC(t,e);var i=dx,s=kT(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&jT(o.ownerDocument.documentElement,o)){if(l!==null&&Wy(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,g=Math.min(l.start,p),x=l.end===void 0?g:Math.min(l.end,p);!m.extend&&g>x&&(s=x,x=g,g=s);var v=ww(o,g),y=ww(o,x);if(v&&y&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var _=f.createRange();_.setStart(v.node,v.offset),m.removeAllRanges(),g>x?(m.addRange(_),m.extend(y.node,y.offset)):(_.setEnd(y.node,y.offset),m.addRange(_))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var w=f[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ym=!!ux,dx=ux=null}finally{dt=a,ft.p=n,$e.T=r}}e.current=t,gr=2}}function gR(){if(gr===2){gr=0;var e=Qs,t=uu,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=$e.T,$e.T=null;var n=ft.p;ft.p=2;var a=dt;dt|=4;try{GC(e,t.alternate,t)}finally{dt=a,ft.p=n,$e.T=r}}gr=3}}function pR(){if(gr===4||gr===3){gr=0,q3();var e=Qs,t=uu,r=Ui,n=iR;t.subtreeFlags&10256||t.flags&10256?gr=5:(gr=0,uu=Qs=null,vR(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ws=null),zy(r),t=t.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Xf,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=$e.T,a=ft.p,ft.p=2,$e.T=null;try{for(var i=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{$e.T=t,ft.p=a}}Ui&3&&wg(),li(e),a=e.pendingLanes,r&261930&&a&42?e===ox?kd++:(kd=0,ox=e):kd=0,ih(0,!1)}}function vR(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rh(t)))}function wg(){return mR(),gR(),pR(),xR()}function xR(){if(gr!==5)return!1;var e=Qs,t=ix;ix=0;var r=zy(Ui),n=$e.T,a=ft.p;try{ft.p=32>r?32:r,$e.T=null,r=sx,sx=null;var i=Qs,s=Ui;if(gr=0,uu=Qs=null,Ui=0,dt&6)throw Error(ue(331));var o=dt;if(dt|=4,rR(i.current),JC(i,i.current,s,r),dt=o,ih(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Xf,i)}catch{}return!0}finally{ft.p=a,$e.T=n,vR(e,t)}}function eb(e,t,r){t=fa(r,t),t=ex(e.stateNode,t,2),e=Ks(e,t,2),e!==null&&(Jf(e,2),li(e))}function xt(e,t,r){if(e.tag===3)eb(e,e,r);else for(;t!==null;){if(t.tag===3){eb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ws===null||!Ws.has(n))){e=fa(r,e),r=DC(2),n=Ks(t,r,2),n!==null&&(MC(r,n,t,e),Jf(n,2),li(n));break}}t=t.return}}function Rp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(b1=!0,a.add(r),e=_D.bind(null,e,t,r),t.then(e,e))}function _D(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ct===e&&(tt&r)===r&&(Wt===4||Wt===3&&(tt&62914560)===tt&&300>Hn()-xg?!(dt&2)&&du(e,0):S1|=r,cu===tt&&(cu=0)),li(e)}function yR(e,t){t===0&&(t=uT()),e=Tl(e,t),e!==null&&(Jf(e,t),li(e))}function wD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yR(e,r)}function bD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(ue(314))}n!==null&&n.delete(t),yR(e,r)}function SD(e,t){return Uy(e,t)}var fm=null,rc=null,lx=!1,hm=!1,Ap=!1,Us=0;function li(e){e!==rc&&e.next===null&&(rc===null?fm=rc=e:rc=rc.next=e),hm=!0,lx||(lx=!0,TD())}function ih(e,t){if(!Ap&&hm){Ap=!0;do for(var r=!1,n=fm;n!==null;){if(!t)if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-Kn(42|e)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,tb(n,i))}else i=tt,i=og(n,n===Ct?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Zf(n,i)||(r=!0,tb(n,i));n=n.next}while(r);Ap=!1}}function ED(){_R()}function _R(){hm=lx=!1;var e=0;Us!==0&&ID()&&(e=Us);for(var t=Hn(),r=null,n=fm;n!==null;){var a=n.next,i=wR(n,t);i===0?(n.next=null,r===null?fm=a:r.next=a,a===null&&(rc=r)):(r=n,(e!==0||i&3)&&(hm=!0)),n=a}gr!==0&&gr!==5||ih(e,!1),Us!==0&&(Us=0)}function wR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var s=31-Kn(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=X3(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(t=Ct,r=tt,r=og(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&rp(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Zf(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&rp(n),zy(r)){case 2:case 8:r=lT;break;case 32:r=Q0;break;case 268435456:r=cT;break;default:r=Q0}return n=bR.bind(null,e),r=Uy(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&rp(n),e.callbackPriority=2,e.callbackNode=null,2}function bR(e,t){if(gr!==0&&gr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(wg()&&e.callbackNode!==r)return null;var n=tt;return n=og(e,e===Ct?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(oR(e,n,t),wR(e,Hn()),e.callbackNode!=null&&e.callbackNode===r?bR.bind(null,e):null)}function tb(e,t){if(wg())return null;oR(e,t,!0)}function TD(){LD(function(){dt&6?Uy(oT,ED):_R()})}function T1(){if(Us===0){var e=su;e===0&&(e=Mh,Mh<<=1,!(Mh&261888)&&(Mh=256)),Us=e}return Us}function rb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:R0(""+e)}function nb(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function CD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=rb((a[En]||null).action),s=n.submitter;s&&(t=(t=s[En]||null)?rb(t.formAction):s.getAttribute("formAction"),t!==null&&(i=t,s=null));var o=new lg("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Us!==0){var l=s?nb(a,s):new FormData(a);Zv(r,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=s?nb(a,s):new FormData(a),Zv(r,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(var Np=0;Np<Bv.length;Np++){var Op=Bv[Np],RD=Op.toLowerCase(),AD=Op[0].toUpperCase()+Op.slice(1);qa(RD,"on"+AD)}qa(MT,"onAnimationEnd");qa(IT,"onAnimationIteration");qa(FT,"onAnimationStart");qa("dblclick","onDoubleClick");qa("focusin","onFocus");qa("focusout","onBlur");qa(Vk,"onTransitionRun");qa(Hk,"onTransitionStart");qa(Gk,"onTransitionCancel");qa(LT,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ND=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function SR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=u;try{i(a)}catch(d){X0(d)}a.currentTarget=null,i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=u;try{i(a)}catch(d){X0(d)}a.currentTarget=null,i=l}}}}function Je(e,t){var r=t[kv];r===void 0&&(r=t[kv]=new Set);var n=e+"__bubble";r.has(n)||(ER(t,e,2,!1),r.add(n))}function jp(e,t,r){var n=0;t&&(n|=4),ER(r,e,n,t)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function C1(e){if(!e[Vh]){e[Vh]=!0,gT.forEach(function(r){r!=="selectionchange"&&(ND.has(r)||jp(r,!1,e),jp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vh]||(t[Vh]=!0,jp("selectionchange",!1,t))}}function ER(e,t,r,n){switch(LR(t)){case 2:var a=nM;break;case 8:a=aM;break;default:a=O1}r=a.bind(null,t,r,e),a=void 0,!Lv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=cc(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){n=i=s;continue e}o=o.parentNode}}n=n.return}ST(function(){var u=i,d=Vy(r),f=[];e:{var h=PT.get(e);if(h!==void 0){var m=lg,p=e;switch(e){case"keypress":if(N0(r)===0)break e;case"keydown":case"keyup":m=bk;break;case"focusin":p="focus",m=op;break;case"focusout":p="blur",m=op;break;case"beforeblur":case"afterblur":m=op;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Tk;break;case MT:case IT:case FT:m=hk;break;case LT:m=Rk;break;case"scroll":case"scrollend":m=lk;break;case"wheel":m=Nk;break;case"copy":case"cut":case"paste":m=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hw;break;case"toggle":case"beforetoggle":m=jk}var g=(t&4)!==0,x=!g&&(e==="scroll"||e==="scrollend"),v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,_;y!==null;){var w=y;if(_=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||_===null||v===null||(w=Wd(y,v),w!=null&&g.push(nf(y,w,_))),x)break;y=y.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Fv&&(p=r.relatedTarget||r.fromElement)&&(cc(p)||p[bu]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?cc(p):null,p!==null&&(x=Yf(p),g=p.tag,p!==x||g!==5&&g!==27&&g!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=dw,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=hw,w="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?h:fd(m),_=p==null?h:fd(p),h=new g(w,y+"leave",m,r,d),h.target=x,h.relatedTarget=_,w=null,cc(d)===u&&(g=new g(v,y+"enter",p,r,d),g.target=_,g.relatedTarget=x,w=g),x=w,m&&p)t:{for(g=OD,v=m,y=p,_=0,w=v;w;w=g(w))_++;w=0;for(var N=y;N;N=g(N))w++;for(;0<_-w;)v=g(v),_--;for(;0<w-_;)y=g(y),w--;for(;_--;){if(v===y||y!==null&&v===y.alternate){g=v;break t}v=g(v),y=g(y)}g=null}else g=null;m!==null&&ab(f,h,m,g,!1),p!==null&&x!==null&&ab(f,x,p,g,!0)}}e:{if(h=u?fd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var U=vw;else if(pw(h))if(NT)U=zk;else{U=Uk;var E=Pk}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&qy(u.elementType)&&(U=vw):U=Bk;if(U&&(U=U(e,u))){AT(f,U,r,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Iv(h,"number",h.value)}switch(E=u?fd(u):window,e){case"focusin":(pw(E)||E.contentEditable==="true")&&(fc=E,Pv=u,Sd=null);break;case"focusout":Sd=Pv=fc=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,bw(f,r,d);break;case"selectionchange":if(qk)break;case"keydown":case"keyup":bw(f,r,d)}var k;if(Ky)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else dc?CT(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(TT&&r.locale!=="ko"&&(dc||T!=="onCompositionStart"?T==="onCompositionEnd"&&dc&&(k=ET()):(Fs=d,Hy="value"in Fs?Fs.value:Fs.textContent,dc=!0)),E=mm(u,T),0<E.length&&(T=new fw(T,e,null,r,d),f.push({event:T,listeners:E}),k?T.data=k:(k=RT(r),k!==null&&(T.data=k)))),(k=Dk?Mk(e,r):Ik(e,r))&&(T=mm(u,"onBeforeInput"),0<T.length&&(E=new fw("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:T}),E.data=k)),CD(f,e,u,r,d)}SR(f,t)})}function nf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Wd(e,r),a!=null&&n.unshift(nf(e,a,i)),a=Wd(e,t),a!=null&&n.push(nf(e,a,i))),e.tag===3)return n;e=e.return}return[]}function OD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ab(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===n)break;o!==5&&o!==26&&o!==27||u===null||(l=u,a?(u=Wd(r,i),u!=null&&s.unshift(nf(r,u,l))):a||(u=Wd(r,i),u!=null&&s.push(nf(r,u,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var jD=/\r\n?/g,kD=/\u0000|\uFFFD/g;function ib(e){return(typeof e=="string"?e:""+e).replace(jD,`
`).replace(kD,"")}function TR(e,t){return t=ib(t),ib(e)===t}function bt(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||iu(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&iu(e,""+n);break;case"className":Lh(e,"class",n);break;case"tabIndex":Lh(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Lh(e,r,n);break;case"style":bT(e,n,i);break;case"data":if(t!=="object"){Lh(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=R0(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&bt(e,t,"name",a.name,a,null),bt(e,t,"formEncType",a.formEncType,a,null),bt(e,t,"formMethod",a.formMethod,a,null),bt(e,t,"formTarget",a.formTarget,a,null)):(bt(e,t,"encType",a.encType,a,null),bt(e,t,"method",a.method,a,null),bt(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=R0(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Mi);break;case"onScroll":n!=null&&Je("scroll",e);break;case"onScrollEnd":n!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ue(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(ue(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=R0(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Je("beforetoggle",e),Je("toggle",e),C0(e,"popover",n);break;case"xlinkActuate":mi(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":mi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":mi(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":mi(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":mi(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":mi(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":mi(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":mi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":mi(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":C0(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sk.get(r)||r,C0(e,r,n))}}function cx(e,t,r,n,a,i){switch(r){case"style":bT(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ue(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(ue(60));e.innerHTML=r}}break;case"children":typeof n=="string"?iu(e,n):(typeof n=="number"||typeof n=="bigint")&&iu(e,""+n);break;case"onScroll":n!=null&&Je("scroll",e);break;case"onScrollEnd":n!=null&&Je("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pT.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[En]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):C0(e,r,n)}}}function Pr(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var s=r[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,t));default:bt(e,t,i,s,r,null)}}a&&bt(e,t,"srcSet",r.srcSet,r,null),n&&bt(e,t,"src",r.src,r,null);return;case"input":Je("invalid",e);var o=i=s=a=null,l=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ue(137,t));break;default:bt(e,t,n,d,r,null)}}yT(e,i,o,l,u,s,a,!1);return;case"select":Je("invalid",e),n=s=i=null;for(a in r)if(r.hasOwnProperty(a)&&(o=r[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:bt(e,t,a,o,r,null)}t=i,r=s,e.multiple=!!n,t!=null?wc(e,!!n,t,!1):r!=null&&wc(e,!!n,r,!0);return;case"textarea":Je("invalid",e),i=a=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(ue(91));break;default:bt(e,t,s,o,r,null)}wT(e,n,a,i);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:bt(e,t,l,n,r,null)}return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(n=0;n<rf.length;n++)Je(rf[n],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,t));default:bt(e,t,u,n,r,null)}return;default:if(qy(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&cx(e,t,d,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&bt(e,t,o,n,r,null))}function DD(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,l=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:n.hasOwnProperty(m)||bt(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ue(137,t));break;default:m!==f&&bt(e,t,h,m,n,f)}}Mv(e,s,o,l,u,d,i,a);return;case"select":m=s=o=h=null;for(i in r)if(l=r[i],r.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":m=l;default:n.hasOwnProperty(i)||bt(e,t,i,null,n,l)}for(a in n)if(i=n[a],l=r[a],n.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":h=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==l&&bt(e,t,a,i,n,l)}t=o,r=s,n=m,h!=null?wc(e,!!r,h,!1):!!n!=!!r&&(t!=null?wc(e,!!r,t,!0):wc(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(o in r)if(a=r[o],r.hasOwnProperty(o)&&a!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:bt(e,t,o,null,n,a)}for(s in n)if(a=n[s],i=r[s],n.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(ue(91));break;default:a!==i&&bt(e,t,s,a,n,i)}_T(e,h,m);return;case"option":for(var p in r)if(h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p))switch(p){case"selected":e.selected=!1;break;default:bt(e,t,p,null,n,h)}for(l in n)if(h=n[l],m=r[l],n.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:bt(e,t,l,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&bt(e,t,g,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ue(137,t));break;default:bt(e,t,u,h,n,m)}return;default:if(qy(t)){for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!==void 0&&!n.hasOwnProperty(x)&&cx(e,t,x,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||cx(e,t,d,h,n,m);return}}for(var v in r)h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v)&&bt(e,t,v,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||bt(e,t,f,h,n,m)}function sb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&sb(s)){for(s=0,o=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],u=l.startTime;if(u>o)break;var d=l.transferSize,f=l.initiatorType;d&&sb(f)&&(l=l.responseEnd,s+=d*(l<o?1:(o-u)/(l-u)))}if(--n,t+=8*(i+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ux=null,dx=null;function gm(e){return e.nodeType===9?e:e.ownerDocument}function ob(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CR(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dp=null;function ID(){var e=window.event;return e&&e.type==="popstate"?e===Dp?!1:(Dp=e,!0):(Dp=null,!1)}var RR=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(e){return lb.resolve(null).then(e).catch(PD)}:RR;function PD(e){setTimeout(function(){throw e})}function po(e){return e==="head"}function cb(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),hu(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")Dd(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Dd(r);for(var i=r.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[eh]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=s}}else r==="body"&&Dd(e.ownerDocument.body);r=a}while(r);hu(t)}function ub(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function hx(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hx(r),$y(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function UD(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[eh])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=va(e.nextSibling),e===null)break}return null}function BD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=va(e.nextSibling),e===null))return null;return e}function AR(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=va(e.nextSibling),e===null))return null;return e}function mx(e){return e.data==="$?"||e.data==="$~"}function gx(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var px=null;function db(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return va(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function NR(e,t,r){switch(t=gm(r),e){case"html":if(e=t.documentElement,!e)throw Error(ue(452));return e;case"head":if(e=t.head,!e)throw Error(ue(453));return e;case"body":if(e=t.body,!e)throw Error(ue(454));return e;default:throw Error(ue(451))}}function Dd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$y(e)}var ya=new Map,hb=new Set;function pm(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=ft.d;ft.d={f:$D,r:qD,D:VD,C:HD,L:GD,m:KD,X:QD,S:WD,M:YD};function $D(){var e=Ji.f(),t=yg();return e||t}function qD(e){var t=Su(e);t!==null&&t.tag===5&&t.type==="form"?bC(t):Ji.r(e)}var Ru=typeof document>"u"?null:document;function OR(e,t,r){var n=Ru;if(n&&typeof t=="string"&&t){var a=da(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),hb.has(a)||(hb.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Pr(t,"link",e),Sr(t),n.head.appendChild(t)))}}function VD(e){Ji.D(e),OR("dns-prefetch",e,null)}function HD(e,t){Ji.C(e,t),OR("preconnect",e,t)}function GD(e,t,r){Ji.L(e,t,r);var n=Ru;if(n&&e&&t){var a='link[rel="preload"][as="'+da(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+da(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+da(r.imageSizes)+'"]')):a+='[href="'+da(e)+'"]';var i=a;switch(t){case"style":i=fu(e);break;case"script":i=Au(e)}ya.has(i)||(e=It({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),ya.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(sh(i))||t==="script"&&n.querySelector(oh(i))||(t=n.createElement("link"),Pr(t,"link",e),Sr(t),n.head.appendChild(t)))}}function KD(e,t){Ji.m(e,t);var r=Ru;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+da(n)+'"][href="'+da(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Au(e)}if(!ya.has(i)&&(e=It({rel:"modulepreload",href:e},t),ya.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(oh(i)))return}n=r.createElement("link"),Pr(n,"link",e),Sr(n),r.head.appendChild(n)}}}function WD(e,t,r){Ji.S(e,t,r);var n=Ru;if(n&&e){var a=_c(n).hoistableStyles,i=fu(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(sh(i)))o.loading=5;else{e=It({rel:"stylesheet",href:e,"data-precedence":t},r),(r=ya.get(i))&&R1(e,r);var l=s=n.createElement("link");Sr(l),Pr(l,"link",e),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,L0(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function QD(e,t){Ji.X(e,t);var r=Ru;if(r&&e){var n=_c(r).hoistableScripts,a=Au(e),i=n.get(a);i||(i=r.querySelector(oh(a)),i||(e=It({src:e,async:!0},t),(t=ya.get(a))&&A1(e,t),i=r.createElement("script"),Sr(i),Pr(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function YD(e,t){Ji.M(e,t);var r=Ru;if(r&&e){var n=_c(r).hoistableScripts,a=Au(e),i=n.get(a);i||(i=r.querySelector(oh(a)),i||(e=It({src:e,async:!0,type:"module"},t),(t=ya.get(a))&&A1(e,t),i=r.createElement("script"),Sr(i),Pr(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function mb(e,t,r,n){var a=(a=Vs.current)?pm(a):null;if(!a)throw Error(ue(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=fu(r.href),r=_c(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=fu(r.href);var i=_c(a).hoistableStyles,s=i.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,s),(i=a.querySelector(sh(e)))&&!i._p&&(s.instance=i,s.state.loading=5),ya.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ya.set(e,r),i||XD(a,e,r,s.state))),t&&n===null)throw Error(ue(528,""));return s}if(t&&n!==null)throw Error(ue(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Au(r),r=_c(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ue(444,e))}}function fu(e){return'href="'+da(e)+'"'}function sh(e){return'link[rel="stylesheet"]['+e+"]"}function jR(e){return It({},e,{"data-precedence":e.precedence,precedence:null})}function XD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Pr(t,"link",r),Sr(t),e.head.appendChild(t))}function Au(e){return'[src="'+da(e)+'"]'}function oh(e){return"script[async]"+e}function gb(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+da(r.href)+'"]');if(n)return t.instance=n,Sr(n),n;var a=It({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Sr(n),Pr(n,"style",a),L0(n,r.precedence,e),t.instance=n;case"stylesheet":a=fu(r.href);var i=e.querySelector(sh(a));if(i)return t.state.loading|=4,t.instance=i,Sr(i),i;n=jR(r),(a=ya.get(a))&&R1(n,a),i=(e.ownerDocument||e).createElement("link"),Sr(i);var s=i;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Pr(i,"link",n),t.state.loading|=4,L0(i,r.precedence,e),t.instance=i;case"script":return i=Au(r.src),(a=e.querySelector(oh(i)))?(t.instance=a,Sr(a),a):(n=r,(a=ya.get(i))&&(n=It({},r),A1(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),Sr(a),Pr(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(ue(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,L0(n,r.precedence,e));return t.instance}function L0(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function R1(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function A1(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var P0=null;function pb(e,t,r){if(P0===null){var n=new Map,a=P0=new Map;a.set(r,n)}else a=P0,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[eh]||i[Dr]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function vb(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function ZD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kR(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function JD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=fu(n.href),i=t.querySelector(sh(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vm.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,Sr(i);return}i=t.ownerDocument||t,n=jR(n),(a=ya.get(a))&&R1(n,a),i=i.createElement("link"),Sr(i);var s=i;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Pr(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=vm.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Mp=0;function eM(e,t){return e.stylesheets&&e.count===0&&U0(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&U0(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Mp===0&&(Mp=62500*MD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&U0(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Mp?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function vm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)U0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xm=null;function U0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xm=new Map,t.forEach(tM,e),xm=null,vm.call(e))}function tM(e,t){if(!(t.state.loading&4)){var r=xm.get(e);if(r)var n=r.get(null);else{r=new Map,xm.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}a=t.instance,s=a.getAttribute("data-precedence"),i=r.get(s)||n,i===n&&r.set(null,a),r.set(s,a),this.count++,n=vm.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var af={$$typeof:Di,Provider:null,Consumer:null,_currentValue:il,_currentValue2:il,_threadCount:0};function rM(e,t,r,n,a,i,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=np(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.hiddenUpdates=np(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function DR(e,t,r,n,a,i,s,o,l,u,d,f){return e=new rM(e,t,r,s,l,u,d,f,o),t=1,i===!0&&(t|=24),i=Un(3,null,null,t),e.current=i,i.stateNode=e,t=e1(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},n1(i),e}function MR(e){return e?(e=gc,e):gc}function IR(e,t,r,n,a,i){a=MR(a),n.context===null?n.context=a:n.pendingContext=a,n=Gs(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Ks(e,n,t),r!==null&&(bn(r,e,t),Td(r,e,t))}function xb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function N1(e,t){xb(e,t),(e=e.alternate)&&xb(e,t)}function FR(e){if(e.tag===13||e.tag===31){var t=Tl(e,67108864);t!==null&&bn(t,e,67108864),N1(e,67108864)}}function yb(e){if(e.tag===13||e.tag===31){var t=Wn();t=By(t);var r=Tl(e,t);r!==null&&bn(r,e,t),N1(e,t)}}var ym=!0;function nM(e,t,r,n){var a=$e.T;$e.T=null;var i=ft.p;try{ft.p=2,O1(e,t,r,n)}finally{ft.p=i,$e.T=a}}function aM(e,t,r,n){var a=$e.T;$e.T=null;var i=ft.p;try{ft.p=8,O1(e,t,r,n)}finally{ft.p=i,$e.T=a}}function O1(e,t,r,n){if(ym){var a=vx(n);if(a===null)kp(e,t,n,_m,r),_b(e,n);else if(sM(a,e,t,r,n))n.stopPropagation();else if(_b(e,n),t&4&&-1<iM.indexOf(e)){for(;a!==null;){var i=Su(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Do(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Kn(s);o.entanglements[1]|=l,s&=~l}li(i),!(dt&6)&&(cm=Hn()+500,ih(0,!1))}}break;case 31:case 13:o=Tl(i,2),o!==null&&bn(o,i,2),yg(),N1(i,2)}if(i=vx(n),i===null&&kp(e,t,n,_m,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else kp(e,t,n,null,r)}}function vx(e){return e=Vy(e),j1(e)}var _m=null;function j1(e){if(_m=null,e=cc(e),e!==null){var t=Yf(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=rT(t),e!==null)return e;e=null}else if(r===31){if(e=nT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _m=e,null}function LR(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V3()){case oT:return 2;case lT:return 8;case Q0:case H3:return 32;case cT:return 268435456;default:return 32}default:return 32}}var xx=!1,Ys=null,Xs=null,Zs=null,sf=new Map,of=new Map,vs=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(e,t){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(t.pointerId)}}function nd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Su(t),t!==null&&FR(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sM(e,t,r,n,a){switch(t){case"focusin":return Ys=nd(Ys,e,t,r,n,a),!0;case"dragenter":return Xs=nd(Xs,e,t,r,n,a),!0;case"mouseover":return Zs=nd(Zs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return sf.set(i,nd(sf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,of.set(i,nd(of.get(i)||null,e,t,r,n,a)),!0}return!1}function PR(e){var t=cc(e.target);if(t!==null){var r=Yf(t);if(r!==null){if(t=r.tag,t===13){if(t=rT(r),t!==null){e.blockedOn=t,aw(e.priority,function(){yb(r)});return}}else if(t===31){if(t=nT(r),t!==null){e.blockedOn=t,aw(e.priority,function(){yb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vx(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fv=n,r.target.dispatchEvent(n),Fv=null}else return t=Su(r),t!==null&&FR(t),e.blockedOn=r,!1;t.shift()}return!0}function wb(e,t,r){B0(e)&&r.delete(t)}function oM(){xx=!1,Ys!==null&&B0(Ys)&&(Ys=null),Xs!==null&&B0(Xs)&&(Xs=null),Zs!==null&&B0(Zs)&&(Zs=null),sf.forEach(wb),of.forEach(wb)}function Hh(e,t){e.blockedOn===t&&(e.blockedOn=null,xx||(xx=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,oM)))}var Gh=null;function bb(e){Gh!==e&&(Gh=e,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,function(){Gh===e&&(Gh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(j1(n||r)===null)continue;break}var i=Su(r);i!==null&&(e.splice(t,3),t-=3,Zv(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function hu(e){function t(l){return Hh(l,e)}Ys!==null&&Hh(Ys,e),Xs!==null&&Hh(Xs,e),Zs!==null&&Hh(Zs,e),sf.forEach(t),of.forEach(t);for(var r=0;r<vs.length;r++){var n=vs[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<vs.length&&(r=vs[0],r.blockedOn===null);)PR(r),r.blockedOn===null&&vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[En]||null;if(typeof i=="function")s||bb(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[En]||null)o=s.formAction;else if(j1(a)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),bb(r)}}}function UR(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function k1(e){this._internalRoot=e}bg.prototype.render=k1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));var r=t.current,n=Wn();IR(r,n,e,t,null,null)};bg.prototype.unmount=k1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;IR(e.current,2,null,e,null,null),yg(),t[bu]=null}};function bg(e){this._internalRoot=e}bg.prototype.unstable_scheduleHydration=function(e){if(e){var t=mT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vs.length&&t!==0&&t<vs[r].priority;r++);vs.splice(r,0,e),r===0&&PR(e)}};var Sb=eT.version;if(Sb!=="19.2.0")throw Error(ue(527,Sb,"19.2.0"));ft.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=L3(t),e=e!==null?aT(e):null,e=e===null?null:e.stateNode,e};var lM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$e,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Xf=Kh.inject(lM),Gn=Kh}catch{}}ag.createRoot=function(e,t){if(!tT(e))throw Error(ue(299));var r=!1,n="",a=OC,i=jC,s=kC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=DR(e,1,!1,null,null,r,n,null,a,i,s,UR),e[bu]=t.current,C1(e),new k1(t)};ag.hydrateRoot=function(e,t,r){if(!tT(e))throw Error(ue(299));var n=!1,a="",i=OC,s=jC,o=kC,l=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.formState!==void 0&&(l=r.formState)),t=DR(e,1,!0,t,r??null,n,a,l,i,s,o,UR),t.context=MR(null),r=t.current,n=Wn(),n=By(n),a=Gs(n),a.callback=null,Ks(r,a,n),r=n,t.current.lanes=r,Jf(t,r),li(t),e[bu]=t.current,C1(e),new bg(t)};ag.version="19.2.0";function BR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BR)}catch(e){console.error(e)}}BR(),K2.exports=ag;var cM=K2.exports;const uM=rg(cM);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const Eb="popstate";function dM(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return yx("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:wm(a)}return hM(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fM(){return Math.random().toString(36).substr(2,8)}function Tb(e,t){return{usr:e.state,key:e.key,idx:t}}function yx(e,t,r,n){return r===void 0&&(r=null),lf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nu(t):t,{state:r,key:t&&t.key||n||fM()})}function wm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hM(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Bs.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(lf({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Bs.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:o,location:g.location,delta:v})}function h(x,v){o=Bs.Push;let y=yx(g.location,x,v);r&&r(y,x),u=d()+1;let _=Tb(y,u),w=g.createHref(y);try{s.pushState(_,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&l&&l({action:o,location:g.location,delta:1})}function m(x,v){o=Bs.Replace;let y=yx(g.location,x,v);r&&r(y,x),u=d();let _=Tb(y,u),w=g.createHref(y);s.replaceState(_,"",w),i&&l&&l({action:o,location:g.location,delta:0})}function p(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:wm(x);return y=y.replace(/ $/,"%20"),Jt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return o},get location(){return e(a,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Eb,f),l=x,()=>{a.removeEventListener(Eb,f),l=null}},createHref(x){return t(a,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return s.go(x)}};return g}var Cb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cb||(Cb={}));function mM(e,t,r){return r===void 0&&(r="/"),gM(e,t,r,!1)}function gM(e,t,r,n){let a=typeof t=="string"?Nu(t):t,i=D1(a.pathname||"/",r);if(i==null)return null;let s=$R(e);pM(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=RM(i);o=TM(s[l],u,n)}return o}function $R(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Js([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Jt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$R(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:SM(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of qR(i.path))a(i,s,l)}),t}function qR(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=qR(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function pM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:EM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vM=/^:[\w-]+$/,xM=3,yM=2,_M=1,wM=10,bM=-2,Rb=e=>e==="*";function SM(e,t){let r=e.split("/"),n=r.length;return r.some(Rb)&&(n+=bM),t&&(n+=yM),r.filter(a=>!Rb(a)).reduce((a,i)=>a+(vM.test(i)?xM:i===""?_M:wM),n)}function EM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function TM(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ab({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ab({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Js([i,f.pathname]),pathnameBase:jM(Js([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Js([i,f.pathnameBase]))}return s}function Ab(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function CM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function RM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function D1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function AM(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Nu(e):e;return{pathname:r?r.startsWith("/")?r:NM(r,t):t,search:kM(n),hash:DM(a)}}function NM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function M1(e,t){let r=OM(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function I1(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Nu(e):(a=lf({},e),Jt(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=AM(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Js=e=>e.join("/").replace(/\/\/+/g,"/"),jM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VR=["post","put","patch","delete"];new Set(VR);const IM=["get",...VR];new Set(IM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}const F1=S.createContext(null),FM=S.createContext(null),vo=S.createContext(null),Sg=S.createContext(null),ci=S.createContext({outlet:null,matches:[],isDataRoute:!1}),HR=S.createContext(null);function LM(e,t){let{relative:r}=t===void 0?{}:t;Ou()||Jt(!1);let{basename:n,navigator:a}=S.useContext(vo),{hash:i,pathname:s,search:o}=KR(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Js([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Ou(){return S.useContext(Sg)!=null}function ju(){return Ou()||Jt(!1),S.useContext(Sg).location}function GR(e){S.useContext(vo).static||S.useLayoutEffect(e)}function zr(){let{isDataRoute:e}=S.useContext(ci);return e?ZM():PM()}function PM(){Ou()||Jt(!1);let e=S.useContext(F1),{basename:t,future:r,navigator:n}=S.useContext(vo),{matches:a}=S.useContext(ci),{pathname:i}=ju(),s=JSON.stringify(M1(a,r.v7_relativeSplatPath)),o=S.useRef(!1);return GR(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=I1(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}const UM=S.createContext(null);function BM(e){let t=S.useContext(ci).outlet;return t&&S.createElement(UM.Provider,{value:e},t)}function ku(){let{matches:e}=S.useContext(ci),t=e[e.length-1];return t?t.params:{}}function KR(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(vo),{matches:a}=S.useContext(ci),{pathname:i}=ju(),s=JSON.stringify(M1(a,n.v7_relativeSplatPath));return S.useMemo(()=>I1(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function zM(e,t){return $M(e,t)}function $M(e,t,r,n){Ou()||Jt(!1);let{navigator:a}=S.useContext(vo),{matches:i}=S.useContext(ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ju(),d;if(t){var f;let x=typeof t=="string"?Nu(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Jt(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=mM(e,{pathname:m}),g=KM(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Js([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Js([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&g?S.createElement(Sg.Provider,{value:{location:cf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bs.Pop}},g):g}function qM(){let e=XM(),t=MM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:a},r):null,i)}const VM=S.createElement(qM,null);class HM extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(ci.Provider,{value:this.props.routeContext},S.createElement(HR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GM(e){let{routeContext:t,match:r,children:n}=e,a=S.useContext(F1);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(ci.Provider,{value:t},n)}function KM(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Jt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,p=!1,g=null,x=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||VM,l&&(u<0&&h===0?(JM("route-fallback",!1),p=!0,x=null):u===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),y=()=>{let _;return m?_=g:p?_=x:f.route.Component?_=S.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,S.createElement(GM,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(HM,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var WR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(WR||{}),bm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bm||{});function WM(e){let t=S.useContext(F1);return t||Jt(!1),t}function QM(e){let t=S.useContext(FM);return t||Jt(!1),t}function YM(e){let t=S.useContext(ci);return t||Jt(!1),t}function QR(e){let t=YM(),r=t.matches[t.matches.length-1];return r.route.id||Jt(!1),r.route.id}function XM(){var e;let t=S.useContext(HR),r=QM(bm.UseRouteError),n=QR(bm.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ZM(){let{router:e}=WM(WR.UseNavigateStable),t=QR(bm.UseNavigateStable),r=S.useRef(!1);return GR(()=>{r.current=!0}),S.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,cf({fromRouteId:t},i)))},[e,t])}const Nb={};function JM(e,t,r){!t&&!Nb[e]&&(Nb[e]=!0)}function eI(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function YR(e){let{to:t,replace:r,state:n,relative:a}=e;Ou()||Jt(!1);let{future:i,static:s}=S.useContext(vo),{matches:o}=S.useContext(ci),{pathname:l}=ju(),u=zr(),d=I1(t,M1(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function tI(e){return BM(e.context)}function wt(e){Jt(!1)}function rI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Bs.Pop,navigator:i,static:s=!1,future:o}=e;Ou()&&Jt(!1);let l=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:s,future:cf({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Nu(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=S.useMemo(()=>{let x=D1(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:p},navigationType:a}},[l,d,f,h,m,p,a]);return g==null?null:S.createElement(vo.Provider,{value:u},S.createElement(Sg.Provider,{children:r,value:g}))}function nI(e){let{children:t,location:r}=e;return zM(_x(t),r)}new Promise(()=>{});function _x(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,a)=>{if(!S.isValidElement(n))return;let i=[...t,a];if(n.type===S.Fragment){r.push.apply(r,_x(n.props.children,i));return}n.type!==wt&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=_x(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(this,arguments)}function aI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function iI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sI(e,t){return e.button===0&&(!t||t==="_self")&&!iI(e)}const oI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lI="6";try{window.__reactRouterVersion=lI}catch{}const cI="startTransition",Ob=Fy[cI];function uI(e){let{basename:t,children:r,future:n,window:a}=e,i=S.useRef();i.current==null&&(i.current=dM({window:a,v5Compat:!0}));let s=i.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=S.useCallback(f=>{u&&Ob?Ob(()=>l(f)):l(f)},[l,u]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.useEffect(()=>eI(n),[n]),S.createElement(rI,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const dI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xa=S.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=aI(t,oI),{basename:m}=S.useContext(vo),p,g=!1;if(typeof u=="string"&&fI.test(u)&&(p=u,dI))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),N=D1(w.pathname,m);w.origin===_.origin&&N!=null?u=N+w.search+w.hash:g=!0}catch{}let x=LM(u,{relative:a}),v=hI(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function y(_){n&&n(_),_.defaultPrevented||v(_)}return S.createElement("a",wx({},h,{href:p||x,onClick:g||i?n:y,ref:r,target:l}))});var jb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jb||(jb={}));var kb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kb||(kb={}));function hI(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=zr(),u=ju(),d=KR(e,{relative:s});return S.useCallback(f=>{if(sI(f,r)){f.preventDefault();let h=n!==void 0?n:wm(u)===wm(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,a,r,e,i,s,o])}var Du=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_s,Ny,w2,gI=(w2=class{constructor(){pe(this,_s,mI);pe(this,Ny,!1)}setTimeoutProvider(t){de(this,_s,t)}setTimeout(t,r){return A(this,_s).setTimeout(t,r)}clearTimeout(t){A(this,_s).clearTimeout(t)}setInterval(t,r){return A(this,_s).setInterval(t,r)}clearInterval(t){A(this,_s).clearInterval(t)}},_s=new WeakMap,Ny=new WeakMap,w2),zo=new gI;function pI(e){setTimeout(e,0)}var pl=typeof window>"u"||"Deno"in globalThis;function Jr(){}function vI(e,t){return typeof e=="function"?e(t):e}function bx(e){return typeof e=="number"&&e>=0&&e!==1/0}function XR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function eo(e,t){return typeof e=="function"?e(t):e}function oa(e,t){return typeof e=="function"?e(t):e}function Db(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==L1(s,t.options))return!1}else if(!uf(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function Mb(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(vl(t.options.mutationKey)!==vl(i))return!1}else if(!uf(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function L1(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,r)=>Sx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function uf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>uf(e[r],t[r])):!1}var xI=Object.prototype.hasOwnProperty;function ZR(e,t){if(e===t)return e;const r=Ib(e)&&Ib(t);if(!r&&!(Sx(e)&&Sx(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<a:xI.call(e,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const m=ZR(f,h);o[d]=m,m===f&&l++}return a===s&&l===a?e:o}function Sm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ib(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sx(e){if(!Fb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Fb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fb(e){return Object.prototype.toString.call(e)==="[object Object]"}function yI(e){return new Promise(t=>{zo.setTimeout(t,e)})}function Ex(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ZR(e,t):t}function _I(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function wI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var P1=Symbol();function JR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===P1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function eA(e,t){return typeof e=="function"?e(...t):!!e}var Vo,ws,Fc,b2,bI=(b2=class extends Du{constructor(){super();pe(this,Vo,void 0);pe(this,ws,void 0);pe(this,Fc,void 0);de(this,Fc,r=>{if(!pl&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,ws)||this.setEventListener(A(this,Fc))}onUnsubscribe(){var r;this.hasListeners()||((r=A(this,ws))==null||r.call(this),de(this,ws,void 0))}setEventListener(r){var n;de(this,Fc,r),(n=A(this,ws))==null||n.call(this),de(this,ws,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){A(this,Vo)!==r&&(de(this,Vo,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof A(this,Vo)=="boolean"?A(this,Vo):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Vo=new WeakMap,ws=new WeakMap,Fc=new WeakMap,b2),U1=new bI;function Tx(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var SI=pI;function EI(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=SI;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var mr=EI(),Lc,bs,Pc,S2,TI=(S2=class extends Du{constructor(){super();pe(this,Lc,!0);pe(this,bs,void 0);pe(this,Pc,void 0);de(this,Pc,r=>{if(!pl&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){A(this,bs)||this.setEventListener(A(this,Pc))}onUnsubscribe(){var r;this.hasListeners()||((r=A(this,bs))==null||r.call(this),de(this,bs,void 0))}setEventListener(r){var n;de(this,Pc,r),(n=A(this,bs))==null||n.call(this),de(this,bs,r(this.setOnline.bind(this)))}setOnline(r){A(this,Lc)!==r&&(de(this,Lc,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return A(this,Lc)}},Lc=new WeakMap,bs=new WeakMap,Pc=new WeakMap,S2),Em=new TI;function CI(e){return Math.min(1e3*2**e,3e4)}function tA(e){return(e??"online")==="online"?Em.isOnline():!0}var Cx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rA(e){let t=!1,r=0,n;const a=Tx(),i=()=>a.status!=="pending",s=g=>{var x;if(!i()){const v=new Cx(g);h(v),(x=e.onCancel)==null||x.call(e,v)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>U1.isFocused()&&(e.networkMode==="always"||Em.isOnline())&&e.canRun(),d=()=>tA(e.networkMode)&&e.canRun(),f=g=>{i()||(n==null||n(),a.resolve(g))},h=g=>{i()||(n==null||n(),a.reject(g))},m=()=>new Promise(g=>{var x;n=v=>{(i()||u())&&g(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(i())return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var U;if(i())return;const y=e.retry??(pl?0:3),_=e.retryDelay??CI,w=typeof _=="function"?_(r,v):_,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!N){h(v);return}r++,(U=e.onFail)==null||U.call(e,r,v),yI(w).then(()=>u()?void 0:m()).then(()=>{t?h(v):p()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?p():m().then(p),a)}}var Ho,E2,nA=(E2=class{constructor(){pe(this,Ho,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bx(this.gcTime)&&de(this,Ho,zo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pl?1/0:5*60*1e3))}clearGcTimeout(){A(this,Ho)&&(zo.clearTimeout(A(this,Ho)),de(this,Ho,void 0))}},Ho=new WeakMap,E2),Go,Uc,ra,Ko,wr,Rf,Wo,Aa,wi,T2,RI=(T2=class extends nA{constructor(t){super();pe(this,Aa);pe(this,Go,void 0);pe(this,Uc,void 0);pe(this,ra,void 0);pe(this,Ko,void 0);pe(this,wr,void 0);pe(this,Rf,void 0);pe(this,Wo,void 0);de(this,Wo,!1),de(this,Rf,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,Ko,t.client),de(this,ra,A(this,Ko).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,Go,Lb(this.options)),this.state=t.state??A(this,Go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,wr))==null?void 0:t.promise}setOptions(t){if(this.options={...A(this,Rf),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Lb(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),de(this,Go,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,ra).remove(this)}setData(t,r){const n=Ex(this.state.data,t,this.options);return De(this,Aa,wi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){De(this,Aa,wi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=A(this,wr))==null?void 0:n.promise;return(a=A(this,wr))==null||a.cancel(t),r?r.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,Go))}isActive(){return this.observers.some(t=>oa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>eo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=A(this,wr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=A(this,wr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(A(this,wr)&&(A(this,Wo)?A(this,wr).cancel({revert:!0}):A(this,wr).cancelRetry()),this.scheduleGc()),A(this,ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,Aa,wi).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,f,h,m,p,g,x,v,y,_;if(this.state.fetchStatus!=="idle"&&((l=A(this,wr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(A(this,wr))return A(this,wr).continueRetry(),A(this,wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(de(this,Wo,!0),n.signal)})},i=()=>{const w=JR(this.options,r),U=(()=>{const E={client:A(this,Ko),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return de(this,Wo,!1),this.options.persister?this.options.persister(w,U,this):w(U)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:A(this,Ko),state:this.state,fetchFn:i};return a(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),de(this,Uc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&De(this,Aa,wi).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),de(this,wr,rA({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof Cx&&w.revert&&this.setState({...A(this,Uc),fetchStatus:"idle"}),n.abort()},onFail:(w,N)=>{De(this,Aa,wi).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{De(this,Aa,wi).call(this,{type:"pause"})},onContinue:()=>{De(this,Aa,wi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await A(this,wr).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(h=A(this,ra).config).onSuccess)==null||m.call(h,w,this),(g=(p=A(this,ra).config).onSettled)==null||g.call(p,w,this.state.error,this),w}catch(w){if(w instanceof Cx){if(w.silent)return A(this,wr).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw De(this,Aa,wi).call(this,{type:"error",error:w}),(v=(x=A(this,ra).config).onError)==null||v.call(x,w,this),(_=(y=A(this,ra).config).onSettled)==null||_.call(y,this.state.data,w,this),w}finally{this.scheduleGc()}}},Go=new WeakMap,Uc=new WeakMap,ra=new WeakMap,Ko=new WeakMap,wr=new WeakMap,Rf=new WeakMap,Wo=new WeakMap,Aa=new WeakSet,wi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aA(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,Uc,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),mr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),A(this,ra).notify({query:this,type:"updated",action:t})})},T2);function aA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fn,nt,Af,Qr,Qo,Bc,Ti,Ss,Nf,zc,$c,Yo,Xo,Es,qc,Zo,gd,Of,Rx,jf,Ax,kf,Nx,Df,Ox,Mf,jx,If,kx,Ff,Dx,eg,iA,C2,AI=(C2=class extends Du{constructor(r,n){super();pe(this,Zo);pe(this,Of);pe(this,jf);pe(this,kf);pe(this,Df);pe(this,Mf);pe(this,If);pe(this,Ff);pe(this,eg);pe(this,fn,void 0);pe(this,nt,void 0);pe(this,Af,void 0);pe(this,Qr,void 0);pe(this,Qo,void 0);pe(this,Bc,void 0);pe(this,Ti,void 0);pe(this,Ss,void 0);pe(this,Nf,void 0);pe(this,zc,void 0);pe(this,$c,void 0);pe(this,Yo,void 0);pe(this,Xo,void 0);pe(this,Es,void 0);pe(this,qc,new Set);this.options=n,de(this,fn,r),de(this,Ss,null),de(this,Ti,Tx()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,nt).addObserver(this),Pb(A(this,nt),this.options)?De(this,Zo,gd).call(this):this.updateResult(),De(this,Df,Ox).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mx(A(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mx(A(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Mf,jx).call(this),De(this,If,kx).call(this),A(this,nt).removeObserver(this)}setOptions(r){const n=this.options,a=A(this,nt);if(this.options=A(this,fn).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oa(this.options.enabled,A(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Ff,Dx).call(this),A(this,nt).setOptions(this.options),n._defaulted&&!Sm(this.options,n)&&A(this,fn).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,nt),observer:this});const i=this.hasListeners();i&&Ub(A(this,nt),a,this.options,n)&&De(this,Zo,gd).call(this),this.updateResult(),i&&(A(this,nt)!==a||oa(this.options.enabled,A(this,nt))!==oa(n.enabled,A(this,nt))||eo(this.options.staleTime,A(this,nt))!==eo(n.staleTime,A(this,nt)))&&De(this,Of,Rx).call(this);const s=De(this,jf,Ax).call(this);i&&(A(this,nt)!==a||oa(this.options.enabled,A(this,nt))!==oa(n.enabled,A(this,nt))||s!==A(this,Es))&&De(this,kf,Nx).call(this,s)}getOptimisticResult(r){const n=A(this,fn).getQueryCache().build(A(this,fn),r),a=this.createResult(n,r);return OI(this,a)&&(de(this,Qr,a),de(this,Bc,this.options),de(this,Qo,A(this,nt).state)),a}getCurrentResult(){return A(this,Qr)}trackResult(r,n){return new Proxy(r,{get:(a,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&A(this,Ti).status==="pending"&&A(this,Ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(r){A(this,qc).add(r)}getCurrentQuery(){return A(this,nt)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=A(this,fn).defaultQueryOptions(r),a=A(this,fn).getQueryCache().build(A(this,fn),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return De(this,Zo,gd).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,Qr)))}createResult(r,n){var b;const a=A(this,nt),i=this.options,s=A(this,Qr),o=A(this,Qo),l=A(this,Bc),d=r!==a?r.state:A(this,Af),{state:f}=r;let h={...f},m=!1,p;if(n._optimisticResults){const D=this.hasListeners(),R=!D&&Pb(r,n),z=D&&Ub(r,a,n,i);(R||z)&&(h={...h,...aA(f.data,r.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=h;p=h.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let D;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(D=s.data,y=!0):D=typeof n.placeholderData=="function"?n.placeholderData((b=A(this,$c))==null?void 0:b.state.data,A(this,$c)):n.placeholderData,D!==void 0&&(v="success",p=Ex(s==null?void 0:s.data,D,n),m=!0)}if(n.select&&p!==void 0&&!y)if(s&&p===(o==null?void 0:o.data)&&n.select===A(this,Nf))p=A(this,zc);else try{de(this,Nf,n.select),p=n.select(p),p=Ex(s==null?void 0:s.data,p,n),de(this,zc,p),de(this,Ss,null)}catch(D){de(this,Ss,D)}A(this,Ss)&&(g=A(this,Ss),p=A(this,zc),x=Date.now(),v="error");const _=h.fetchStatus==="fetching",w=v==="pending",N=v==="error",U=w&&_,E=p!==void 0,T={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:N,isInitialLoading:U,isLoading:U,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:N&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&E,isStale:B1(r,n),refetch:this.refetch,promise:A(this,Ti),isEnabled:oa(n.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const D=re=>{T.status==="error"?re.reject(T.error):T.data!==void 0&&re.resolve(T.data)},R=()=>{const re=de(this,Ti,T.promise=Tx());D(re)},z=A(this,Ti);switch(z.status){case"pending":r.queryHash===a.queryHash&&D(z);break;case"fulfilled":(T.status==="error"||T.data!==z.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==z.reason)&&R();break}}return T}updateResult(){const r=A(this,Qr),n=this.createResult(A(this,nt),this.options);if(de(this,Qo,A(this,nt).state),de(this,Bc,this.options),A(this,Qo).data!==void 0&&de(this,$c,A(this,nt)),Sm(n,r))return;de(this,Qr,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!A(this,qc).size)return!0;const o=new Set(s??A(this,qc));return this.options.throwOnError&&o.add("error"),Object.keys(A(this,Qr)).some(l=>{const u=l;return A(this,Qr)[u]!==r[u]&&o.has(u)})};De(this,eg,iA).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Df,Ox).call(this)}},fn=new WeakMap,nt=new WeakMap,Af=new WeakMap,Qr=new WeakMap,Qo=new WeakMap,Bc=new WeakMap,Ti=new WeakMap,Ss=new WeakMap,Nf=new WeakMap,zc=new WeakMap,$c=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,Es=new WeakMap,qc=new WeakMap,Zo=new WeakSet,gd=function(r){De(this,Ff,Dx).call(this);let n=A(this,nt).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(Jr)),n},Of=new WeakSet,Rx=function(){De(this,Mf,jx).call(this);const r=eo(this.options.staleTime,A(this,nt));if(pl||A(this,Qr).isStale||!bx(r))return;const a=XR(A(this,Qr).dataUpdatedAt,r)+1;de(this,Yo,zo.setTimeout(()=>{A(this,Qr).isStale||this.updateResult()},a))},jf=new WeakSet,Ax=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,nt)):this.options.refetchInterval)??!1},kf=new WeakSet,Nx=function(r){De(this,If,kx).call(this),de(this,Es,r),!(pl||oa(this.options.enabled,A(this,nt))===!1||!bx(A(this,Es))||A(this,Es)===0)&&de(this,Xo,zo.setInterval(()=>{(this.options.refetchIntervalInBackground||U1.isFocused())&&De(this,Zo,gd).call(this)},A(this,Es)))},Df=new WeakSet,Ox=function(){De(this,Of,Rx).call(this),De(this,kf,Nx).call(this,De(this,jf,Ax).call(this))},Mf=new WeakSet,jx=function(){A(this,Yo)&&(zo.clearTimeout(A(this,Yo)),de(this,Yo,void 0))},If=new WeakSet,kx=function(){A(this,Xo)&&(zo.clearInterval(A(this,Xo)),de(this,Xo,void 0))},Ff=new WeakSet,Dx=function(){const r=A(this,fn).getQueryCache().build(A(this,fn),this.options);if(r===A(this,nt))return;const n=A(this,nt);de(this,nt,r),de(this,Af,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},eg=new WeakSet,iA=function(r){mr.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(A(this,Qr))}),A(this,fn).getQueryCache().notify({query:A(this,nt),type:"observerResultsUpdated"})})},C2);function NI(e,t){return oa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pb(e,t){return NI(e,t)||e.state.data!==void 0&&Mx(e,t,t.refetchOnMount)}function Mx(e,t,r){if(oa(t.enabled,e)!==!1&&eo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&B1(e,t)}return!1}function Ub(e,t,r,n){return(e!==t||oa(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&B1(e,r)}function B1(e,t){return oa(t.enabled,e)!==!1&&e.isStaleByTime(eo(t.staleTime,e))}function OI(e,t){return!Sm(e.getCurrentResult(),t)}function Bb(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],s=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=JR(t.options,t.fetchOptions),y=async(_,w,N)=>{if(g)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return x(D),D})(),k=await v(E),{maxPages:T}=t.options,b=N?wI:_I;return{pages:b(_.pages,k,T),pageParams:b(_.pageParams,w,T)}};if(a&&i.length){const _=a==="backward",w=_?jI:zb,N={pages:i,pageParams:s},U=w(n,N);o=await y(N,U,_)}else{const _=e??i.length;do{const w=l===0?s[0]??n.initialPageParam:zb(n,o);if(l>0&&w==null)break;o=await y(o,w),l++}while(l<_)}return o};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function zb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function jI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Lf,Wa,Yr,Jo,Qa,cs,R2,kI=(R2=class extends nA{constructor(t){super();pe(this,Qa);pe(this,Lf,void 0);pe(this,Wa,void 0);pe(this,Yr,void 0);pe(this,Jo,void 0);de(this,Lf,t.client),this.mutationId=t.mutationId,de(this,Yr,t.mutationCache),de(this,Wa,[]),this.state=t.state||sA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Wa).includes(t)||(A(this,Wa).push(t),this.clearGcTimeout(),A(this,Yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,Wa,A(this,Wa).filter(r=>r!==t)),this.scheduleGc(),A(this,Yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Wa).length||(this.state.status==="pending"?this.scheduleGc():A(this,Yr).remove(this))}continue(){var t;return((t=A(this,Jo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,d,f,h,m,p,g,x,v,y,_,w,N,U,E,k,T;const r=()=>{De(this,Qa,cs).call(this,{type:"continue"})},n={client:A(this,Lf),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,Jo,rA({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(b,D)=>{De(this,Qa,cs).call(this,{type:"failed",failureCount:b,error:D})},onPause:()=>{De(this,Qa,cs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,Yr).canRun(this)}));const a=this.state.status==="pending",i=!A(this,Jo).canStart();try{if(a)r();else{De(this,Qa,cs).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=A(this,Yr).config).onMutate)==null?void 0:o.call(s,t,this,n));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));D!==this.state.context&&De(this,Qa,cs).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const b=await A(this,Jo).start();return await((f=(d=A(this,Yr).config).onSuccess)==null?void 0:f.call(d,b,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,b,t,this.state.context,n)),await((g=(p=A(this,Yr).config).onSettled)==null?void 0:g.call(p,b,null,this.state.variables,this.state.context,this,n)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,b,null,t,this.state.context,n)),De(this,Qa,cs).call(this,{type:"success",data:b}),b}catch(b){try{throw await((_=(y=A(this,Yr).config).onError)==null?void 0:_.call(y,b,t,this.state.context,this,n)),await((N=(w=this.options).onError)==null?void 0:N.call(w,b,t,this.state.context,n)),await((E=(U=A(this,Yr).config).onSettled)==null?void 0:E.call(U,void 0,b,this.state.variables,this.state.context,this,n)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,b,t,this.state.context,n)),b}finally{De(this,Qa,cs).call(this,{type:"error",error:b})}}finally{A(this,Yr).runNext(this)}}},Lf=new WeakMap,Wa=new WeakMap,Yr=new WeakMap,Jo=new WeakMap,Qa=new WeakSet,cs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mr.batch(()=>{A(this,Wa).forEach(n=>{n.onMutationUpdate(t)}),A(this,Yr).notify({mutation:this,type:"updated",action:t})})},R2);function sA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,Na,Pf,A2,DI=(A2=class extends Du{constructor(t={}){super();pe(this,Ci,void 0);pe(this,Na,void 0);pe(this,Pf,void 0);this.config=t,de(this,Ci,new Set),de(this,Na,new Map),de(this,Pf,0)}build(t,r,n){const a=new kI({client:t,mutationCache:this,mutationId:++jh(this,Pf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){A(this,Ci).add(t);const r=Wh(t);if(typeof r=="string"){const n=A(this,Na).get(r);n?n.push(t):A(this,Na).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,Ci).delete(t)){const r=Wh(t);if(typeof r=="string"){const n=A(this,Na).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&A(this,Na).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Wh(t);if(typeof r=="string"){const n=A(this,Na).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Wh(t);if(typeof r=="string"){const a=(n=A(this,Na).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mr.batch(()=>{A(this,Ci).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,Ci).clear(),A(this,Na).clear()})}getAll(){return Array.from(A(this,Ci))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Mb(r,n))}findAll(t={}){return this.getAll().filter(r=>Mb(t,r))}notify(t){mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return mr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Jr))))}},Ci=new WeakMap,Na=new WeakMap,Pf=new WeakMap,A2);function Wh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ri,Ts,hn,Ai,Vc,z0,Uf,Ix,N2,MI=(N2=class extends Du{constructor(r,n){super();pe(this,Vc);pe(this,Uf);pe(this,Ri,void 0);pe(this,Ts,void 0);pe(this,hn,void 0);pe(this,Ai,void 0);de(this,Ri,r),this.setOptions(n),this.bindMethods(),De(this,Vc,z0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=A(this,Ri).defaultMutationOptions(r),Sm(this.options,n)||A(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,hn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&vl(n.mutationKey)!==vl(this.options.mutationKey)?this.reset():((a=A(this,hn))==null?void 0:a.state.status)==="pending"&&A(this,hn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=A(this,hn))==null||r.removeObserver(this)}onMutationUpdate(r){De(this,Vc,z0).call(this),De(this,Uf,Ix).call(this,r)}getCurrentResult(){return A(this,Ts)}reset(){var r;(r=A(this,hn))==null||r.removeObserver(this),de(this,hn,void 0),De(this,Vc,z0).call(this),De(this,Uf,Ix).call(this)}mutate(r,n){var a;return de(this,Ai,n),(a=A(this,hn))==null||a.removeObserver(this),de(this,hn,A(this,Ri).getMutationCache().build(A(this,Ri),this.options)),A(this,hn).addObserver(this),A(this,hn).execute(r)}},Ri=new WeakMap,Ts=new WeakMap,hn=new WeakMap,Ai=new WeakMap,Vc=new WeakSet,z0=function(){var n;const r=((n=A(this,hn))==null?void 0:n.state)??sA();de(this,Ts,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Uf=new WeakSet,Ix=function(r){mr.batch(()=>{var n,a,i,s,o,l,u,d;if(A(this,Ai)&&this.hasListeners()){const f=A(this,Ts).variables,h=A(this,Ts).context,m={client:A(this,Ri),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=A(this,Ai)).onSuccess)==null||a.call(n,r.data,f,h,m),(s=(i=A(this,Ai)).onSettled)==null||s.call(i,r.data,null,f,h,m)):(r==null?void 0:r.type)==="error"&&((l=(o=A(this,Ai)).onError)==null||l.call(o,r.error,f,h,m),(d=(u=A(this,Ai)).onSettled)==null||d.call(u,void 0,r.error,f,h,m))}this.listeners.forEach(f=>{f(A(this,Ts))})})},N2),Ya,O2,II=(O2=class extends Du{constructor(t={}){super();pe(this,Ya,void 0);this.config=t,de(this,Ya,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??L1(a,r);let s=this.get(i);return s||(s=new RI({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){A(this,Ya).has(t.queryHash)||(A(this,Ya).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=A(this,Ya).get(t.queryHash);r&&(t.destroy(),r===t&&A(this,Ya).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Ya).get(t)}getAll(){return[...A(this,Ya).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Db(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Db(t,n)):r}notify(t){mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ya=new WeakMap,O2),Gt,Cs,Rs,Hc,Gc,As,Kc,Wc,j2,FI=(j2=class{constructor(e={}){pe(this,Gt,void 0);pe(this,Cs,void 0);pe(this,Rs,void 0);pe(this,Hc,void 0);pe(this,Gc,void 0);pe(this,As,void 0);pe(this,Kc,void 0);pe(this,Wc,void 0);de(this,Gt,e.queryCache||new II),de(this,Cs,e.mutationCache||new DI),de(this,Rs,e.defaultOptions||{}),de(this,Hc,new Map),de(this,Gc,new Map),de(this,As,0)}mount(){jh(this,As)._++,A(this,As)===1&&(de(this,Kc,U1.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Gt).onFocus())})),de(this,Wc,Em.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Gt).onOnline())})))}unmount(){var e,t;jh(this,As)._--,A(this,As)===0&&((e=A(this,Kc))==null||e.call(this),de(this,Kc,void 0),(t=A(this,Wc))==null||t.call(this),de(this,Wc,void 0))}isFetching(e){return A(this,Gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=A(this,Gt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=A(this,Gt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(eo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return A(this,Gt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=A(this,Gt).get(n.queryHash),i=a==null?void 0:a.state.data,s=vI(t,i);if(s!==void 0)return A(this,Gt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return mr.batch(()=>A(this,Gt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=A(this,Gt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=A(this,Gt);mr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=A(this,Gt);return mr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=mr.batch(()=>A(this,Gt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Jr).catch(Jr)}invalidateQueries(e,t={}){return mr.batch(()=>(A(this,Gt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=mr.batch(()=>A(this,Gt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Jr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=A(this,Gt).build(this,t);return r.isStaleByTime(eo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=Bb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=Bb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Em.isOnline()?A(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Gt)}getMutationCache(){return A(this,Cs)}getDefaultOptions(){return A(this,Rs)}setDefaultOptions(e){de(this,Rs,e)}setQueryDefaults(e,t){A(this,Hc).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,Hc).values()],r={};return t.forEach(n=>{uf(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){A(this,Gc).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,Gc).values()],r={};return t.forEach(n=>{uf(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,Rs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=L1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===P1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,Rs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Gt).clear(),A(this,Cs).clear()}},Gt=new WeakMap,Cs=new WeakMap,Rs=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,As=new WeakMap,Kc=new WeakMap,Wc=new WeakMap,j2),oA=S.createContext(void 0),ot=e=>{const t=S.useContext(oA);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LI=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(oA.Provider,{value:e,children:t})),lA=S.createContext(!1),PI=()=>S.useContext(lA);lA.Provider;function UI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BI=S.createContext(UI()),zI=()=>S.useContext(BI),$I=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qI=e=>{S.useEffect(()=>{e.clearReset()},[e])},VI=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||eA(r,[e.error,n])),HI=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},GI=(e,t)=>e.isLoading&&e.isFetching&&!t,KI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$b=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function WI(e,t,r){var f,h,m,p,g;const n=PI(),a=zI(),i=ot(r),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",HI(s),$I(s,a),qI(a);const o=!i.getQueryCache().get(s.queryHash),[l]=S.useState(()=>new t(i,s)),u=l.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(x=>{const v=d?l.subscribe(mr.batchCalls(x)):Jr;return l.updateResult(),v},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(s)},[s,l]),KI(s,u))throw $b(s,l,a);if(VI({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,u),s.experimental_prefetchInRender&&!pl&&GI(u,n)){const x=o?$b(s,l,a):(g=i.getQueryCache().get(s.queryHash))==null?void 0:g.promise;x==null||x.catch(Jr).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function zt(e,t){return WI(e,AI,t)}function st(e,t){const r=ot(t),[n]=S.useState(()=>new MI(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const a=S.useSyncExternalStore(S.useCallback(s=>n.subscribe(mr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((s,o)=>{n.mutate(s,o).catch(Jr)},[n]);if(a.error&&eA(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const QI="modulepreload",YI=function(e){return"/tracc/"+e},qb={},Mu=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=YI(i),i in qb)return;qb[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":QI,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};var XI=function(){return null};function ZI(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const JI=e=>{switch(e){case"success":return rF;case"info":return aF;case"warning":return nF;case"error":return iF;default:return null}},eF=Array(12).fill(0),tF=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},eF.map((r,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sF=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oF=()=>{const[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Fx=1,lF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Fx++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...a,dismissible:o,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,s;const o=a.then(async u=>{if(s=["resolve",u],ce.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(uF(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...p})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...p})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...p})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!ce.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Fx++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const yn=new lF,cF=(e,t)=>{const r=(t==null?void 0:t.id)||Fx++;return yn.addToast({title:e,...t,id:r}),r},uF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",dF=cF,fF=()=>yn.toasts,hF=()=>yn.getActiveToasts();Object.assign(dF,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:fF,getToasts:hF});ZI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qh(e){return e.label!==void 0}const mF=3,gF="24px",pF="16px",Vb=4e3,vF=356,xF=14,yF=45,_F=200;function Va(...e){return e.filter(Boolean).join(" ")}function wF(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const bF=e=>{var t,r,n,a,i,s,o,l,u;const{invert:d,toast:f,unstyled:h,interacting:m,setHeights:p,visibleToasts:g,heights:x,index:v,toasts:y,expanded:_,removeToast:w,defaultRichColors:N,closeButton:U,style:E,cancelButtonStyle:k,actionButtonStyle:T,className:b="",descriptionClassName:D="",duration:R,position:z,gap:re,expandByDefault:ie,classNames:O,icons:Q,closeButtonAriaLabel:M="Close toast"}=e,[K,J]=ce.useState(null),[Y,P]=ce.useState(null),[H,I]=ce.useState(!1),[L,W]=ce.useState(!1),[se,fe]=ce.useState(!1),[ve,ge]=ce.useState(!1),[Le,Ue]=ce.useState(!1),[Ot,Ye]=ce.useState(0),[$r,ht]=ce.useState(0),Ne=ce.useRef(f.duration||R||Vb),vr=ce.useRef(null),Tt=ce.useRef(null),G=v===0,X=v+1<=g,ae=f.type,Ee=f.dismissible!==!1,_e=f.className||"",ye=f.descriptionClassName||"",Me=ce.useMemo(()=>x.findIndex(Ve=>Ve.toastId===f.id)||0,[x,f.id]),rt=ce.useMemo(()=>{var Ve;return(Ve=f.closeButton)!=null?Ve:U},[f.closeButton,U]),Ze=ce.useMemo(()=>f.duration||R||Vb,[f.duration,R]),xr=ce.useRef(0),on=ce.useRef(0),ln=ce.useRef(0),wa=ce.useRef(null),[rs,ns]=z.split("-"),wo=ce.useMemo(()=>x.reduce((Ve,er,yr)=>yr>=Me?Ve:Ve+er.height,0),[x,Me]),bo=oF(),Ku=f.invert||d,di=ae==="loading";on.current=ce.useMemo(()=>Me*re+wo,[Me,wo]),ce.useEffect(()=>{Ne.current=Ze},[Ze]),ce.useEffect(()=>{I(!0)},[]),ce.useEffect(()=>{const Ve=Tt.current;if(Ve){const er=Ve.getBoundingClientRect().height;return ht(er),p(yr=>[{toastId:f.id,height:er,position:f.position},...yr]),()=>p(yr=>yr.filter(Kr=>Kr.toastId!==f.id))}},[p,f.id]),ce.useLayoutEffect(()=>{if(!H)return;const Ve=Tt.current,er=Ve.style.height;Ve.style.height="auto";const yr=Ve.getBoundingClientRect().height;Ve.style.height=er,ht(yr),p(Kr=>Kr.find(dr=>dr.toastId===f.id)?Kr.map(dr=>dr.toastId===f.id?{...dr,height:yr}:dr):[{toastId:f.id,height:yr,position:f.position},...Kr])},[H,f.title,f.description,p,f.id,f.jsx,f.action,f.cancel]);const ba=ce.useCallback(()=>{W(!0),Ye(on.current),p(Ve=>Ve.filter(er=>er.toastId!==f.id)),setTimeout(()=>{w(f)},_F)},[f,w,p,on]);ce.useEffect(()=>{if(f.promise&&ae==="loading"||f.duration===1/0||f.type==="loading")return;let Ve;return _||m||bo?(()=>{if(ln.current<xr.current){const Kr=new Date().getTime()-xr.current;Ne.current=Ne.current-Kr}ln.current=new Date().getTime()})():(()=>{Ne.current!==1/0&&(xr.current=new Date().getTime(),Ve=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ba()},Ne.current))})(),()=>clearTimeout(Ve)},[_,m,f,ae,bo,ba]),ce.useEffect(()=>{f.delete&&(ba(),f.onDismiss==null||f.onDismiss.call(f,f))},[ba,f.delete]);function Ah(){var Ve;if(Q!=null&&Q.loading){var er;return ce.createElement("div",{className:Va(O==null?void 0:O.loader,f==null||(er=f.classNames)==null?void 0:er.loader,"sonner-loader"),"data-visible":ae==="loading"},Q.loading)}return ce.createElement(tF,{className:Va(O==null?void 0:O.loader,f==null||(Ve=f.classNames)==null?void 0:Ve.loader),visible:ae==="loading"})}const Qg=f.icon||(Q==null?void 0:Q[ae])||JI(ae);var Nh,So;return ce.createElement("li",{tabIndex:0,ref:Tt,className:Va(b,_e,O==null?void 0:O.toast,f==null||(t=f.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[ae],f==null||(r=f.classNames)==null?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":(Nh=f.richColors)!=null?Nh:N,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":Le,"data-removed":L,"data-visible":X,"data-y-position":rs,"data-x-position":ns,"data-index":v,"data-front":G,"data-swiping":se,"data-dismissible":Ee,"data-type":ae,"data-invert":Ku,"data-swipe-out":ve,"data-swipe-direction":Y,"data-expanded":!!(_||ie&&H),"data-testid":f.testId,style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${L?Ot:on.current}px`,"--initial-height":ie?"auto":`${$r}px`,...E,...f.style},onDragEnd:()=>{fe(!1),J(null),wa.current=null},onPointerDown:Ve=>{Ve.button!==2&&(di||!Ee||(vr.current=new Date,Ye(on.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(fe(!0),wa.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,er,yr;if(ve||!Ee)return;wa.current=null;const Kr=Number(((Ve=Tt.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ll=Number(((er=Tt.current)==null?void 0:er.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dr=new Date().getTime()-((yr=vr.current)==null?void 0:yr.getTime()),cn=K==="x"?Kr:Ll,Pl=Math.abs(cn)/dr;if(Math.abs(cn)>=yF||Pl>.11){Ye(on.current),f.onDismiss==null||f.onDismiss.call(f,f),P(K==="x"?Kr>0?"right":"left":Ll>0?"down":"up"),ba(),ge(!0);return}else{var Wr,Nn;(Wr=Tt.current)==null||Wr.style.setProperty("--swipe-amount-x","0px"),(Nn=Tt.current)==null||Nn.style.setProperty("--swipe-amount-y","0px")}Ue(!1),fe(!1),J(null)},onPointerMove:Ve=>{var er,yr,Kr;if(!wa.current||!Ee||((er=window.getSelection())==null?void 0:er.toString().length)>0)return;const dr=Ve.clientY-wa.current.y,cn=Ve.clientX-wa.current.x;var Pl;const Wr=(Pl=e.swipeDirections)!=null?Pl:wF(z);!K&&(Math.abs(cn)>1||Math.abs(dr)>1)&&J(Math.abs(cn)>Math.abs(dr)?"x":"y");let Nn={x:0,y:0};const Oh=fi=>1/(1.5+Math.abs(fi)/20);if(K==="y"){if(Wr.includes("top")||Wr.includes("bottom"))if(Wr.includes("top")&&dr<0||Wr.includes("bottom")&&dr>0)Nn.y=dr;else{const fi=dr*Oh(dr);Nn.y=Math.abs(fi)<Math.abs(dr)?fi:dr}}else if(K==="x"&&(Wr.includes("left")||Wr.includes("right")))if(Wr.includes("left")&&cn<0||Wr.includes("right")&&cn>0)Nn.x=cn;else{const fi=cn*Oh(cn);Nn.x=Math.abs(fi)<Math.abs(cn)?fi:cn}(Math.abs(Nn.x)>0||Math.abs(Nn.y)>0)&&Ue(!0),(yr=Tt.current)==null||yr.style.setProperty("--swipe-amount-x",`${Nn.x}px`),(Kr=Tt.current)==null||Kr.style.setProperty("--swipe-amount-y",`${Nn.y}px`)}},rt&&!f.jsx&&ae!=="loading"?ce.createElement("button",{"aria-label":M,"data-disabled":di,"data-close-button":!0,onClick:di||!Ee?()=>{}:()=>{ba(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Va(O==null?void 0:O.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(So=Q==null?void 0:Q.close)!=null?So:sF):null,(ae||f.icon||f.promise)&&f.icon!==null&&((Q==null?void 0:Q[ae])!==null||f.icon)?ce.createElement("div",{"data-icon":"",className:Va(O==null?void 0:O.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ah():null,f.type!=="loading"?Qg:null):null,ce.createElement("div",{"data-content":"",className:Va(O==null?void 0:O.content,f==null||(i=f.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:Va(O==null?void 0:O.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ce.createElement("div",{"data-description":"",className:Va(D,ye,O==null?void 0:O.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),ce.isValidElement(f.cancel)?f.cancel:f.cancel&&Qh(f.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:Ve=>{Qh(f.cancel)&&Ee&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ve),ba())},className:Va(O==null?void 0:O.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,ce.isValidElement(f.action)?f.action:f.action&&Qh(f.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ve=>{Qh(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ve),!Ve.defaultPrevented&&ba())},className:Va(O==null?void 0:O.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function Hb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function SF(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",o=i?pF:gF;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}const EF=ce.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:f,theme:h="light",richColors:m,duration:p,style:g,visibleToasts:x=mF,toastOptions:v,dir:y=Hb(),gap:_=xF,icons:w,containerAriaLabel:N="Notifications"}=t,[U,E]=ce.useState([]),k=ce.useMemo(()=>n?U.filter(H=>H.toasterId===n):U.filter(H=>!H.toasterId),[U,n]),T=ce.useMemo(()=>Array.from(new Set([i].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,i]),[b,D]=ce.useState([]),[R,z]=ce.useState(!1),[re,ie]=ce.useState(!1),[O,Q]=ce.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=ce.useRef(null),K=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=ce.useRef(null),Y=ce.useRef(!1),P=ce.useCallback(H=>{E(I=>{var L;return(L=I.find(W=>W.id===H.id))!=null&&L.delete||yn.dismiss(H.id),I.filter(({id:W})=>W!==H.id)})},[]);return ce.useEffect(()=>yn.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{E(I=>I.map(L=>L.id===H.id?{...L,delete:!0}:L))});return}setTimeout(()=>{J2.flushSync(()=>{E(I=>{const L=I.findIndex(W=>W.id===H.id);return L!==-1?[...I.slice(0,L),{...I[L],...H},...I.slice(L+1)]:[H,...I]})})})}),[U]),ce.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:I})=>{Q(I?"dark":"light")})}catch{H.addListener(({matches:L})=>{try{Q(L?"dark":"light")}catch(W){console.error(W)}})}},[h]),ce.useEffect(()=>{U.length<=1&&z(!1)},[U]),ce.useEffect(()=>{const H=I=>{var L;if(s.every(fe=>I[fe]||I.code===fe)){var se;z(!0),(se=M.current)==null||se.focus()}I.code==="Escape"&&(document.activeElement===M.current||(L=M.current)!=null&&L.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),ce.useEffect(()=>{if(M.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,Y.current=!1)}},[M.current]),ce.createElement("section",{ref:r,"aria-label":`${N} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((H,I)=>{var L;const[W,se]=H.split("-");return k.length?ce.createElement("ol",{key:H,dir:y==="auto"?Hb():y,tabIndex:-1,ref:M,className:u,"data-sonner-toaster":!0,"data-sonner-theme":O,"data-y-position":W,"data-x-position":se,style:{"--front-toast-height":`${((L=b[0])==null?void 0:L.height)||0}px`,"--width":`${vF}px`,"--gap":`${_}px`,...g,...SF(d,f)},onBlur:fe=>{Y.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(Y.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,J.current=fe.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{re||z(!1)},onDragEnd:()=>z(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},k.filter(fe=>!fe.position&&I===0||fe.position===H).map((fe,ve)=>{var ge,Le;return ce.createElement(bF,{key:fe.id,icons:w,index:ve,toast:fe,defaultRichColors:m,duration:(ge=v==null?void 0:v.duration)!=null?ge:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:a,visibleToasts:x,closeButton:(Le=v==null?void 0:v.closeButton)!=null?Le:l,interacting:re,position:H,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:P,toasts:k.filter(Ue=>Ue.position==fe.position),heights:b.filter(Ue=>Ue.position==fe.position),setHeights:D,expandByDefault:o,gap:_,expanded:R,swipeDirections:t.swipeDirections})})):null}))});var Yh={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UI_ERROR:"UI_ERROR",API_ERROR:"API_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",DUPLICATE_ERROR:"DUPLICATE_ERROR"},Gb={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100],MAX_VISIBLE_PAGES:5};function Kb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Eg(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Kb(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Kb(e[a],null)}}}}function Tn(...e){return S.useCallback(Eg(...e),e)}function df(e){const t=TF(e),r=S.forwardRef((n,a)=>{const{children:i,...s}=n,o=S.Children.toArray(i),l=o.find(RF);if(l){const u=l.props.children,d=o.map(f=>f===l?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...s,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return c.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var cA=df("Slot");function TF(e){const t=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const s=NF(a),o=AF(i,a.props);return a.type!==S.Fragment&&(o.ref=n?Eg(n,s):s),S.cloneElement(a,o)}return S.Children.count(a)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CF=Symbol("radix.slottable");function RF(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CF}function AF(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function NF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=uA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dA(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=uA(e))&&(n&&(n+=" "),n+=t);return n}const z1="-",OF=e=>{const t=kF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(z1);return o[0]===""&&o.length!==1&&o.shift(),fA(o,t)||jF(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},fA=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?fA(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(z1);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},Wb=/^\[(.+)\]$/,jF=e=>{if(Wb.test(e)){const t=Wb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},kF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return MF(Object.entries(e.classGroups),r).forEach(([i,s])=>{Lx(s,n,i,t)}),n},Lx=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Qb(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(DF(a)){Lx(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Lx(s,Qb(t,i),r,n)})})},Qb=(e,t)=>{let r=e;return t.split(z1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},DF=e=>e.isThemeGetter,MF=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,o])=>[t+s,o])):i);return[r,a]}):e,IF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},hA="!",FF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=o=>{const l=[];let u=0,d=0,f;for(let x=0;x<o.length;x++){let v=o[x];if(u===0){if(v===a&&(n||o.slice(x,x+i)===t)){l.push(o.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?o:o.substring(d),m=h.startsWith(hA),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:s}):s},LF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},PF=e=>({cache:IF(e.cacheSize),parseClassName:FF(e),...OF(e)}),UF=/\s+/,BF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(UF);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){o=u+(o.length>0?" "+o:o);continue}if(g=n(h),!g){o=u+(o.length>0?" "+o:o);continue}p=!1}const x=LF(d).join(":"),v=f?x+hA:x,y=v+g;if(i.includes(y))continue;i.push(y);const _=a(g,p);for(let w=0;w<_.length;++w){const N=_[w];i.push(v+N)}o=u+(o.length>0?" "+o:o)}return o};function zF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mA(t))&&(n&&(n+=" "),n+=r);return n}const mA=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mA(e[n]))&&(r&&(r+=" "),r+=t);return r};function $F(e,...t){let r,n,a,i=s;function s(l){const u=t.reduce((d,f)=>f(d),e());return r=PF(u),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=BF(l,r);return a(l,d),d}return function(){return i(zF.apply(null,arguments))}}const kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},gA=/^\[(?:([a-z-]+):)?(.+)\]$/i,qF=/^\d+\/\d+$/,VF=new Set(["px","full","screen"]),HF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=e=>Rc(e)||VF.has(e)||qF.test(e),is=e=>Iu(e,"length",n6),Rc=e=>!!e&&!Number.isNaN(Number(e)),Fp=e=>Iu(e,"number",Rc),ad=e=>!!e&&Number.isInteger(Number(e)),YF=e=>e.endsWith("%")&&Rc(e.slice(0,-1)),Qe=e=>gA.test(e),ss=e=>HF.test(e),XF=new Set(["length","size","percentage"]),ZF=e=>Iu(e,XF,pA),JF=e=>Iu(e,"position",pA),e6=new Set(["image","url"]),t6=e=>Iu(e,e6,i6),r6=e=>Iu(e,"",a6),id=()=>!0,Iu=(e,t,r)=>{const n=gA.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},n6=e=>GF.test(e)&&!KF.test(e),pA=()=>!1,a6=e=>WF.test(e),i6=e=>QF.test(e),s6=()=>{const e=kt("colors"),t=kt("spacing"),r=kt("blur"),n=kt("brightness"),a=kt("borderColor"),i=kt("borderRadius"),s=kt("borderSpacing"),o=kt("borderWidth"),l=kt("contrast"),u=kt("grayscale"),d=kt("hueRotate"),f=kt("invert"),h=kt("gap"),m=kt("gradientColorStops"),p=kt("gradientColorStopPositions"),g=kt("inset"),x=kt("margin"),v=kt("opacity"),y=kt("padding"),_=kt("saturate"),w=kt("scale"),N=kt("sepia"),U=kt("skew"),E=kt("space"),k=kt("translate"),T=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Qe,t],R=()=>[Qe,t],z=()=>["",xi,is],re=()=>["auto",Rc,Qe],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Rc,Qe];return{cacheSize:500,separator:":",theme:{colors:[id],spacing:[xi,is],blur:["none","",ss,Qe],brightness:Y(),borderColor:[e],borderRadius:["none","","full",ss,Qe],borderSpacing:R(),borderWidth:z(),contrast:Y(),grayscale:K(),hueRotate:Y(),invert:K(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[YF,is],inset:D(),margin:D(),opacity:Y(),padding:R(),saturate:Y(),scale:Y(),sepia:K(),skew:Y(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Qe]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ad,Qe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",ad,Qe]}],"grid-cols":[{"grid-cols":[id]}],"col-start-end":[{col:["auto",{span:["full",ad,Qe]},Qe]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[id]}],"row-start-end":[{row:["auto",{span:[ad,Qe]},Qe]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fp]}],"font-family":[{font:[id]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Rc,Fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,is]}],"underline-offset":[{"underline-offset":["auto",xi,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),JF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[xi,Qe]}],"outline-w":[{outline:[xi,is]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xi,is]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,r6]}],"shadow-color":[{shadow:[id]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ss,Qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ad,Qe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xi,is,Fp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o6=$F(s6);function l6(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Px=1;class c6{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Px++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...a,dismissible:o,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,s;const o=a.then(async u=>{if(s=["resolve",u],ce.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(d6(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...p})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...p})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!ce.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...p})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!ce.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Px++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ta=new c6,u6=(e,t)=>{const r=(t==null?void 0:t.id)||Px++;return ta.addToast({title:e,...t,id:r}),r},d6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",f6=u6,h6=()=>ta.toasts,m6=()=>ta.getActiveToasts(),vA=Object.assign(f6,{success:ta.success,info:ta.info,warning:ta.warning,error:ta.error,custom:ta.custom,message:ta.message,promise:ta.promise,dismiss:ta.dismiss,loading:ta.loading},{getHistory:h6,getToasts:m6});l6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Yb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xb=dA,xA=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Xb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Yb(d)||Yb(f);return a[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,x]=p;return Array.isArray(x)?x.includes({...i,...o}[g]):{...i,...o}[g]===x})?[...u,f,h]:u},[]);return Xb(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function zs(e,t){return typeof e=="function"?e(t):e}function Zn(e,t){return r=>{t.setState(n=>({...n,[e]:zs(r,n[e])}))}}function Tg(e){return e instanceof Function}function g6(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function p6(e,t){const r=[],n=a=>{a.forEach(i=>{r.push(i);const s=t(i);s!=null&&s.length&&n(s)})};return n(e),r}function Be(e,t,r){let n=[],a;return i=>{let s;r.key&&r.debug&&(s=Date.now());const o=e(i);if(!(o.length!==n.length||o.some((d,f)=>n[f]!==d)))return a;n=o;let u;if(r.key&&r.debug&&(u=Date.now()),a=t(...o),r==null||r.onChange==null||r.onChange(a),r.key&&r.debug&&r!=null&&r.debug()){const d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=(p,g)=>{for(p=String(p);p.length<g;)p=" "+p;return p};console.info(`%c ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,r==null?void 0:r.key)}return a}}function ze(e,t,r,n){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:n}}function v6(e,t,r,n){const a=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:a,getContext:Be(()=>[e,r,t,i],(s,o,l,u)=>({table:s,column:o,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),ze(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,r,t,e)},{}),i}function x6(e,t,r,n){var a,i;const o={...e._getDefaultColumnDef(),...t},l=o.accessorKey;let u=(a=(i=o.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?a:typeof o.header=="string"?o.header:void 0,d;if(o.accessorFn?d=o.accessorFn:l&&(l.includes(".")?d=h=>{let m=h;for(const g of l.split(".")){var p;m=(p=m)==null?void 0:p[g]}return m}:d=h=>h[o.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:n,depth:r,columnDef:o,columns:[],getFlatColumns:Be(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(m=>m.getFlatColumns())]},ze(e.options,"debugColumns")),getLeafColumns:Be(()=>[e._getOrderColumnsFn()],h=>{var m;if((m=f.columns)!=null&&m.length){let p=f.columns.flatMap(g=>g.getLeafColumns());return h(p)}return[f]},ze(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const Vr="debugHeaders";function Zb(e,t,r){var n;let i={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],o=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(o),s.push(l)};return o(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const y6={createTable:e=>{e.getHeaderGroups=Be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>{var i,s;const o=(i=n==null?void 0:n.map(f=>r.find(h=>h.id===f)).filter(Boolean))!=null?i:[],l=(s=a==null?void 0:a.map(f=>r.find(h=>h.id===f)).filter(Boolean))!=null?s:[],u=r.filter(f=>!(n!=null&&n.includes(f.id))&&!(a!=null&&a.includes(f.id)));return Xh(t,[...o,...u,...l],e)},ze(e.options,Vr)),e.getCenterHeaderGroups=Be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>(r=r.filter(i=>!(n!=null&&n.includes(i.id))&&!(a!=null&&a.includes(i.id))),Xh(t,r,e,"center")),ze(e.options,Vr)),e.getLeftHeaderGroups=Be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var a;const i=(a=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?a:[];return Xh(t,i,e,"left")},ze(e.options,Vr)),e.getRightHeaderGroups=Be(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var a;const i=(a=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?a:[];return Xh(t,i,e,"right")},ze(e.options,Vr)),e.getFooterGroups=Be(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ze(e.options,Vr)),e.getLeftFooterGroups=Be(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ze(e.options,Vr)),e.getCenterFooterGroups=Be(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ze(e.options,Vr)),e.getRightFooterGroups=Be(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ze(e.options,Vr)),e.getFlatHeaders=Be(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),ze(e.options,Vr)),e.getLeftFlatHeaders=Be(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),ze(e.options,Vr)),e.getCenterFlatHeaders=Be(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),ze(e.options,Vr)),e.getRightFlatHeaders=Be(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),ze(e.options,Vr)),e.getCenterLeafHeaders=Be(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ze(e.options,Vr)),e.getLeftLeafHeaders=Be(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ze(e.options,Vr)),e.getRightLeafHeaders=Be(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ze(e.options,Vr)),e.getLeafHeaders=Be(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var a,i,s,o,l,u;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(s=(o=r[0])==null?void 0:o.headers)!=null?s:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},ze(e.options,Vr))}};function Xh(e,t,r,n){var a,i;let s=0;const o=function(h,m){m===void 0&&(m=1),s=Math.max(s,m),h.filter(p=>p.getIsVisible()).forEach(p=>{var g;(g=p.columns)!=null&&g.length&&o(p.columns,m+1)},0)};o(e);let l=[];const u=(h,m)=>{const p={depth:m,id:[n,`${m}`].filter(Boolean).join("_"),headers:[]},g=[];h.forEach(x=>{const v=[...g].reverse()[0],y=x.column.depth===p.depth;let _,w=!1;if(y&&x.column.parent?_=x.column.parent:(_=x.column,w=!0),v&&(v==null?void 0:v.column)===_)v.subHeaders.push(x);else{const N=Zb(r,_,{id:[n,m,_.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:w,placeholderId:w?`${g.filter(U=>U.column===_).length}`:void 0,depth:m,index:g.length});N.subHeaders.push(x),g.push(N)}p.headers.push(x),x.headerGroup=p}),l.push(p),m>0&&u(g,m-1)},d=t.map((h,m)=>Zb(r,h,{depth:s,index:m}));u(d,s-1),l.reverse();const f=h=>h.filter(p=>p.column.getIsVisible()).map(p=>{let g=0,x=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],f(p.subHeaders).forEach(_=>{let{colSpan:w,rowSpan:N}=_;g+=w,v.push(N)})):g=1;const y=Math.min(...v);return x=x+y,p.colSpan=g,p.rowSpan=x,{colSpan:g,rowSpan:x}});return f((a=(i=l[0])==null?void 0:i.headers)!=null?a:[]),l}const $1=(e,t,r,n,a,i,s)=>{let o={id:t,index:n,original:r,depth:a,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(o._valuesCache.hasOwnProperty(l))return o._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return o._valuesCache[l]=u.accessorFn(o.original,n),o._valuesCache[l]},getUniqueValues:l=>{if(o._uniqueValuesCache.hasOwnProperty(l))return o._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[l]=u.columnDef.getUniqueValues(o.original,n),o._uniqueValuesCache[l]):(o._uniqueValuesCache[l]=[o.getValue(l)],o._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=o.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>p6(o.subRows,l=>l.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let l=[],u=o;for(;;){const d=u.getParentRow();if(!d)break;l.push(d),u=d}return l.reverse()},getAllCells:Be(()=>[e.getAllLeafColumns()],l=>l.map(u=>v6(e,o,u,u.id)),ze(e.options,"debugRows")),_getAllCellsByColumnId:Be(()=>[o.getAllCells()],l=>l.reduce((u,d)=>(u[d.column.id]=d,u),{}),ze(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(o,e)}return o},_6={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},yA=(e,t,r)=>{var n,a;const i=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};yA.autoRemove=e=>La(e);const _A=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};_A.autoRemove=e=>La(e);const wA=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};wA.autoRemove=e=>La(e);const bA=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};bA.autoRemove=e=>La(e);const SA=(e,t,r)=>!r.some(n=>{var a;return!((a=e.getValue(t))!=null&&a.includes(n))});SA.autoRemove=e=>La(e)||!(e!=null&&e.length);const EA=(e,t,r)=>r.some(n=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(n)});EA.autoRemove=e=>La(e)||!(e!=null&&e.length);const TA=(e,t,r)=>e.getValue(t)===r;TA.autoRemove=e=>La(e);const CA=(e,t,r)=>e.getValue(t)==r;CA.autoRemove=e=>La(e);const q1=(e,t,r)=>{let[n,a]=r;const i=e.getValue(t);return i>=n&&i<=a};q1.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,a=typeof r!="number"?parseFloat(r):r,i=t===null||Number.isNaN(n)?-1/0:n,s=r===null||Number.isNaN(a)?1/0:a;if(i>s){const o=i;i=s,s=o}return[i,s]};q1.autoRemove=e=>La(e)||La(e[0])&&La(e[1]);const bi={includesString:yA,includesStringSensitive:_A,equalsString:wA,arrIncludes:bA,arrIncludesAll:SA,arrIncludesSome:EA,equals:TA,weakEquals:CA,inNumberRange:q1};function La(e){return e==null||e===""}const w6={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Zn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(e.id);return typeof n=="string"?bi.includesString:typeof n=="number"?bi.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?bi.equals:Array.isArray(n)?bi.arrIncludes:bi.weakEquals},e.getFilterFn=()=>{var r,n;return Tg(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:bi[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,a;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{const a=e.getFilterFn(),i=n==null?void 0:n.find(d=>d.id===e.id),s=zs(r,i?i.value:void 0);if(Jb(a,s,e)){var o;return(o=n==null?void 0:n.filter(d=>d.id!==e.id))!=null?o:[]}const l={id:e.id,value:s};if(i){var u;return(u=n==null?void 0:n.map(d=>d.id===e.id?l:d))!=null?u:[]}return n!=null&&n.length?[...n,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns(),n=a=>{var i;return(i=zs(t,a))==null?void 0:i.filter(s=>{const o=r.find(l=>l.id===s.id);if(o){const l=o.getFilterFn();if(Jb(l,s.value,o))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Jb(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}const b6=(e,t,r)=>r.reduce((n,a)=>{const i=a.getValue(e);return n+(typeof i=="number"?i:0)},0),S6=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}),n},E6=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}),n},T6=(e,t,r)=>{let n,a;return r.forEach(i=>{const s=i.getValue(e);s!=null&&(n===void 0?s>=s&&(n=a=s):(n>s&&(n=s),a<s&&(a=s)))}),[n,a]},C6=(e,t)=>{let r=0,n=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++r,n+=i)}),r)return n/r},R6=(e,t)=>{if(!t.length)return;const r=t.map(i=>i.getValue(e));if(!g6(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),a=r.sort((i,s)=>i-s);return r.length%2!==0?a[n]:(a[n-1]+a[n])/2},A6=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),N6=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,O6=(e,t)=>t.length,Lp={sum:b6,min:S6,max:E6,extent:T6,mean:C6,median:R6,unique:A6,uniqueCount:N6,count:O6},j6={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Zn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(e.id);if(typeof n=="number")return Lp.sum;if(Object.prototype.toString.call(n)==="[object Date]")return Lp.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return Tg(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:Lp[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=r.subRows)!=null&&a.length)}}};function k6(e,t,r){if(!(t!=null&&t.length)||!r)return e;const n=e.filter(i=>!t.includes(i.id));return r==="remove"?n:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...n]}const D6={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Zn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Be(r=>[Md(t,r)],r=>r.findIndex(n=>n.id===e.id),ze(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var n;return((n=Md(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;const a=Md(t,r);return((n=a[a.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=Be(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const s=[...t],o=[...a];for(;o.length&&s.length;){const l=s.shift(),u=o.findIndex(d=>d.id===l);u>-1&&i.push(o.splice(u,1)[0])}i=[...i,...o]}return k6(i,r,n)},ze(e.options,"debugTable"))}},Pp=()=>({left:[],right:[]}),M6={getInitialState:e=>({columnPinning:Pp(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Zn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const n=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,s;if(r==="right"){var o,l;return{left:((o=a==null?void 0:a.left)!=null?o:[]).filter(f=>!(n!=null&&n.includes(f))),right:[...((l=a==null?void 0:a.right)!=null?l:[]).filter(f=>!(n!=null&&n.includes(f))),...n]}}if(r==="left"){var u,d;return{left:[...((u=a==null?void 0:a.left)!=null?u:[]).filter(f=>!(n!=null&&n.includes(f))),...n],right:((d=a==null?void 0:a.right)!=null?d:[]).filter(f=>!(n!=null&&n.includes(f)))}}return{left:((i=a==null?void 0:a.left)!=null?i:[]).filter(f=>!(n!=null&&n.includes(f))),right:((s=a==null?void 0:a.right)!=null?s:[]).filter(f=>!(n!=null&&n.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var a,i,s;return((a=n.columnDef.enablePinning)!=null?a:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(o=>o.id),{left:n,right:a}=t.getState().columnPinning,i=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>a==null?void 0:a.includes(o));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();return a?(r=(n=t.getState().columnPinning)==null||(n=n[a])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Be(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,a)=>{const i=[...n??[],...a??[]];return r.filter(s=>!i.includes(s.column.id))},ze(t.options,"debugRows")),e.getLeftVisibleCells=Be(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(i=>r.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),ze(t.options,"debugRows")),e.getRightVisibleCells=Be(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(i=>r.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),ze(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?Pp():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:Pp())},e.getIsSomeColumnsPinned=t=>{var r;const n=e.getState().columnPinning;if(!t){var a,i;return!!((a=n.left)!=null&&a.length||(i=n.right)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=Be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),ze(e.options,"debugColumns")),e.getRightLeafColumns=Be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),ze(e.options,"debugColumns")),e.getCenterLeafColumns=Be(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{const a=[...r??[],...n??[]];return t.filter(i=>!a.includes(i.id))},ze(e.options,"debugColumns"))}};function I6(e){return e||(typeof document<"u"?document:null)}const Zh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Up=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),F6={getDefaultColumnDef:()=>Zh,getInitialState:e=>({columnSizing:{},columnSizingInfo:Up(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Zn("columnSizing",e),onColumnSizingInfoChange:Zn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:Zh.minSize,(n=i??e.columnDef.size)!=null?n:Zh.size),(a=e.columnDef.maxSize)!=null?a:Zh.maxSize)},e.getStart=Be(r=>[r,Md(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((a,i)=>a+i.getSize(),0),ze(t.options,"debugColumns")),e.getAfter=Be(r=>[r,Md(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((a,i)=>a+i.getSize(),0),ze(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...a}=r;return a})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0;const n=a=>{if(a.subHeaders.length)a.subHeaders.forEach(n);else{var i;r+=(i=a.column.getSize())!=null?i:0}};return n(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const n=t.getColumn(e.column.id),a=n==null?void 0:n.getCanResize();return i=>{if(!n||!a||(i.persist==null||i.persist(),Bp(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),o=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[n.id,n.getSize()]],l=Bp(i)?Math.round(i.touches[0].clientX):i.clientX,u={},d=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(_=>{var w,N;const U=t.options.columnResizeDirection==="rtl"?-1:1,E=(y-((w=_==null?void 0:_.startOffset)!=null?w:0))*U,k=Math.max(E/((N=_==null?void 0:_.startSize)!=null?N:0),-.999999);return _.columnSizingStart.forEach(T=>{let[b,D]=T;u[b]=Math.round(Math.max(D+D*k,0)*100)/100}),{..._,deltaOffset:E,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(_=>({..._,...u})))},f=v=>d("move",v),h=v=>{d("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=I6(r),p={moveHandler:v=>f(v.clientX),upHandler:v=>{m==null||m.removeEventListener("mousemove",p.moveHandler),m==null||m.removeEventListener("mouseup",p.upHandler),h(v.clientX)}},g={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var y;m==null||m.removeEventListener("touchmove",g.moveHandler),m==null||m.removeEventListener("touchend",g.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),h((y=v.touches[0])==null?void 0:y.clientX)}},x=L6()?{passive:!1}:!1;Bp(i)?(m==null||m.addEventListener("touchmove",g.moveHandler,x),m==null||m.addEventListener("touchend",g.upHandler,x)):(m==null||m.addEventListener("mousemove",p.moveHandler,x),m==null||m.addEventListener("mouseup",p.upHandler,x)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?Up():(r=e.initialState.columnSizingInfo)!=null?r:Up())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0}}};let Jh=null;function L6(){if(typeof Jh=="boolean")return Jh;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return Jh=e,Jh}function Bp(e){return e.type==="touchstart"}const P6={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Zn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;const a=e.columns;return(r=a.length?a.some(i=>i.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Be(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),ze(t.options,"debugRows")),e.getVisibleCells=Be(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,a)=>[...r,...n,...a],ze(t.options,"debugRows"))},createTable:e=>{const t=(r,n)=>Be(()=>[n(),n().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),ze(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:r||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function Md(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const U6={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},B6={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Zn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,a,i;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>bi.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:n}=e.options;return Tg(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:bi[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},z6={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Zn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var a,i;e.setExpanded(n?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");n=Math.max(n,s.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var a;const i=n===!0?!0:!!(n!=null&&n[e.id]);let s={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(o=>{s[o]=!0}):s=n,r=(a=r)!=null?a:!i,!i&&r)return{...s,[e.id]:!0};if(i&&!r){const{[e.id]:o,...l}=s;return l}return n})},e.getIsExpanded=()=>{var r;const n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n!=null&&n[e.id])},e.getCanExpand=()=>{var r,n,a;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},Ux=0,Bx=10,zp=()=>({pageIndex:Ux,pageSize:Bx}),$6={getInitialState:e=>({...e,pagination:{...zp(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Zn("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{const a=i=>zs(n,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=n=>{var a;e.setPagination(n?zp():(a=e.initialState.pagination)!=null?a:zp())},e.setPageIndex=n=>{e.setPagination(a=>{let i=zs(n,a.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...a,pageIndex:i}})},e.resetPageIndex=n=>{var a,i;e.setPageIndex(n?Ux:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:Ux)},e.resetPageSize=n=>{var a,i;e.setPageSize(n?Bx:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:Bx)},e.setPageSize=n=>{e.setPagination(a=>{const i=Math.max(1,zs(n,a.pageSize)),s=a.pageSize*a.pageIndex,o=Math.floor(s/i);return{...a,pageIndex:o,pageSize:i}})},e.setPageCount=n=>e.setPagination(a=>{var i;let s=zs(n,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...a,pageCount:s}}),e.getPageOptions=Be(()=>[e.getPageCount()],n=>{let a=[];return n&&n>0&&(a=[...new Array(n)].fill(null).map((i,s)=>s)),a},ze(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:n<a-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},$p=()=>({top:[],bottom:[]}),q6={getInitialState:e=>({rowPinning:$p(),...e}),getDefaultOptions:e=>({onRowPinningChange:Zn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,a)=>{const i=n?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=a?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],o=new Set([...s,e.id,...i]);t.setRowPinning(l=>{var u,d;if(r==="bottom"){var f,h;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(g=>!(o!=null&&o.has(g))),bottom:[...((h=l==null?void 0:l.bottom)!=null?h:[]).filter(g=>!(o!=null&&o.has(g))),...Array.from(o)]}}if(r==="top"){var m,p;return{top:[...((m=l==null?void 0:l.top)!=null?m:[]).filter(g=>!(o!=null&&o.has(g))),...Array.from(o)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(g=>!(o!=null&&o.has(g)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(g=>!(o!=null&&o.has(g))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(g=>!(o!=null&&o.has(g)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:a}=t.options;return typeof n=="function"?n(e):(r=n??a)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:n,bottom:a}=t.getState().rowPinning,i=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>a==null?void 0:a.includes(o));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();if(!a)return-1;const i=(r=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(s=>{let{id:o}=s;return o});return(n=i==null?void 0:i.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?$p():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:$p())},e.getIsSomeRowsPinned=t=>{var r;const n=e.getState().rowPinning;if(!t){var a,i;return!!((a=n.top)!=null&&a.length||(i=n.bottom)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(r??[]).map(s=>{const o=e.getRow(s,!0);return o.getIsAllParentsExpanded()?o:null}):(r??[]).map(s=>t.find(o=>o.id===s))).filter(Boolean).map(s=>({...s,position:n}))},e.getTopRows=Be(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),ze(e.options,"debugRows")),e.getBottomRows=Be(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),ze(e.options,"debugRows")),e.getCenterRows=Be(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{const a=new Set([...r??[],...n??[]]);return t.filter(i=>!a.has(i.id))},ze(e.options,"debugRows"))}},V6={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Zn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const n={...r},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(n[i.id]=!0)}):a.forEach(i=>{delete n[i.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...r};return e.getRowModel().rows.forEach(i=>{zx(a,i.id,n,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Be(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?qp(e,r):{rows:[],flatRows:[],rowsById:{}},ze(e.options,"debugTable")),e.getFilteredSelectedRowModel=Be(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?qp(e,r):{rows:[],flatRows:[],rowsById:{}},ze(e.options,"debugTable")),e.getGroupedSelectedRowModel=Be(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?qp(e,r):{rows:[],flatRows:[],rowsById:{}},ze(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let n=!!(t.length&&Object.keys(r).length);return n&&t.some(a=>a.getCanSelect()&&!r[a.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:r}=e.getState();let n=!!t.length;return n&&t.some(a=>!r[a.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{const a=e.getIsSelected();t.setRowSelection(i=>{var s;if(r=typeof r<"u"?r:!a,e.getCanSelect()&&a===r)return i;const o={...i};return zx(o,e.id,r,(s=n==null?void 0:n.selectChildren)!=null?s:!0,t),o})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return V1(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return $x(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return $x(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return n=>{var a;r&&e.toggleSelected((a=n.target)==null?void 0:a.checked)}}}},zx=(e,t,r,n,a)=>{var i;const s=a.getRow(t,!0);r?(s.getCanMultiSelect()||Object.keys(e).forEach(o=>delete e[o]),s.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(o=>zx(e,o.id,r,n,a))};function qp(e,t){const r=e.getState().rowSelection,n=[],a={},i=function(s,o){return s.map(l=>{var u;const d=V1(l,r);if(d&&(n.push(l),a[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),d)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:n,rowsById:a}}function V1(e,t){var r;return(r=t[e.id])!=null?r:!1}function $x(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let a=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!a)&&(s.getCanSelect()&&(V1(s,t)?i=!0:a=!1),s.subRows&&s.subRows.length)){const o=$x(s,t);o==="all"?i=!0:(o==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const qx=/([0-9]+)/gm,H6=(e,t,r)=>RA(io(e.getValue(r)).toLowerCase(),io(t.getValue(r)).toLowerCase()),G6=(e,t,r)=>RA(io(e.getValue(r)),io(t.getValue(r))),K6=(e,t,r)=>H1(io(e.getValue(r)).toLowerCase(),io(t.getValue(r)).toLowerCase()),W6=(e,t,r)=>H1(io(e.getValue(r)),io(t.getValue(r))),Q6=(e,t,r)=>{const n=e.getValue(r),a=t.getValue(r);return n>a?1:n<a?-1:0},Y6=(e,t,r)=>H1(e.getValue(r),t.getValue(r));function H1(e,t){return e===t?0:e>t?1:-1}function io(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function RA(e,t){const r=e.split(qx).filter(Boolean),n=t.split(qx).filter(Boolean);for(;r.length&&n.length;){const a=r.shift(),i=n.shift(),s=parseInt(a,10),o=parseInt(i,10),l=[s,o].sort();if(isNaN(l[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>o)return 1;if(o>s)return-1}return r.length-n.length}const sd={alphanumeric:H6,alphanumericCaseSensitive:G6,text:K6,textCaseSensitive:W6,datetime:Q6,basic:Y6},X6={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Zn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const a of r){const i=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return sd.datetime;if(typeof i=="string"&&(n=!0,i.split(qx).length>1))return sd.alphanumeric}return n?sd.text:sd.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return Tg(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:sd[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{const a=e.getNextSortingOrder(),i=typeof r<"u"&&r!==null;t.setSorting(s=>{const o=s==null?void 0:s.find(m=>m.id===e.id),l=s==null?void 0:s.findIndex(m=>m.id===e.id);let u=[],d,f=i?r:a==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&n?o?d="toggle":d="add":s!=null&&s.length&&l!==s.length-1?d="replace":o?d="toggle":d="replace",d==="toggle"&&(i||a||(d="remove")),d==="add"){var h;u=[...s,{id:e.id,desc:f}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=s.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?u=s.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,a;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(a=t.options.enableMultiRemove)!=null)||a)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const n=(r=t.getState().sorting)==null?void 0:r.find(a=>a.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Z6=[y6,P6,D6,M6,_6,w6,U6,B6,X6,j6,z6,$6,q6,V6,F6];function J6(e){var t,r;const n=[...Z6,...(t=e._features)!=null?t:[]];let a={_features:n};const i=a._features.reduce((h,m)=>Object.assign(h,m.getDefaultOptions==null?void 0:m.getDefaultOptions(a)),{}),s=h=>a.options.mergeOptions?a.options.mergeOptions(i,h):{...i,...h};let l={...{},...(r=e.initialState)!=null?r:{}};a._features.forEach(h=>{var m;l=(m=h.getInitialState==null?void 0:h.getInitialState(l))!=null?m:l});const u=[];let d=!1;const f={_features:n,options:{...i,...e},initialState:l,_queue:h=>{u.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{a.setState(a.initialState)},setOptions:h=>{const m=zs(h,a.options);a.options=s(m)},getState:()=>a.options.state,setState:h=>{a.options.onStateChange==null||a.options.onStateChange(h)},_getRowId:(h,m,p)=>{var g;return(g=a.options.getRowId==null?void 0:a.options.getRowId(h,m,p))!=null?g:`${p?[p.id,m].join("."):m}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(h,m)=>{let p=(m?a.getPrePaginationRowModel():a.getRowModel()).rowsById[h];if(!p&&(p=a.getCoreRowModel().rowsById[h],!p))throw new Error;return p},_getDefaultColumnDef:Be(()=>[a.options.defaultColumn],h=>{var m;return h=(m=h)!=null?m:{},{header:p=>{const g=p.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:p=>{var g,x;return(g=(x=p.renderValue())==null||x.toString==null?void 0:x.toString())!=null?g:null},...a._features.reduce((p,g)=>Object.assign(p,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...h}},ze(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Be(()=>[a._getColumnDefs()],h=>{const m=function(p,g,x){return x===void 0&&(x=0),p.map(v=>{const y=x6(a,v,x,g),_=v;return y.columns=_.columns?m(_.columns,y,x+1):[],y})};return m(h)},ze(e,"debugColumns")),getAllFlatColumns:Be(()=>[a.getAllColumns()],h=>h.flatMap(m=>m.getFlatColumns()),ze(e,"debugColumns")),_getAllFlatColumnsById:Be(()=>[a.getAllFlatColumns()],h=>h.reduce((m,p)=>(m[p.id]=p,m),{}),ze(e,"debugColumns")),getAllLeafColumns:Be(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(h,m)=>{let p=h.flatMap(g=>g.getLeafColumns());return m(p)},ze(e,"debugColumns")),getColumn:h=>a._getAllFlatColumnsById()[h]};Object.assign(a,f);for(let h=0;h<a._features.length;h++){const m=a._features[h];m==null||m.createTable==null||m.createTable(a)}return a}function eL(){return e=>Be(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(a,i,s){i===void 0&&(i=0);const o=[];for(let u=0;u<a.length;u++){const d=$1(e,e._getRowId(a[u],u,s),a[u],u,i,void 0,s==null?void 0:s.id);if(r.flatRows.push(d),r.rowsById[d.id]=d,o.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(a[u],u),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=n(d.originalSubRows,i+1,d))}}return o};return r.rows=n(t),r},ze(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function tL(e,t,r){return r.options.filterFromLeafRows?rL(e,t,r):nL(e,t,r)}function rL(e,t,r){var n;const a=[],i={},s=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,o=function(l,u){u===void 0&&(u=0);const d=[];for(let h=0;h<l.length;h++){var f;let m=l[h];const p=$1(r,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(p.columnFilters=m.columnFilters,(f=m.subRows)!=null&&f.length&&u<s){if(p.subRows=o(m.subRows,u+1),m=p,t(m)&&!p.subRows.length){d.push(m),i[m.id]=m,a.push(m);continue}if(t(m)||p.subRows.length){d.push(m),i[m.id]=m,a.push(m);continue}}else m=p,t(m)&&(d.push(m),i[m.id]=m,a.push(m))}return d};return{rows:o(e),flatRows:a,rowsById:i}}function nL(e,t,r){var n;const a=[],i={},s=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,o=function(l,u){u===void 0&&(u=0);const d=[];for(let h=0;h<l.length;h++){let m=l[h];if(t(m)){var f;if((f=m.subRows)!=null&&f.length&&u<s){const g=$1(r,m.id,m.original,m.index,m.depth,void 0,m.parentId);g.subRows=o(m.subRows,u+1),m=g}d.push(m),a.push(m),i[m.id]=m}}return d};return{rows:o(e),flatRows:a,rowsById:i}}function aL(){return e=>Be(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{if(!t.rows.length||!(r!=null&&r.length)&&!n){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const a=[],i=[];(r??[]).forEach(h=>{var m;const p=e.getColumn(h.id);if(!p)return;const g=p.getFilterFn();g&&a.push({id:h.id,filterFn:g,resolvedValue:(m=g.resolveFilterValue==null?void 0:g.resolveFilterValue(h.value))!=null?m:h.value})});const s=(r??[]).map(h=>h.id),o=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());n&&o&&l.length&&(s.push("__global__"),l.forEach(h=>{var m;i.push({id:h.id,filterFn:o,resolvedValue:(m=o.resolveFilterValue==null?void 0:o.resolveFilterValue(n))!=null?m:n})}));let u,d;for(let h=0;h<t.flatRows.length;h++){const m=t.flatRows[h];if(m.columnFilters={},a.length)for(let p=0;p<a.length;p++){u=a[p];const g=u.id;m.columnFilters[g]=u.filterFn(m,g,u.resolvedValue,x=>{m.columnFiltersMeta[g]=x})}if(i.length){for(let p=0;p<i.length;p++){d=i[p];const g=d.id;if(d.filterFn(m,g,d.resolvedValue,x=>{m.columnFiltersMeta[g]=x})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const f=h=>{for(let m=0;m<s.length;m++)if(h.columnFilters[s[m]]===!1)return!1;return!0};return tL(t.rows,f,e)},ze(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function iL(){return e=>Be(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;const n=e.getState().sorting,a=[],i=n.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const o=l=>{const u=l.map(d=>({...d}));return u.sort((d,f)=>{for(let m=0;m<i.length;m+=1){var h;const p=i[m],g=s[p.id],x=g.sortUndefined,v=(h=p==null?void 0:p.desc)!=null?h:!1;let y=0;if(x){const _=d.getValue(p.id),w=f.getValue(p.id),N=_===void 0,U=w===void 0;if(N||U){if(x==="first")return N?-1:1;if(x==="last")return N?1:-1;y=N&&U?0:N?x:-x}}if(y===0&&(y=g.sortingFn(d,f,p.id)),y!==0)return v&&(y*=-1),g.invertSorting&&(y*=-1),y}return d.index-f.index}),u.forEach(d=>{var f;a.push(d),(f=d.subRows)!=null&&f.length&&(d.subRows=o(d.subRows))}),u};return{rows:o(r.rows),flatRows:a,rowsById:r.rowsById}},ze(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function eS(e,t){return e?sL(e)?S.createElement(e,t):e:null}function sL(e){return oL(e)||typeof e=="function"||lL(e)}function oL(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function lL(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function cL(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=S.useState(()=>({current:J6(t)})),[n,a]=S.useState(()=>r.current.initialState);return r.current.setOptions(i=>({...i,...e,state:{...n,...e.state},onStateChange:s=>{a(s),e.onStateChange==null||e.onStateChange(s)}})),r.current}var lh=e=>e.type==="checkbox",$o=e=>e instanceof Date,_n=e=>e==null;const AA=e=>typeof e=="object";var lr=e=>!_n(e)&&!Array.isArray(e)&&AA(e)&&!$o(e),uL=e=>lr(e)&&e.target?lh(e.target)?e.target.checked:e.target.value:e,dL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fL=(e,t)=>e.has(dL(t)),hL=e=>{const t=e.constructor&&e.constructor.prototype;return lr(t)&&t.hasOwnProperty("isPrototypeOf")},G1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(G1&&(e instanceof Blob||n))&&(r||lr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!hL(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=_r(e[a]));else return e;return t}var Cg=e=>/^\w*$/.test(e),Yt=e=>e===void 0,K1=e=>Array.isArray(e)?e.filter(Boolean):[],W1=e=>K1(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,r)=>{if(!t||!lr(e))return r;const n=(Cg(t)?[t]:W1(t)).reduce((a,i)=>_n(a)?a:a[i],e);return Yt(n)||n===e?Yt(e[t])?r:e[t]:n},Ka=e=>typeof e=="boolean",Ut=(e,t,r)=>{let n=-1;const a=Cg(t)?[t]:W1(t),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let l=r;if(n!==s){const u=e[o];l=lr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=l,e=e[o]}};const tS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mL=ce.createContext(null);mL.displayName="HookFormContext";var gL=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Da.all&&(t._proxyFormState[s]=!n||Da.all),r&&(r[s]=!0),e[s]}});return a};const pL=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;var Bn=e=>typeof e=="string",vL=(e,t,r,n,a)=>Bn(e)?(n&&t.watch.add(e),Ie(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ie(r,i))):(n&&(t.watchAll=!0),r),Vx=e=>_n(e)||!AA(e);function xs(e,t,r=new WeakSet){if(Vx(e)||Vx(t))return e===t;if($o(e)&&$o(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if($o(s)&&$o(o)||lr(s)&&lr(o)||Array.isArray(s)&&Array.isArray(o)?!xs(s,o,r):s!==o)return!1}}return!0}var xL=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Id=e=>Array.isArray(e)?e:[e],rS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function NA(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&lr(a)&&i){const s=NA(a,i);lr(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var vn=e=>lr(e)&&!Object.keys(e).length,Q1=e=>e.type==="file",Ma=e=>typeof e=="function",Tm=e=>{if(!G1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},OA=e=>e.type==="select-multiple",Y1=e=>e.type==="radio",yL=e=>Y1(e)||lh(e),Vp=e=>Tm(e)&&e.isConnected;function _L(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Yt(e)?n++:e[t[n++]];return e}function wL(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yt(e[t]))return!1;return!0}function rr(e,t){const r=Array.isArray(t)?t:Cg(t)?[t]:W1(t),n=r.length===1?e:_L(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(lr(n)&&vn(n)||Array.isArray(n)&&wL(n))&&rr(e,r.slice(0,-1)),e}var bL=e=>{for(const t in e)if(Ma(e[t]))return!0;return!1};function jA(e){return Array.isArray(e)||lr(e)&&!bL(e)}function Hx(e,t={}){for(const r in e)jA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Hx(e[r],t[r])):Yt(e[r])||(t[r]=!0);return t}function nc(e,t,r){r||(r=Hx(t));for(const n in e)jA(e[n])?Yt(t)||Vx(r[n])?r[n]=Hx(e[n],Array.isArray(e[n])?[]:{}):nc(e[n],_n(t)?{}:t[n],r[n]):r[n]=!xs(e[n],t[n]);return r}const nS={value:!1,isValid:!1},aS={value:!0,isValid:!0};var kA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||e[0].value===""?aS:{value:e[0].value,isValid:!0}:aS:nS}return nS},DA=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Yt(e)?e:t?e===""?NaN:e&&+e:r&&Bn(e)?new Date(e):n?n(e):e;const iS={isValid:!1,value:null};var MA=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,iS):iS;function sS(e){const t=e.ref;return Q1(t)?t.files:Y1(t)?MA(e.refs).value:OA(t)?[...t.selectedOptions].map(({value:r})=>r):lh(t)?kA(e.refs).value:DA(Yt(t.value)?e.ref.value:t.value,e)}var SL=(e,t,r,n)=>{const a={};for(const i of e){const s=Ie(t,i);s&&Ut(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Cm=e=>e instanceof RegExp,od=e=>Yt(e)?e:Cm(e)?e.source:lr(e)?Cm(e.value)?e.value.source:e.value:e,oS=e=>({isOnSubmit:!e||e===Da.onSubmit,isOnBlur:e===Da.onBlur,isOnChange:e===Da.onChange,isOnAll:e===Da.all,isOnTouch:e===Da.onTouched});const lS="AsyncFunction";var EL=e=>!!e&&!!e.validate&&!!(Ma(e.validate)&&e.validate.constructor.name===lS||lr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===lS)),TL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Fd=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ie(e,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Fd(o,t))break}else if(lr(o)&&Fd(o,t))break}}};function uS(e,t,r){const n=Ie(e,r);if(n||Cg(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=Ie(t,i),o=Ie(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var CL=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return vn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Da.all))},RL=(e,t,r)=>!e||!t||e===t||Id(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),AL=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,NL=(e,t)=>!K1(Ie(e,t)).length&&rr(e,t),OL=(e,t,r)=>{const n=Id(Ie(e,r));return Ut(n,"root",t[r]),Ut(e,r,n),e};function dS(e,t,r="validate"){if(Bn(e)||Array.isArray(e)&&e.every(Bn)||Ka(e)&&!e)return{type:r,message:Bn(e)?e:"",ref:t}}var zl=e=>lr(e)&&!Cm(e)?e:{value:e,message:""},fS=async(e,t,r,n,a,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:x,mount:v}=e._f,y=Ie(r,g);if(!v||t.has(g))return{};const _=o?o[0]:s,w=R=>{a&&_.reportValidity&&(_.setCustomValidity(Ka(R)?"":R||""),_.reportValidity())},N={},U=Y1(s),E=lh(s),k=U||E,T=(x||Q1(s))&&Yt(s.value)&&Yt(y)||Tm(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,b=xL.bind(null,g,n,N),D=(R,z,re,ie=yi.maxLength,O=yi.minLength)=>{const Q=R?z:re;N[g]={type:R?ie:O,message:Q,ref:s,...b(R?ie:O,Q)}};if(i?!Array.isArray(y)||!y.length:l&&(!k&&(T||_n(y))||Ka(y)&&!y||E&&!kA(o).isValid||U&&!MA(o).isValid)){const{value:R,message:z}=Bn(l)?{value:!!l,message:l}:zl(l);if(R&&(N[g]={type:yi.required,message:z,ref:_,...b(yi.required,z)},!n))return w(z),N}if(!T&&(!_n(f)||!_n(h))){let R,z;const re=zl(h),ie=zl(f);if(!_n(y)&&!isNaN(y)){const O=s.valueAsNumber||y&&+y;_n(re.value)||(R=O>re.value),_n(ie.value)||(z=O<ie.value)}else{const O=s.valueAsDate||new Date(y),Q=J=>new Date(new Date().toDateString()+" "+J),M=s.type=="time",K=s.type=="week";Bn(re.value)&&y&&(R=M?Q(y)>Q(re.value):K?y>re.value:O>new Date(re.value)),Bn(ie.value)&&y&&(z=M?Q(y)<Q(ie.value):K?y<ie.value:O<new Date(ie.value))}if((R||z)&&(D(!!R,re.message,ie.message,yi.max,yi.min),!n))return w(N[g].message),N}if((u||d)&&!T&&(Bn(y)||i&&Array.isArray(y))){const R=zl(u),z=zl(d),re=!_n(R.value)&&y.length>+R.value,ie=!_n(z.value)&&y.length<+z.value;if((re||ie)&&(D(re,R.message,z.message),!n))return w(N[g].message),N}if(m&&!T&&Bn(y)){const{value:R,message:z}=zl(m);if(Cm(R)&&!y.match(R)&&(N[g]={type:yi.pattern,message:z,ref:s,...b(yi.pattern,z)},!n))return w(z),N}if(p){if(Ma(p)){const R=await p(y,r),z=dS(R,_);if(z&&(N[g]={...z,...b(yi.validate,z.message)},!n))return w(z.message),N}else if(lr(p)){let R={};for(const z in p){if(!vn(R)&&!n)break;const re=dS(await p[z](y,r),_,z);re&&(R={...re,...b(z,re.message)},w(re.message),n&&(N[g]=R))}if(!vn(R)&&(N[g]={ref:_,...R},!n))return N}}return w(!0),N};const jL={mode:Da.onSubmit,reValidateMode:Da.onChange,shouldFocusError:!0};function kL(e={}){let t={...jL,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ma(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=lr(t.defaultValues)||lr(t.values)?_r(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:_r(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:rS(),state:rS()},m=t.criteriaMode===Da.all,p=G=>X=>{clearTimeout(u),u=setTimeout(G,X)},g=async G=>{if(!t.disabled&&(d.isValid||f.isValid||G)){const X=t.resolver?vn((await E()).errors):await T(n,!0);X!==r.isValid&&h.state.next({isValid:X})}},x=(G,X)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((G||Array.from(o.mount)).forEach(ae=>{ae&&(X?Ut(r.validatingFields,ae,X):rr(r.validatingFields,ae))}),h.state.next({validatingFields:r.validatingFields,isValidating:!vn(r.validatingFields)}))},v=(G,X=[],ae,Ee,_e=!0,ye=!0)=>{if(Ee&&ae&&!t.disabled){if(s.action=!0,ye&&Array.isArray(Ie(n,G))){const Me=ae(Ie(n,G),Ee.argA,Ee.argB);_e&&Ut(n,G,Me)}if(ye&&Array.isArray(Ie(r.errors,G))){const Me=ae(Ie(r.errors,G),Ee.argA,Ee.argB);_e&&Ut(r.errors,G,Me),NL(r.errors,G)}if((d.touchedFields||f.touchedFields)&&ye&&Array.isArray(Ie(r.touchedFields,G))){const Me=ae(Ie(r.touchedFields,G),Ee.argA,Ee.argB);_e&&Ut(r.touchedFields,G,Me)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=nc(a,i)),h.state.next({name:G,isDirty:D(G,X),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ut(i,G,X)},y=(G,X)=>{Ut(r.errors,G,X),h.state.next({errors:r.errors})},_=G=>{r.errors=G,h.state.next({errors:r.errors,isValid:!1})},w=(G,X,ae,Ee)=>{const _e=Ie(n,G);if(_e){const ye=Ie(i,G,Yt(ae)?Ie(a,G):ae);Yt(ye)||Ee&&Ee.defaultChecked||X?Ut(i,G,X?ye:sS(_e._f)):re(G,ye),s.mount&&g()}},N=(G,X,ae,Ee,_e)=>{let ye=!1,Me=!1;const rt={name:G};if(!t.disabled){if(!ae||Ee){(d.isDirty||f.isDirty)&&(Me=r.isDirty,r.isDirty=rt.isDirty=D(),ye=Me!==rt.isDirty);const Ze=xs(Ie(a,G),X);Me=!!Ie(r.dirtyFields,G),Ze?rr(r.dirtyFields,G):Ut(r.dirtyFields,G,!0),rt.dirtyFields=r.dirtyFields,ye=ye||(d.dirtyFields||f.dirtyFields)&&Me!==!Ze}if(ae){const Ze=Ie(r.touchedFields,G);Ze||(Ut(r.touchedFields,G,ae),rt.touchedFields=r.touchedFields,ye=ye||(d.touchedFields||f.touchedFields)&&Ze!==ae)}ye&&_e&&h.state.next(rt)}return ye?rt:{}},U=(G,X,ae,Ee)=>{const _e=Ie(r.errors,G),ye=(d.isValid||f.isValid)&&Ka(X)&&r.isValid!==X;if(t.delayError&&ae?(l=p(()=>y(G,ae)),l(t.delayError)):(clearTimeout(u),l=null,ae?Ut(r.errors,G,ae):rr(r.errors,G)),(ae?!xs(_e,ae):_e)||!vn(Ee)||ye){const Me={...Ee,...ye&&Ka(X)?{isValid:X}:{},errors:r.errors,name:G};r={...r,...Me},h.state.next(Me)}},E=async G=>{x(G,!0);const X=await t.resolver(i,t.context,SL(G||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(G),X},k=async G=>{const{errors:X}=await E(G);if(G)for(const ae of G){const Ee=Ie(X,ae);Ee?Ut(r.errors,ae,Ee):rr(r.errors,ae)}else r.errors=X;return X},T=async(G,X,ae={valid:!0})=>{for(const Ee in G){const _e=G[Ee];if(_e){const{_f:ye,...Me}=_e;if(ye){const rt=o.array.has(ye.name),Ze=_e._f&&EL(_e._f);Ze&&d.validatingFields&&x([ye.name],!0);const xr=await fS(_e,o.disabled,i,m,t.shouldUseNativeValidation&&!X,rt);if(Ze&&d.validatingFields&&x([ye.name]),xr[ye.name]&&(ae.valid=!1,X))break;!X&&(Ie(xr,ye.name)?rt?OL(r.errors,xr,ye.name):Ut(r.errors,ye.name,xr[ye.name]):rr(r.errors,ye.name))}!vn(Me)&&await T(Me,X,ae)}}return ae.valid},b=()=>{for(const G of o.unMount){const X=Ie(n,G);X&&(X._f.refs?X._f.refs.every(ae=>!Vp(ae)):!Vp(X._f.ref))&&se(G)}o.unMount=new Set},D=(G,X)=>!t.disabled&&(G&&X&&Ut(i,G,X),!xs(J(),a)),R=(G,X,ae)=>vL(G,o,{...s.mount?i:Yt(X)?a:Bn(G)?{[G]:X}:X},ae,X),z=G=>K1(Ie(s.mount?i:a,G,t.shouldUnregister?Ie(a,G,[]):[])),re=(G,X,ae={})=>{const Ee=Ie(n,G);let _e=X;if(Ee){const ye=Ee._f;ye&&(!ye.disabled&&Ut(i,G,DA(X,ye)),_e=Tm(ye.ref)&&_n(X)?"":X,OA(ye.ref)?[...ye.ref.options].forEach(Me=>Me.selected=_e.includes(Me.value)):ye.refs?lh(ye.ref)?ye.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(_e)?Me.checked=!!_e.find(rt=>rt===Me.value):Me.checked=_e===Me.value||!!_e)}):ye.refs.forEach(Me=>Me.checked=Me.value===_e):Q1(ye.ref)?ye.ref.value="":(ye.ref.value=_e,ye.ref.type||h.state.next({name:G,values:_r(i)})))}(ae.shouldDirty||ae.shouldTouch)&&N(G,_e,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&K(G)},ie=(G,X,ae)=>{for(const Ee in X){if(!X.hasOwnProperty(Ee))return;const _e=X[Ee],ye=G+"."+Ee,Me=Ie(n,ye);(o.array.has(G)||lr(_e)||Me&&!Me._f)&&!$o(_e)?ie(ye,_e,ae):re(ye,_e,ae)}},O=(G,X,ae={})=>{const Ee=Ie(n,G),_e=o.array.has(G),ye=_r(X);Ut(i,G,ye),_e?(h.array.next({name:G,values:_r(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ae.shouldDirty&&h.state.next({name:G,dirtyFields:nc(a,i),isDirty:D(G,ye)})):Ee&&!Ee._f&&!_n(ye)?ie(G,ye,ae):re(G,ye,ae),cS(G,o)&&h.state.next({...r,name:G}),h.state.next({name:s.mount?G:void 0,values:_r(i)})},Q=async G=>{s.mount=!0;const X=G.target;let ae=X.name,Ee=!0;const _e=Ie(n,ae),ye=Ze=>{Ee=Number.isNaN(Ze)||$o(Ze)&&isNaN(Ze.getTime())||xs(Ze,Ie(i,ae,Ze))},Me=oS(t.mode),rt=oS(t.reValidateMode);if(_e){let Ze,xr;const on=X.type?sS(_e._f):uL(G),ln=G.type===tS.BLUR||G.type===tS.FOCUS_OUT,wa=!TL(_e._f)&&!t.resolver&&!Ie(r.errors,ae)&&!_e._f.deps||AL(ln,Ie(r.touchedFields,ae),r.isSubmitted,rt,Me),rs=cS(ae,o,ln);Ut(i,ae,on),ln?(!X||!X.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(G),l&&l(0)):_e._f.onChange&&_e._f.onChange(G);const ns=N(ae,on,ln),wo=!vn(ns)||rs;if(!ln&&h.state.next({name:ae,type:G.type,values:_r(i)}),wa)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ln&&g():ln||g()),wo&&h.state.next({name:ae,...rs?{}:ns});if(!ln&&rs&&h.state.next({...r}),t.resolver){const{errors:bo}=await E([ae]);if(ye(on),Ee){const Ku=uS(r.errors,n,ae),di=uS(bo,n,Ku.name||ae);Ze=di.error,ae=di.name,xr=vn(bo)}}else x([ae],!0),Ze=(await fS(_e,o.disabled,i,m,t.shouldUseNativeValidation))[ae],x([ae]),ye(on),Ee&&(Ze?xr=!1:(d.isValid||f.isValid)&&(xr=await T(n,!0)));Ee&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&K(_e._f.deps),U(ae,xr,Ze,ns))}},M=(G,X)=>{if(Ie(r.errors,X)&&G.focus)return G.focus(),1},K=async(G,X={})=>{let ae,Ee;const _e=Id(G);if(t.resolver){const ye=await k(Yt(G)?G:_e);ae=vn(ye),Ee=G?!_e.some(Me=>Ie(ye,Me)):ae}else G?(Ee=(await Promise.all(_e.map(async ye=>{const Me=Ie(n,ye);return await T(Me&&Me._f?{[ye]:Me}:Me)}))).every(Boolean),!(!Ee&&!r.isValid)&&g()):Ee=ae=await T(n);return h.state.next({...!Bn(G)||(d.isValid||f.isValid)&&ae!==r.isValid?{}:{name:G},...t.resolver||!G?{isValid:ae}:{},errors:r.errors}),X.shouldFocus&&!Ee&&Fd(n,M,G?_e:o.mount),Ee},J=(G,X)=>{let ae={...s.mount?i:a};return X&&(ae=NA(X.dirtyFields?r.dirtyFields:r.touchedFields,ae)),Yt(G)?ae:Bn(G)?Ie(ae,G):G.map(Ee=>Ie(ae,Ee))},Y=(G,X)=>({invalid:!!Ie((X||r).errors,G),isDirty:!!Ie((X||r).dirtyFields,G),error:Ie((X||r).errors,G),isValidating:!!Ie(r.validatingFields,G),isTouched:!!Ie((X||r).touchedFields,G)}),P=G=>{G&&Id(G).forEach(X=>rr(r.errors,X)),h.state.next({errors:G?r.errors:{}})},H=(G,X,ae)=>{const Ee=(Ie(n,G,{_f:{}})._f||{}).ref,_e=Ie(r.errors,G)||{},{ref:ye,message:Me,type:rt,...Ze}=_e;Ut(r.errors,G,{...Ze,...X,ref:Ee}),h.state.next({name:G,errors:r.errors,isValid:!1}),ae&&ae.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},I=(G,X)=>Ma(G)?h.state.subscribe({next:ae=>"values"in ae&&G(R(void 0,X),ae)}):R(G,X,!0),L=G=>h.state.subscribe({next:X=>{RL(G.name,X.name,G.exact)&&CL(X,G.formState||d,Ne,G.reRenderRoot)&&G.callback({values:{...i},...r,...X,defaultValues:a})}}).unsubscribe,W=G=>(s.mount=!0,f={...f,...G.formState},L({...G,formState:f})),se=(G,X={})=>{for(const ae of G?Id(G):o.mount)o.mount.delete(ae),o.array.delete(ae),X.keepValue||(rr(n,ae),rr(i,ae)),!X.keepError&&rr(r.errors,ae),!X.keepDirty&&rr(r.dirtyFields,ae),!X.keepTouched&&rr(r.touchedFields,ae),!X.keepIsValidating&&rr(r.validatingFields,ae),!t.shouldUnregister&&!X.keepDefaultValue&&rr(a,ae);h.state.next({values:_r(i)}),h.state.next({...r,...X.keepDirty?{isDirty:D()}:{}}),!X.keepIsValid&&g()},fe=({disabled:G,name:X})=>{(Ka(G)&&s.mount||G||o.disabled.has(X))&&(G?o.disabled.add(X):o.disabled.delete(X))},ve=(G,X={})=>{let ae=Ie(n,G);const Ee=Ka(X.disabled)||Ka(t.disabled);return Ut(n,G,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:G}},name:G,mount:!0,...X}}),o.mount.add(G),ae?fe({disabled:Ka(X.disabled)?X.disabled:t.disabled,name:G}):w(G,!0,X.value),{...Ee?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:od(X.min),max:od(X.max),minLength:od(X.minLength),maxLength:od(X.maxLength),pattern:od(X.pattern)}:{},name:G,onChange:Q,onBlur:Q,ref:_e=>{if(_e){ve(G,X),ae=Ie(n,G);const ye=Yt(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,Me=yL(ye),rt=ae._f.refs||[];if(Me?rt.find(Ze=>Ze===ye):ye===ae._f.ref)return;Ut(n,G,{_f:{...ae._f,...Me?{refs:[...rt.filter(Vp),ye,...Array.isArray(Ie(a,G))?[{}]:[]],ref:{type:ye.type,name:G}}:{ref:ye}}}),w(G,!1,void 0,ye)}else ae=Ie(n,G,{}),ae._f&&(ae._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(fL(o.array,G)&&s.action)&&o.unMount.add(G)}}},ge=()=>t.shouldFocusError&&Fd(n,M,o.mount),Le=G=>{Ka(G)&&(h.state.next({disabled:G}),Fd(n,(X,ae)=>{const Ee=Ie(n,ae);Ee&&(X.disabled=Ee._f.disabled||G,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(_e=>{_e.disabled=Ee._f.disabled||G}))},0,!1))},Ue=(G,X)=>async ae=>{let Ee;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let _e=_r(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:Me}=await E();r.errors=ye,_e=_r(Me)}else await T(n);if(o.disabled.size)for(const ye of o.disabled)rr(_e,ye);if(rr(r.errors,"root"),vn(r.errors)){h.state.next({errors:{}});try{await G(_e,ae)}catch(ye){Ee=ye}}else X&&await X({...r.errors},ae),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},Ot=(G,X={})=>{Ie(n,G)&&(Yt(X.defaultValue)?O(G,_r(Ie(a,G))):(O(G,X.defaultValue),Ut(a,G,_r(X.defaultValue))),X.keepTouched||rr(r.touchedFields,G),X.keepDirty||(rr(r.dirtyFields,G),r.isDirty=X.defaultValue?D(G,_r(Ie(a,G))):D()),X.keepError||(rr(r.errors,G),d.isValid&&g()),h.state.next({...r}))},Ye=(G,X={})=>{const ae=G?_r(G):a,Ee=_r(ae),_e=vn(G),ye=_e?a:Ee;if(X.keepDefaultValues||(a=ae),!X.keepValues){if(X.keepDirtyValues){const Me=new Set([...o.mount,...Object.keys(nc(a,i))]);for(const rt of Array.from(Me))Ie(r.dirtyFields,rt)?Ut(ye,rt,Ie(i,rt)):O(rt,Ie(ye,rt))}else{if(G1&&Yt(G))for(const Me of o.mount){const rt=Ie(n,Me);if(rt&&rt._f){const Ze=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(Tm(Ze)){const xr=Ze.closest("form");if(xr){xr.reset();break}}}}if(X.keepFieldsRef)for(const Me of o.mount)O(Me,Ie(ye,Me));else n={}}i=t.shouldUnregister?X.keepDefaultValues?_r(a):{}:_r(ye),h.array.next({values:{...ye}}),h.state.next({values:{...ye}})}o={mount:X.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:X.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:X.keepDirty?r.isDirty:!!(X.keepDefaultValues&&!xs(G,a)),isSubmitted:X.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:X.keepDirtyValues?X.keepDefaultValues&&i?nc(a,i):r.dirtyFields:X.keepDefaultValues&&G?nc(a,G):X.keepDirty?r.dirtyFields:{},touchedFields:X.keepTouched?r.touchedFields:{},errors:X.keepErrors?r.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},$r=(G,X)=>Ye(Ma(G)?G(i):G,X),ht=(G,X={})=>{const ae=Ie(n,G),Ee=ae&&ae._f;if(Ee){const _e=Ee.refs?Ee.refs[0]:Ee.ref;_e.focus&&(_e.focus(),X.shouldSelect&&Ma(_e.select)&&_e.select())}},Ne=G=>{r={...r,...G}},Tt={control:{register:ve,unregister:se,getFieldState:Y,handleSubmit:Ue,setError:H,_subscribe:L,_runSchema:E,_focusError:ge,_getWatch:R,_getDirty:D,_setValid:g,_setFieldArray:v,_setDisabledField:fe,_setErrors:_,_getFieldArray:z,_reset:Ye,_resetDefaultValues:()=>Ma(t.defaultValues)&&t.defaultValues().then(G=>{$r(G,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:b,_disableForm:Le,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(G){s=G},get _defaultValues(){return a},get _names(){return o},set _names(G){o=G},get _formState(){return r},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:W,trigger:K,register:ve,handleSubmit:Ue,watch:I,setValue:O,getValues:J,reset:$r,resetField:Ot,clearErrors:P,unregister:se,setError:H,setFocus:ht,getFieldState:Y};return{...Tt,formControl:Tt}}function DL(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,a]=ce.useState({isDirty:!1,isValidating:!1,isLoading:Ma(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ma(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ma(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...o}=kL(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,pL(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,s},[i]),ce.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ce.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ce.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ce.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),ce.useEffect(()=>{e.values&&!xs(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[i,e.values]),ce.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=gL(n,i),t.current}const hS=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=t=e(n,a,l);return l},ML=e=>e?hS(e):hS;var IA={exports:{}},FA={},LA={exports:{}},PA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=S;function IL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FL=typeof Object.is=="function"?Object.is:IL,LL=mu.useState,PL=mu.useEffect,UL=mu.useLayoutEffect,BL=mu.useDebugValue;function zL(e,t){var r=t(),n=LL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return UL(function(){a.value=r,a.getSnapshot=t,Hp(a)&&i({inst:a})},[e,r,t]),PL(function(){return Hp(a)&&i({inst:a}),e(function(){Hp(a)&&i({inst:a})})},[e]),BL(r),r}function Hp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!FL(e,r)}catch{return!0}}function $L(e,t){return t()}var qL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$L:zL;PA.useSyncExternalStore=mu.useSyncExternalStore!==void 0?mu.useSyncExternalStore:qL;LA.exports=PA;var UA=LA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=S,VL=UA;function HL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GL=typeof Object.is=="function"?Object.is:HL,KL=VL.useSyncExternalStore,WL=Rg.useRef,QL=Rg.useEffect,YL=Rg.useMemo,XL=Rg.useDebugValue;FA.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=WL(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=YL(function(){function l(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,GL(d,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=KL(e,i[0],i[1]);return QL(function(){s.hasValue=!0,s.value=o},[o]),XL(o),o};IA.exports=FA;var ZL=IA.exports;const JL=rg(ZL),{useDebugValue:e8}=ce,{useSyncExternalStoreWithSelector:t8}=JL;const r8=e=>e;function n8(e,t=r8,r){const n=t8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return e8(n),n}const mS=e=>{const t=typeof e=="function"?ML(e):e,r=(n,a)=>n8(t,n,a);return Object.assign(r,t),r},Gx=e=>e?mS(e):mS;var Ag=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},a8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ns,Oy,k2,i8=(k2=class{constructor(){pe(this,Ns,a8);pe(this,Oy,!1)}setTimeoutProvider(e){de(this,Ns,e)}setTimeout(e,t){return A(this,Ns).setTimeout(e,t)}clearTimeout(e){A(this,Ns).clearTimeout(e)}setInterval(e,t){return A(this,Ns).setInterval(e,t)}clearInterval(e){A(this,Ns).clearInterval(e)}},Ns=new WeakMap,Oy=new WeakMap,k2),e0=new i8;function s8(e){setTimeout(e,0)}var ff=typeof window>"u"||"Deno"in globalThis;function Rm(){}function gS(e){return typeof e=="number"&&e>=0&&e!==1/0}function o8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ld(e,t){return typeof e=="function"?e(t):e}function ja(e,t){return typeof e=="function"?e(t):e}function pS(e){return JSON.stringify(e,(t,r)=>Kx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}var l8=Object.prototype.hasOwnProperty;function BA(e,t){if(e===t)return e;const r=vS(e)&&vS(t);if(!r&&!(Kx(e)&&Kx(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const d=r?u:i[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<a:l8.call(e,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const m=BA(f,h);o[d]=m,m===f&&l++}return a===s&&l===a?e:o}function Am(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kx(e){if(!xS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xS(e){return Object.prototype.toString.call(e)==="[object Object]"}function yS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?BA(e,t):t}function zA(e,t){return typeof e=="function"?e(...t):!!e}var el,Os,Qc,D2,c8=(D2=class extends Ag{constructor(){super();pe(this,el,void 0);pe(this,Os,void 0);pe(this,Qc,void 0);de(this,Qc,t=>{if(!ff&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){A(this,Os)||this.setEventListener(A(this,Qc))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Os))==null||t.call(this),de(this,Os,void 0))}setEventListener(t){var r;de(this,Qc,t),(r=A(this,Os))==null||r.call(this),de(this,Os,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){A(this,el)!==t&&(de(this,el,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof A(this,el)=="boolean"?A(this,el):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},el=new WeakMap,Os=new WeakMap,Qc=new WeakMap,D2),u8=new c8;function _S(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var d8=s8;function f8(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=d8;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ng=f8(),Yc,js,Xc,M2,h8=(M2=class extends Ag{constructor(){super();pe(this,Yc,!0);pe(this,js,void 0);pe(this,Xc,void 0);de(this,Xc,t=>{if(!ff&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){A(this,js)||this.setEventListener(A(this,Xc))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,js))==null||t.call(this),de(this,js,void 0))}setEventListener(t){var r;de(this,Xc,t),(r=A(this,js))==null||r.call(this),de(this,js,t(this.setOnline.bind(this)))}setOnline(t){A(this,Yc)!==t&&(de(this,Yc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return A(this,Yc)}},Yc=new WeakMap,js=new WeakMap,Xc=new WeakMap,M2),m8=new h8;function g8(e){return(e??"online")==="online"?m8.isOnline():!0}function p8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var mn,at,Bf,Xr,tl,Zc,Ni,ks,zf,Jc,eu,rl,nl,Ds,tu,al,pd,$f,Wx,qf,Qx,Vf,Yx,Hf,Xx,Gf,Zx,Kf,Jx,Wf,ey,tg,$A,I2,v8=(I2=class extends Ag{constructor(t,r){super();pe(this,al);pe(this,$f);pe(this,qf);pe(this,Vf);pe(this,Hf);pe(this,Gf);pe(this,Kf);pe(this,Wf);pe(this,tg);pe(this,mn,void 0);pe(this,at,void 0);pe(this,Bf,void 0);pe(this,Xr,void 0);pe(this,tl,void 0);pe(this,Zc,void 0);pe(this,Ni,void 0);pe(this,ks,void 0);pe(this,zf,void 0);pe(this,Jc,void 0);pe(this,eu,void 0);pe(this,rl,void 0);pe(this,nl,void 0);pe(this,Ds,void 0);pe(this,tu,new Set);this.options=r,de(this,mn,t),de(this,ks,null),de(this,Ni,_S()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,at).addObserver(this),wS(A(this,at),this.options)?De(this,al,pd).call(this):this.updateResult(),De(this,Hf,Xx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ty(A(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ty(A(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Gf,Zx).call(this),De(this,Kf,Jx).call(this),A(this,at).removeObserver(this)}setOptions(t){const r=this.options,n=A(this,at);if(this.options=A(this,mn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ja(this.options.enabled,A(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Wf,ey).call(this),A(this,at).setOptions(this.options),r._defaulted&&!Am(this.options,r)&&A(this,mn).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,at),observer:this});const a=this.hasListeners();a&&bS(A(this,at),n,this.options,r)&&De(this,al,pd).call(this),this.updateResult(),a&&(A(this,at)!==n||ja(this.options.enabled,A(this,at))!==ja(r.enabled,A(this,at))||Ld(this.options.staleTime,A(this,at))!==Ld(r.staleTime,A(this,at)))&&De(this,$f,Wx).call(this);const i=De(this,qf,Qx).call(this);a&&(A(this,at)!==n||ja(this.options.enabled,A(this,at))!==ja(r.enabled,A(this,at))||i!==A(this,Ds))&&De(this,Vf,Yx).call(this,i)}getOptimisticResult(t){const r=A(this,mn).getQueryCache().build(A(this,mn),t),n=this.createResult(r,t);return y8(this,n)&&(de(this,Xr,n),de(this,Zc,this.options),de(this,tl,A(this,at).state)),n}getCurrentResult(){return A(this,Xr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&A(this,Ni).status==="pending"&&A(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){A(this,tu).add(t)}getCurrentQuery(){return A(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=A(this,mn).defaultQueryOptions(t),n=A(this,mn).getQueryCache().build(A(this,mn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return De(this,al,pd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,Xr)))}createResult(t,r){var T;const n=A(this,at),a=this.options,i=A(this,Xr),s=A(this,tl),o=A(this,Zc),u=t!==n?t.state:A(this,Bf),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const b=this.hasListeners(),D=!b&&wS(t,r),R=b&&bS(t,n,r,a);(D||R)&&(f={...f,...p8(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:x}=f;m=f.data;let v=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let b;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(b=i.data,v=!0):b=typeof r.placeholderData=="function"?r.placeholderData((T=A(this,eu))==null?void 0:T.state.data,A(this,eu)):r.placeholderData,b!==void 0&&(x="success",m=yS(i==null?void 0:i.data,b,r),h=!0)}if(r.select&&m!==void 0&&!v)if(i&&m===(s==null?void 0:s.data)&&r.select===A(this,zf))m=A(this,Jc);else try{de(this,zf,r.select),m=r.select(m),m=yS(i==null?void 0:i.data,m,r),de(this,Jc,m),de(this,ks,null)}catch(b){de(this,ks,b)}A(this,ks)&&(p=A(this,ks),m=A(this,Jc),g=Date.now(),x="error");const y=f.fetchStatus==="fetching",_=x==="pending",w=x==="error",N=_&&y,U=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:_,isSuccess:x==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!_,isLoadingError:w&&!U,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&U,isStale:X1(t,r),refetch:this.refetch,promise:A(this,Ni),isEnabled:ja(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const b=z=>{k.status==="error"?z.reject(k.error):k.data!==void 0&&z.resolve(k.data)},D=()=>{const z=de(this,Ni,k.promise=_S());b(z)},R=A(this,Ni);switch(R.status){case"pending":t.queryHash===n.queryHash&&b(R);break;case"fulfilled":(k.status==="error"||k.data!==R.value)&&D();break;case"rejected":(k.status!=="error"||k.error!==R.reason)&&D();break}}return k}updateResult(){const t=A(this,Xr),r=this.createResult(A(this,at),this.options);if(de(this,tl,A(this,at).state),de(this,Zc,this.options),A(this,tl).data!==void 0&&de(this,eu,A(this,at)),Am(r,t))return;de(this,Xr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!A(this,tu).size)return!0;const s=new Set(i??A(this,tu));return this.options.throwOnError&&s.add("error"),Object.keys(A(this,Xr)).some(o=>{const l=o;return A(this,Xr)[l]!==t[l]&&s.has(l)})};De(this,tg,$A).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Hf,Xx).call(this)}},mn=new WeakMap,at=new WeakMap,Bf=new WeakMap,Xr=new WeakMap,tl=new WeakMap,Zc=new WeakMap,Ni=new WeakMap,ks=new WeakMap,zf=new WeakMap,Jc=new WeakMap,eu=new WeakMap,rl=new WeakMap,nl=new WeakMap,Ds=new WeakMap,tu=new WeakMap,al=new WeakSet,pd=function(t){De(this,Wf,ey).call(this);let r=A(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Rm)),r},$f=new WeakSet,Wx=function(){De(this,Gf,Zx).call(this);const t=Ld(this.options.staleTime,A(this,at));if(ff||A(this,Xr).isStale||!gS(t))return;const n=o8(A(this,Xr).dataUpdatedAt,t)+1;de(this,rl,e0.setTimeout(()=>{A(this,Xr).isStale||this.updateResult()},n))},qf=new WeakSet,Qx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,at)):this.options.refetchInterval)??!1},Vf=new WeakSet,Yx=function(t){De(this,Kf,Jx).call(this),de(this,Ds,t),!(ff||ja(this.options.enabled,A(this,at))===!1||!gS(A(this,Ds))||A(this,Ds)===0)&&de(this,nl,e0.setInterval(()=>{(this.options.refetchIntervalInBackground||u8.isFocused())&&De(this,al,pd).call(this)},A(this,Ds)))},Hf=new WeakSet,Xx=function(){De(this,$f,Wx).call(this),De(this,Vf,Yx).call(this,De(this,qf,Qx).call(this))},Gf=new WeakSet,Zx=function(){A(this,rl)&&(e0.clearTimeout(A(this,rl)),de(this,rl,void 0))},Kf=new WeakSet,Jx=function(){A(this,nl)&&(e0.clearInterval(A(this,nl)),de(this,nl,void 0))},Wf=new WeakSet,ey=function(){const t=A(this,mn).getQueryCache().build(A(this,mn),this.options);if(t===A(this,at))return;const r=A(this,at);de(this,at,t),de(this,Bf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},tg=new WeakSet,$A=function(t){Ng.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(A(this,Xr))}),A(this,mn).getQueryCache().notify({query:A(this,at),type:"observerResultsUpdated"})})},I2);function x8(e,t){return ja(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wS(e,t){return x8(e,t)||e.state.data!==void 0&&ty(e,t,t.refetchOnMount)}function ty(e,t,r){if(ja(t.enabled,e)!==!1&&Ld(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&X1(e,t)}return!1}function bS(e,t,r,n){return(e!==t||ja(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&X1(e,r)}function X1(e,t){return ja(t.enabled,e)!==!1&&e.isStaleByTime(Ld(t.staleTime,e))}function y8(e,t){return!Am(e.getCurrentResult(),t)}function _8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oi,Ms,gn,ji,ru,$0,Qf,ry,F2,w8=(F2=class extends Ag{constructor(r,n){super();pe(this,ru);pe(this,Qf);pe(this,Oi,void 0);pe(this,Ms,void 0);pe(this,gn,void 0);pe(this,ji,void 0);de(this,Oi,r),this.setOptions(n),this.bindMethods(),De(this,ru,$0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=A(this,Oi).defaultMutationOptions(r),Am(this.options,n)||A(this,Oi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,gn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&pS(n.mutationKey)!==pS(this.options.mutationKey)?this.reset():((a=A(this,gn))==null?void 0:a.state.status)==="pending"&&A(this,gn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=A(this,gn))==null||r.removeObserver(this)}onMutationUpdate(r){De(this,ru,$0).call(this),De(this,Qf,ry).call(this,r)}getCurrentResult(){return A(this,Ms)}reset(){var r;(r=A(this,gn))==null||r.removeObserver(this),de(this,gn,void 0),De(this,ru,$0).call(this),De(this,Qf,ry).call(this)}mutate(r,n){var a;return de(this,ji,n),(a=A(this,gn))==null||a.removeObserver(this),de(this,gn,A(this,Oi).getMutationCache().build(A(this,Oi),this.options)),A(this,gn).addObserver(this),A(this,gn).execute(r)}},Oi=new WeakMap,Ms=new WeakMap,gn=new WeakMap,ji=new WeakMap,ru=new WeakSet,$0=function(){var n;const r=((n=A(this,gn))==null?void 0:n.state)??_8();de(this,Ms,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qf=new WeakSet,ry=function(r){Ng.batch(()=>{var n,a,i,s,o,l,u,d;if(A(this,ji)&&this.hasListeners()){const f=A(this,Ms).variables,h=A(this,Ms).context,m={client:A(this,Oi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=A(this,ji)).onSuccess)==null||a.call(n,r.data,f,h,m),(s=(i=A(this,ji)).onSettled)==null||s.call(i,r.data,null,f,h,m)):(r==null?void 0:r.type)==="error"&&((l=(o=A(this,ji)).onError)==null||l.call(o,r.error,f,h,m),(d=(u=A(this,ji)).onSettled)==null||d.call(u,void 0,r.error,f,h,m))}this.listeners.forEach(f=>{f(A(this,Ms))})})},F2),b8=S.createContext(void 0),Z1=e=>{const t=S.useContext(b8);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qA=S.createContext(!1),S8=()=>S.useContext(qA);qA.Provider;function E8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var T8=S.createContext(E8()),C8=()=>S.useContext(T8),R8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},A8=e=>{S.useEffect(()=>{e.clearReset()},[e])},N8=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||zA(r,[e.error,n])),O8=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},j8=(e,t)=>e.isLoading&&e.isFetching&&!t,k8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,SS=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function D8(e,t,r){var f,h,m,p,g;const n=S8(),a=C8(),i=Z1(r),s=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",O8(s),R8(s,a),A8(a);const o=!i.getQueryCache().get(s.queryHash),[l]=S.useState(()=>new t(i,s)),u=l.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(x=>{const v=d?l.subscribe(Ng.batchCalls(x)):Rm;return l.updateResult(),v},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(s)},[s,l]),k8(s,u))throw SS(s,l,a);if(N8({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,s,u),s.experimental_prefetchInRender&&!ff&&j8(u,n)){const x=o?SS(s,l,a):(g=i.getQueryCache().get(s.queryHash))==null?void 0:g.promise;x==null||x.catch(Rm).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function ld(e,t){return D8(e,v8,t)}function t0(e,t){const r=Z1(t),[n]=S.useState(()=>new w8(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const a=S.useSyncExternalStore(S.useCallback(s=>n.subscribe(Ng.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((s,o)=>{n.mutate(s,o).catch(Rm)},[n]);if(a.error&&zA(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function Fu(e,t=[]){let r=[];function n(i,s){const o=S.createContext(s),l=r.length;r=[...r,s];const u=f=>{var v;const{scope:h,children:m,...p}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[l])||o,x=S.useMemo(()=>p,Object.values(p));return c.jsx(g.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||o,p=S.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,M8(a,...t)]}function M8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function ai(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Ba=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},I8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nr=I8.reduce((e,t)=>{const r=df(`Primitive.${t}`),n=S.forwardRef((a,i)=>{const{asChild:s,...o}=a,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function VA(e,t){e&&sg.flushSync(()=>e.dispatchEvent(t))}function F8(){return UA.useSyncExternalStore(L8,()=>!0,()=>!1)}function L8(){return()=>{}}var J1="Avatar",[P8,XX]=Fu(J1),[U8,HA]=P8(J1),GA=S.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=S.useState("idle");return c.jsx(U8,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:c.jsx(Nr.span,{...n,ref:t})})});GA.displayName=J1;var KA="AvatarImage",WA=S.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=HA(KA,r),o=B8(n,i),l=ai(u=>{a(u),s.onImageLoadingStatusChange(u)});return Ba(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(Nr.img,{...i,ref:t,src:n}):null});WA.displayName=KA;var QA="AvatarFallback",YA=S.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=HA(QA,r),[s,o]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),s&&i.imageLoadingStatus!=="loaded"?c.jsx(Nr.span,{...a,ref:t}):null});YA.displayName=QA;function ES(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B8(e,{referrerPolicy:t,crossOrigin:r}){const n=F8(),a=S.useRef(null),i=(()=>n?(a.current||(a.current=new window.Image),a.current):null)(),[s,o]=S.useState(()=>ES(i,e));return Ba(()=>{o(ES(i,e))},[i,e]),Ba(()=>{const l=f=>()=>{o(f)};if(!i)return;const u=l("loaded"),d=l("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),s}var z8=GA,$8=WA,q8=YA;function lt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var V8=Fy[" useInsertionEffect ".trim().toString()]||Ba;function XA({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=H8({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:a;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=S.useCallback(d=>{var f;if(o){const h=G8(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else i(d)},[o,e,i,s]);return[l,u]}function H8({defaultProp:e,onChange:t}){const[r,n]=S.useState(e),a=S.useRef(r),i=S.useRef(t);return V8(()=>{i.current=t},[t]),S.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function G8(e){return typeof e=="function"}function ZA(e){const t=e+"CollectionProvider",[r,n]=Fu(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:x,children:v}=g,y=ce.useRef(null),_=ce.useRef(new Map).current;return c.jsx(a,{scope:x,itemMap:_,collectionRef:y,children:v})};s.displayName=t;const o=e+"CollectionSlot",l=df(o),u=ce.forwardRef((g,x)=>{const{scope:v,children:y}=g,_=i(o,v),w=Tn(x,_.collectionRef);return c.jsx(l,{ref:w,children:y})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=df(d),m=ce.forwardRef((g,x)=>{const{scope:v,children:y,..._}=g,w=ce.useRef(null),N=Tn(x,w),U=i(d,v);return ce.useEffect(()=>(U.itemMap.set(w,{ref:w,..._}),()=>void U.itemMap.delete(w))),c.jsx(h,{[f]:"",ref:N,children:y})});m.displayName=d;function p(g){const x=i(e+"CollectionConsumer",g);return ce.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((U,E)=>_.indexOf(U.ref.current)-_.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},p,n]}var K8=S.createContext(void 0);function JA(e){const t=S.useContext(K8);return e||t||"ltr"}function W8(e,t=globalThis==null?void 0:globalThis.document){const r=ai(e);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Q8="DismissableLayer",ny="dismissableLayer.update",Y8="dismissableLayer.pointerDownOutside",X8="dismissableLayer.focusOutside",TS,eN=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tN=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=e,u=S.useContext(eN),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),p=Tn(t,E=>f(E)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),y=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=v,N=eP(E=>{const k=E.target,T=[...u.branches].some(b=>b.contains(k));!w||T||(a==null||a(E),s==null||s(E),E.defaultPrevented||o==null||o())},h),U=tP(E=>{const k=E.target;[...u.branches].some(b=>b.contains(k))||(i==null||i(E),s==null||s(E),E.defaultPrevented||o==null||o())},h);return W8(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(TS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CS(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=TS)}},[d,h,r,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CS())},[d,u]),S.useEffect(()=>{const E=()=>m({});return document.addEventListener(ny,E),()=>document.removeEventListener(ny,E)},[]),c.jsx(Nr.div,{...l,ref:p,style:{pointerEvents:_?w?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,U.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,N.onPointerDownCapture)})});tN.displayName=Q8;var Z8="DismissableLayerBranch",J8=S.forwardRef((e,t)=>{const r=S.useContext(eN),n=S.useRef(null),a=Tn(t,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Nr.div,{...e,ref:a})});J8.displayName=Z8;function eP(e,t=globalThis==null?void 0:globalThis.document){const r=ai(e),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let l=function(){rN(Y8,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tP(e,t=globalThis==null?void 0:globalThis.document){const r=ai(e),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&rN(X8,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CS(){const e=new CustomEvent(ny);document.dispatchEvent(e)}function rN(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?VA(a,i):a.dispatchEvent(i)}var Gp=0;function rP(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??RS()),document.body.insertAdjacentElement("beforeend",e[1]??RS()),Gp++,()=>{Gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gp--}},[])}function RS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kp="focusScope.autoFocusOnMount",Wp="focusScope.autoFocusOnUnmount",AS={bubbles:!1,cancelable:!0},nP="FocusScope",nN=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[o,l]=S.useState(null),u=ai(a),d=ai(i),f=S.useRef(null),h=Tn(t,g=>l(g)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let g=function(_){if(m.paused||!o)return;const w=_.target;o.contains(w)?f.current=w:us(f.current,{select:!0})},x=function(_){if(m.paused||!o)return;const w=_.relatedTarget;w!==null&&(o.contains(w)||us(f.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&us(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(v);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[n,o,m.paused]),S.useEffect(()=>{if(o){OS.add(m);const g=document.activeElement;if(!o.contains(g)){const v=new CustomEvent(Kp,AS);o.addEventListener(Kp,u),o.dispatchEvent(v),v.defaultPrevented||(aP(cP(aN(o)),{select:!0}),document.activeElement===g&&us(o))}return()=>{o.removeEventListener(Kp,u),setTimeout(()=>{const v=new CustomEvent(Wp,AS);o.addEventListener(Wp,d),o.dispatchEvent(v),v.defaultPrevented||us(g??document.body,{select:!0}),o.removeEventListener(Wp,d),OS.remove(m)},0)}}},[o,u,d,m]);const p=S.useCallback(g=>{if(!r&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const y=g.currentTarget,[_,w]=iP(y);_&&w?!g.shiftKey&&v===w?(g.preventDefault(),r&&us(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),r&&us(w,{select:!0})):v===y&&g.preventDefault()}},[r,n,m.paused]);return c.jsx(Nr.div,{tabIndex:-1,...s,ref:h,onKeyDown:p})});nN.displayName=nP;function aP(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(us(n,{select:t}),document.activeElement!==r)return}function iP(e){const t=aN(e),r=NS(t,e),n=NS(t.reverse(),e);return[r,n]}function aN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function NS(e,t){for(const r of e)if(!sP(r,{upTo:t}))return r}function sP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oP(e){return e instanceof HTMLInputElement&&"select"in e}function us(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oP(e)&&t&&e.select()}}var OS=lP();function lP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jS(e,t),e.unshift(t)},remove(t){var r;e=jS(e,t),(r=e[0])==null||r.resume()}}}function jS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cP(e){return e.filter(t=>t.tagName!=="A")}var uP=Fy[" useId ".trim().toString()]||(()=>{}),dP=0;function ay(e){const[t,r]=S.useState(uP());return Ba(()=>{e||r(n=>n??String(dP++))},[e]),e||(t?`radix-${t}`:"")}const fP=["top","right","bottom","left"],so=Math.min,Fn=Math.max,Nm=Math.round,r0=Math.floor,ni=e=>({x:e,y:e}),hP={left:"right",right:"left",bottom:"top",top:"bottom"},mP={start:"end",end:"start"};function iy(e,t,r){return Fn(e,so(t,r))}function Qi(e,t){return typeof e=="function"?e(t):e}function Yi(e){return e.split("-")[0]}function Lu(e){return e.split("-")[1]}function e_(e){return e==="x"?"y":"x"}function t_(e){return e==="y"?"height":"width"}const gP=new Set(["top","bottom"]);function ti(e){return gP.has(Yi(e))?"y":"x"}function r_(e){return e_(ti(e))}function pP(e,t,r){r===void 0&&(r=!1);const n=Lu(e),a=r_(e),i=t_(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Om(s)),[s,Om(s)]}function vP(e){const t=Om(e);return[sy(e),t,sy(t)]}function sy(e){return e.replace(/start|end/g,t=>mP[t])}const kS=["left","right"],DS=["right","left"],xP=["top","bottom"],yP=["bottom","top"];function _P(e,t,r){switch(e){case"top":case"bottom":return r?t?DS:kS:t?kS:DS;case"left":case"right":return t?xP:yP;default:return[]}}function wP(e,t,r,n){const a=Lu(e);let i=_P(Yi(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(sy)))),i}function Om(e){return e.replace(/left|right|bottom|top/g,t=>hP[t])}function bP(e){return{top:0,right:0,bottom:0,left:0,...e}}function iN(e){return typeof e!="number"?bP(e):{top:e,right:e,bottom:e,left:e}}function jm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function MS(e,t,r){let{reference:n,floating:a}=e;const i=ti(t),s=r_(t),o=t_(s),l=Yi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Lu(t)){case"start":m[s]-=h*(r&&u?-1:1);break;case"end":m[s]+=h*(r&&u?-1:1);break}return m}const SP=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=MS(u,n,l),h=n,m={},p=0;for(let g=0;g<o.length;g++){const{name:x,fn:v}=o[g],{x:y,y:_,data:w,reset:N}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=y??d,f=_??f,m={...m,[x]:{...m[x],...w}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=MS(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function hf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Qi(t,e),p=iN(m),x=o[h?f==="floating"?"reference":"floating":f],v=jm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},N=jm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-N.top+p.top)/w.y,bottom:(N.bottom-v.bottom+p.bottom)/w.y,left:(v.left-N.left+p.left)/w.x,right:(N.right-v.right+p.right)/w.x}}const EP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Qi(e,t)||{};if(u==null)return{};const f=iN(d),h={x:r,y:n},m=r_(a),p=t_(m),g=await s.getDimensions(u),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",_=x?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[m]-h[m]-i.floating[p],N=h[m]-i.reference[m],U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=U?U[_]:0;(!E||!await(s.isElement==null?void 0:s.isElement(U)))&&(E=o.floating[_]||i.floating[p]);const k=w/2-N/2,T=E/2-g[p]/2-1,b=so(f[v],T),D=so(f[y],T),R=b,z=E-g[p]-D,re=E/2-g[p]/2+k,ie=iy(R,re,z),O=!l.arrow&&Lu(a)!=null&&re!==ie&&i.reference[p]/2-(re<R?b:D)-g[p]/2<0,Q=O?re<R?re-R:re-z:0;return{[m]:h[m]+Q,data:{[m]:ie,centerOffset:re-ie-Q,...O&&{alignmentOffset:Q}},reset:O}}}),TP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...x}=Qi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Yi(a),y=ti(o),_=Yi(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(_||!g?[Om(o)]:vP(o)),U=p!=="none";!h&&U&&N.push(...wP(o,g,p,w));const E=[o,...N],k=await hf(t,x),T=[];let b=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(k[v]),f){const re=pP(a,s,w);T.push(k[re[0]],k[re[1]])}if(b=[...b,{placement:a,overflows:T}],!T.every(re=>re<=0)){var D,R;const re=(((D=i.flip)==null?void 0:D.index)||0)+1,ie=E[re];if(ie&&(!(f==="alignment"?y!==ti(ie):!1)||b.every(M=>ti(M.placement)===y?M.overflows[0]>0:!0)))return{data:{index:re,overflows:b},reset:{placement:ie}};let O=(R=b.filter(Q=>Q.overflows[0]<=0).sort((Q,M)=>Q.overflows[1]-M.overflows[1])[0])==null?void 0:R.placement;if(!O)switch(m){case"bestFit":{var z;const Q=(z=b.filter(M=>{if(U){const K=ti(M.placement);return K===y||K==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(K=>K>0).reduce((K,J)=>K+J,0)]).sort((M,K)=>M[1]-K[1])[0])==null?void 0:z[0];Q&&(O=Q);break}case"initialPlacement":O=o;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function IS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FS(e){return fP.some(t=>e[t]>=0)}const CP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Qi(e,t);switch(n){case"referenceHidden":{const i=await hf(t,{...a,elementContext:"reference"}),s=IS(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:FS(s)}}}case"escaped":{const i=await hf(t,{...a,altBoundary:!0}),s=IS(i,r.floating);return{data:{escapedOffsets:s,escaped:FS(s)}}}default:return{}}}}},sN=new Set(["left","top"]);async function RP(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Yi(r),o=Lu(r),l=ti(r)==="y",u=sN.has(s)?-1:1,d=i&&l?-1:1,f=Qi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof p=="number"&&(m=o==="end"?p*-1:p),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const AP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=t,l=await RP(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:s}}}}},NP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...l}=Qi(e,t),u={x:r,y:n},d=await hf(t,l),f=ti(Yi(a)),h=e_(f);let m=u[h],p=u[f];if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+d[x],_=m-d[v];m=iy(y,m,_)}if(s){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+d[x],_=p-d[v];p=iy(y,p,_)}const g=o.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:s}}}}}},OP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Qi(e,t),d={x:r,y:n},f=ti(a),h=e_(f);let m=d[h],p=d[f];const g=Qi(o,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",w=i.reference[h]-i.floating[_]+x.mainAxis,N=i.reference[h]+i.reference[_]-x.mainAxis;m<w?m=w:m>N&&(m=N)}if(u){var v,y;const _=h==="y"?"width":"height",w=sN.has(Yi(a)),N=i.reference[f]-i.floating[_]+(w&&((v=s.offset)==null?void 0:v[f])||0)+(w?0:x.crossAxis),U=i.reference[f]+i.reference[_]+(w?0:((y=s.offset)==null?void 0:y[f])||0)-(w?x.crossAxis:0);p<N?p=N:p>U&&(p=U)}return{[h]:m,[f]:p}}}},jP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:o}=t,{apply:l=()=>{},...u}=Qi(e,t),d=await hf(t,u),f=Yi(a),h=Lu(a),m=ti(a)==="y",{width:p,height:g}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,_=p-d.left-d.right,w=so(g-d[x],y),N=so(p-d[v],_),U=!t.middlewareData.shift;let E=w,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),U&&!h){const b=Fn(d.left,0),D=Fn(d.right,0),R=Fn(d.top,0),z=Fn(d.bottom,0);m?k=p-2*(b!==0||D!==0?b+D:Fn(d.left,d.right)):E=g-2*(R!==0||z!==0?R+z:Fn(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:E});const T=await s.getDimensions(o.floating);return p!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Og(){return typeof window<"u"}function Pu(e){return oN(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ui(e){var t;return(t=(oN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oN(e){return Og()?e instanceof Node||e instanceof Qn(e).Node:!1}function za(e){return Og()?e instanceof Element||e instanceof Qn(e).Element:!1}function ii(e){return Og()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function LS(e){return!Og()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}const kP=new Set(["inline","contents"]);function ch(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=$a(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kP.has(a)}const DP=new Set(["table","td","th"]);function MP(e){return DP.has(Pu(e))}const IP=[":popover-open",":modal"];function jg(e){return IP.some(t=>{try{return e.matches(t)}catch{return!1}})}const FP=["transform","translate","scale","rotate","perspective"],LP=["transform","translate","scale","rotate","perspective","filter"],PP=["paint","layout","strict","content"];function n_(e){const t=a_(),r=za(e)?$a(e):e;return FP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||LP.some(n=>(r.willChange||"").includes(n))||PP.some(n=>(r.contain||"").includes(n))}function UP(e){let t=oo(e);for(;ii(t)&&!gu(t);){if(n_(t))return t;if(jg(t))return null;t=oo(t)}return null}function a_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BP=new Set(["html","body","#document"]);function gu(e){return BP.has(Pu(e))}function $a(e){return Qn(e).getComputedStyle(e)}function kg(e){return za(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oo(e){if(Pu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||LS(e)&&e.host||ui(e);return LS(t)?t.host:t}function lN(e){const t=oo(e);return gu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ii(t)&&ch(t)?t:lN(t)}function mf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=lN(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Qn(a);if(i){const o=oy(s);return t.concat(s,s.visualViewport||[],ch(a)?a:[],o&&r?mf(o):[])}return t.concat(a,mf(a,[],r))}function oy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cN(e){const t=$a(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ii(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,o=Nm(r)!==i||Nm(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function i_(e){return za(e)?e:e.contextElement}function Ac(e){const t=i_(e);if(!ii(t))return ni(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=cN(t);let s=(i?Nm(r.width):r.width)/n,o=(i?Nm(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const zP=ni(0);function uN(e){const t=Qn(e);return!a_()||!t.visualViewport?zP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $P(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qn(e)?!1:t}function xl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=i_(e);let s=ni(1);t&&(n?za(n)&&(s=Ac(n)):s=Ac(e));const o=$P(i,r,n)?uN(i):ni(0);let l=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=Qn(i),m=n&&za(n)?Qn(n):n;let p=h,g=oy(p);for(;g&&n&&m!==p;){const x=Ac(g),v=g.getBoundingClientRect(),y=$a(g),_=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,w=v.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=_,u+=w,p=Qn(g),g=oy(p)}}return jm({width:d,height:f,x:l,y:u})}function Dg(e,t){const r=kg(e).scrollLeft;return t?t.left+r:xl(ui(e)).left+r}function dN(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Dg(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function qP(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=ui(n),o=t?jg(t.floating):!1;if(n===s||o&&i)return r;let l={scrollLeft:0,scrollTop:0},u=ni(1);const d=ni(0),f=ii(n);if((f||!f&&!i)&&((Pu(n)!=="body"||ch(s))&&(l=kg(n)),ii(n))){const m=xl(n);u=Ac(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=s&&!f&&!i?dN(s,l):ni(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function VP(e){return Array.from(e.getClientRects())}function HP(e){const t=ui(e),r=kg(e),n=e.ownerDocument.body,a=Fn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Fn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Dg(e);const o=-r.scrollTop;return $a(n).direction==="rtl"&&(s+=Fn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}const PS=25;function GP(e,t){const r=Qn(e),n=ui(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;const d=a_();(!d||d&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}const u=Dg(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-m);p<=PS&&(i-=p)}else u<=PS&&(i+=u);return{width:i,height:s,x:o,y:l}}const KP=new Set(["absolute","fixed"]);function WP(e,t){const r=xl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ii(e)?Ac(e):ni(1),s=e.clientWidth*i.x,o=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:s,height:o,x:l,y:u}}function US(e,t,r){let n;if(t==="viewport")n=GP(e,r);else if(t==="document")n=HP(ui(e));else if(za(t))n=WP(t,r);else{const a=uN(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return jm(n)}function fN(e,t){const r=oo(e);return r===t||!za(r)||gu(r)?!1:$a(r).position==="fixed"||fN(r,t)}function QP(e,t){const r=t.get(e);if(r)return r;let n=mf(e,[],!1).filter(o=>za(o)&&Pu(o)!=="body"),a=null;const i=$a(e).position==="fixed";let s=i?oo(e):e;for(;za(s)&&!gu(s);){const o=$a(s),l=n_(s);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&KP.has(a.position)||ch(s)&&!l&&fN(e,s))?n=n.filter(d=>d!==s):a=o,s=oo(s)}return t.set(e,n),n}function YP(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?jg(t)?[]:QP(t,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const f=US(t,d,a);return u.top=Fn(f.top,u.top),u.right=so(f.right,u.right),u.bottom=so(f.bottom,u.bottom),u.left=Fn(f.left,u.left),u},US(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function XP(e){const{width:t,height:r}=cN(e);return{width:t,height:r}}function ZP(e,t,r){const n=ii(t),a=ui(t),i=r==="fixed",s=xl(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=ni(0);function u(){l.x=Dg(a)}if(n||!n&&!i)if((Pu(t)!=="body"||ch(a))&&(o=kg(t)),n){const m=xl(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?dN(a,o):ni(0),f=s.left+o.scrollLeft-l.x-d.x,h=s.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function Qp(e){return $a(e).position==="static"}function BS(e,t){if(!ii(e)||$a(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ui(e)===r&&(r=r.ownerDocument.body),r}function hN(e,t){const r=Qn(e);if(jg(e))return r;if(!ii(e)){let a=oo(e);for(;a&&!gu(a);){if(za(a)&&!Qp(a))return a;a=oo(a)}return r}let n=BS(e,t);for(;n&&MP(n)&&Qp(n);)n=BS(n,t);return n&&gu(n)&&Qp(n)&&!n_(n)?r:n||UP(e)||r}const JP=async function(e){const t=this.getOffsetParent||hN,r=this.getDimensions,n=await r(e.floating);return{reference:ZP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function e5(e){return $a(e).direction==="rtl"}const t5={convertOffsetParentRelativeRectToViewportRelativeRect:qP,getDocumentElement:ui,getClippingRect:YP,getOffsetParent:hN,getElementRects:JP,getClientRects:VP,getDimensions:XP,getScale:Ac,isElement:za,isRTL:e5};function mN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function r5(e,t){let r=null,n;const a=ui(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||t(),!h||!m)return;const p=r0(f),g=r0(a.clientWidth-(d+h)),x=r0(a.clientHeight-(f+m)),v=r0(d),_={rootMargin:-p+"px "+-g+"px "+-x+"px "+-v+"px",threshold:Fn(0,so(1,l))||1};let w=!0;function N(U){const E=U[0].intersectionRatio;if(E!==l){if(!w)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!mN(u,e.getBoundingClientRect())&&s(),w=!1}try{r=new IntersectionObserver(N,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,_)}r.observe(e)}return s(!0),i}function n5(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=i_(e),d=a||i?[...u?mf(u):[],...mf(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&o?r5(u,r):null;let h=-1,m=null;s&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let p,g=l?xl(e):null;l&&x();function x(){const v=xl(e);g&&!mN(g,v)&&r(),g=v,p=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(p)}}const a5=AP,i5=NP,s5=TP,o5=jP,l5=CP,zS=EP,c5=OP,u5=(e,t,r)=>{const n=new Map,a={platform:t5,...r},i={...a.platform,_c:n};return SP(e,t,{...a,platform:i})};var d5=typeof document<"u",f5=function(){},q0=d5?S.useLayoutEffect:f5;function km(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!km(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!km(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $S(e,t){const r=gN(e);return Math.round(t*r)/r}function Yp(e){const t=S.useRef(e);return q0(()=>{t.current=e}),t}function h5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(n);km(h,n)||m(n);const[p,g]=S.useState(null),[x,v]=S.useState(null),y=S.useCallback(M=>{M!==U.current&&(U.current=M,g(M))},[]),_=S.useCallback(M=>{M!==E.current&&(E.current=M,v(M))},[]),w=i||p,N=s||x,U=S.useRef(null),E=S.useRef(null),k=S.useRef(d),T=l!=null,b=Yp(l),D=Yp(a),R=Yp(u),z=S.useCallback(()=>{if(!U.current||!E.current)return;const M={placement:t,strategy:r,middleware:h};D.current&&(M.platform=D.current),u5(U.current,E.current,M).then(K=>{const J={...K,isPositioned:R.current!==!1};re.current&&!km(k.current,J)&&(k.current=J,sg.flushSync(()=>{f(J)}))})},[h,t,r,D,R]);q0(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const re=S.useRef(!1);q0(()=>(re.current=!0,()=>{re.current=!1}),[]),q0(()=>{if(w&&(U.current=w),N&&(E.current=N),w&&N){if(b.current)return b.current(w,N,z);z()}},[w,N,z,b,T]);const ie=S.useMemo(()=>({reference:U,floating:E,setReference:y,setFloating:_}),[y,_]),O=S.useMemo(()=>({reference:w,floating:N}),[w,N]),Q=S.useMemo(()=>{const M={position:r,left:0,top:0};if(!O.floating)return M;const K=$S(O.floating,d.x),J=$S(O.floating,d.y);return o?{...M,transform:"translate("+K+"px, "+J+"px)",...gN(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:J}},[r,o,O.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:z,refs:ie,elements:O,floatingStyles:Q}),[d,z,ie,O,Q])}const m5=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zS({element:n.current,padding:a}).fn(r):{}:n?zS({element:n,padding:a}).fn(r):{}}}},g5=(e,t)=>({...a5(e),options:[e,t]}),p5=(e,t)=>({...i5(e),options:[e,t]}),v5=(e,t)=>({...c5(e),options:[e,t]}),x5=(e,t)=>({...s5(e),options:[e,t]}),y5=(e,t)=>({...o5(e),options:[e,t]}),_5=(e,t)=>({...l5(e),options:[e,t]}),w5=(e,t)=>({...m5(e),options:[e,t]});var b5="Arrow",pN=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return c.jsx(Nr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});pN.displayName=b5;var S5=pN;function E5(e){const[t,r]=S.useState(void 0);return Ba(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var s_="Popper",[vN,xN]=Fu(s_),[T5,yN]=vN(s_),_N=e=>{const{__scopePopper:t,children:r}=e,[n,a]=S.useState(null);return c.jsx(T5,{scope:t,anchor:n,onAnchorChange:a,children:r})};_N.displayName=s_;var wN="PopperAnchor",bN=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=yN(wN,r),s=S.useRef(null),o=Tn(t,s),l=S.useRef(null);return S.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||s.current,u!==l.current&&i.onAnchorChange(l.current)}),n?null:c.jsx(Nr.div,{...a,ref:o})});bN.displayName=wN;var o_="PopperContent",[C5,R5]=vN(o_),SN=S.forwardRef((e,t)=>{var se,fe,ve,ge,Le,Ue;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,x=yN(o_,r),[v,y]=S.useState(null),_=Tn(t,Ot=>y(Ot)),[w,N]=S.useState(null),U=E5(w),E=(U==null?void 0:U.width)??0,k=(U==null?void 0:U.height)??0,T=n+(i!=="center"?"-"+i:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],R=D.length>0,z={padding:b,boundary:D.filter(N5),altBoundary:R},{refs:re,floatingStyles:ie,placement:O,isPositioned:Q,middlewareData:M}=h5({strategy:"fixed",placement:T,whileElementsMounted:(...Ot)=>n5(...Ot,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[g5({mainAxis:a+k,alignmentAxis:s}),l&&p5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v5():void 0,...z}),l&&x5({...z}),y5({...z,apply:({elements:Ot,rects:Ye,availableWidth:$r,availableHeight:ht})=>{const{width:Ne,height:vr}=Ye.reference,Tt=Ot.floating.style;Tt.setProperty("--radix-popper-available-width",`${$r}px`),Tt.setProperty("--radix-popper-available-height",`${ht}px`),Tt.setProperty("--radix-popper-anchor-width",`${Ne}px`),Tt.setProperty("--radix-popper-anchor-height",`${vr}px`)}}),w&&w5({element:w,padding:o}),O5({arrowWidth:E,arrowHeight:k}),h&&_5({strategy:"referenceHidden",...z})]}),[K,J]=CN(O),Y=ai(p);Ba(()=>{Q&&(Y==null||Y())},[Q,Y]);const P=(se=M.arrow)==null?void 0:se.x,H=(fe=M.arrow)==null?void 0:fe.y,I=((ve=M.arrow)==null?void 0:ve.centerOffset)!==0,[L,W]=S.useState();return Ba(()=>{v&&W(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Q?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[(ge=M.transformOrigin)==null?void 0:ge.x,(Le=M.transformOrigin)==null?void 0:Le.y].join(" "),...((Ue=M.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(C5,{scope:r,placedSide:K,onArrowChange:N,arrowX:P,arrowY:H,shouldHideArrow:I,children:c.jsx(Nr.div,{"data-side":K,"data-align":J,...g,ref:_,style:{...g.style,animation:Q?void 0:"none"}})})})});SN.displayName=o_;var EN="PopperArrow",A5={top:"bottom",right:"left",bottom:"top",left:"right"},TN=S.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=R5(EN,n),s=A5[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(S5,{...a,ref:r,style:{...a.style,display:"block"}})})});TN.displayName=EN;function N5(e){return e!==null}var O5=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:r,rects:n,middlewareData:a}=t,s=((x=a.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,d]=CN(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+o/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+l/2;let p="",g="";return u==="bottom"?(p=s?f:`${h}px`,g=`${-l}px`):u==="top"?(p=s?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(p=`${-l}px`,g=s?f:`${m}px`):u==="left"&&(p=`${n.floating.width+l}px`,g=s?f:`${m}px`),{data:{x:p,y:g}}}});function CN(e){const[t,r="center"]=e.split("-");return[t,r]}var j5=_N,k5=bN,D5=SN,M5=TN,I5="Portal",RN=S.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,i]=S.useState(!1);Ba(()=>i(!0),[]);const s=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?J2.createPortal(c.jsx(Nr.div,{...n,ref:t}),s):null});RN.displayName=I5;function F5(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var uh=e=>{const{present:t,children:r}=e,n=L5(t),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Tn(n.ref,P5(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};uh.displayName="Presence";function L5(e){const[t,r]=S.useState(),n=S.useRef(null),a=S.useRef(e),i=S.useRef("none"),s=e?"mounted":"unmounted",[o,l]=F5(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=n0(n.current);i.current=o==="mounted"?u:"none"},[o]),Ba(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=n0(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Ba(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=n0(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(l("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=n0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function n0(e){return(e==null?void 0:e.animationName)||"none"}function P5(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xp="rovingFocusGroup.onEntryFocus",U5={bubbles:!1,cancelable:!0},dh="RovingFocusGroup",[ly,AN,B5]=ZA(dh),[z5,NN]=Fu(dh,[B5]),[$5,q5]=z5(dh),ON=S.forwardRef((e,t)=>c.jsx(ly.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(ly.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(V5,{...e,ref:t})})}));ON.displayName=dh;var V5=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),m=Tn(t,h),p=JA(i),[g,x]=XA({prop:s,defaultProp:o??null,onChange:l,caller:dh}),[v,y]=S.useState(!1),_=ai(u),w=AN(r),N=S.useRef(!1),[U,E]=S.useState(0);return S.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Xp,_),()=>k.removeEventListener(Xp,_)},[_]),c.jsx($5,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:S.useCallback(k=>x(k),[x]),onItemShiftTab:S.useCallback(()=>y(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:S.useCallback(()=>E(k=>k-1),[]),children:c.jsx(Nr.div,{tabIndex:v||U===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:lt(e.onMouseDown,()=>{N.current=!0}),onFocus:lt(e.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!v){const b=new CustomEvent(Xp,U5);if(k.currentTarget.dispatchEvent(b),!b.defaultPrevented){const D=w().filter(O=>O.focusable),R=D.find(O=>O.active),z=D.find(O=>O.id===g),ie=[R,z,...D].filter(Boolean).map(O=>O.ref.current);DN(ie,d)}}N.current=!1}),onBlur:lt(e.onBlur,()=>y(!1))})})}),jN="RovingFocusGroupItem",kN=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...o}=e,l=ay(),u=i||l,d=q5(jN,r),f=d.currentTabStopId===u,h=AN(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return S.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),c.jsx(ly.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c.jsx(Nr.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:lt(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:lt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:lt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=K5(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const w=_.indexOf(x.currentTarget);_=d.loop?W5(_,w+1):_.slice(w+1)}setTimeout(()=>DN(_))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:g!=null}):s})})});kN.displayName=jN;var H5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function K5(e,t,r){const n=G5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return H5[n]}function DN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function W5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Q5=ON,Y5=kN,X5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$l=new WeakMap,a0=new WeakMap,i0={},Zp=0,MN=function(e){return e&&(e.host||MN(e.parentNode))},Z5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},J5=function(e,t,r,n){var a=Z5(t,Array.isArray(e)?e:[e]);i0[r]||(i0[r]=new WeakMap);var i=i0[r],s=[],o=new Set,l=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=($l.get(h)||0)+1,x=(i.get(h)||0)+1;$l.set(h,g),i.set(h,x),s.push(h),g===1&&p&&a0.set(h,!0),x===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),Zp++,function(){s.forEach(function(f){var h=$l.get(f)-1,m=i.get(f)-1;$l.set(f,h),i.set(f,m),h||(a0.has(f)||f.removeAttribute(n),a0.delete(f)),m||f.removeAttribute(r)}),Zp--,Zp||($l=new WeakMap,$l=new WeakMap,a0=new WeakMap,i0={})}},eU=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||X5(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),J5(n,a,r,"aria-hidden")):function(){return null}},cy=function(e,t){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},cy(e,t)};function IN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ma=function(){return ma=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ma.apply(this,arguments)};function xo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function FN(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function LN(e,t){return function(r,n){t(r,n,e)}}function PN(e,t,r,n,a,i){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var g in n)p[g]=g==="access"?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(v||null))};var x=(0,r[m])(o==="accessor"?{get:d.get,set:d.set}:d[l],p);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(d.get=f),(f=s(x.set))&&(d.set=f),(f=s(x.init))&&a.unshift(f)}else(f=s(x))&&(o==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function UN(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function BN(e){return typeof e=="symbol"?e:"".concat(e)}function zN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function $N(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Fe(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function qN(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Mg=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function VN(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mg(t,e,r)}function Dm(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function HN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l_(arguments[t]));return e}function GN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function c_(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function pu(e){return this instanceof pu?(this.v=e,this):new pu(e)}function KN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(m){return function(p){return Promise.resolve(p).then(m,f)}}function o(m,p){n[m]&&(a[m]=function(g){return new Promise(function(x,v){i.push([m,g,x,v])>1||l(m,g)})},p&&(a[m]=p(a[m])))}function l(m,p){try{u(n[m](p))}catch(g){h(i[0][3],g)}}function u(m){m.value instanceof pu?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,p){m(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function WN(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:pu(e[a](s)),done:!1}:i?i(s):s}:i}}function QN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dm=="function"?Dm(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(u){i({value:u,done:o})},s)}}function YN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var tU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},uy=function(e){return uy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},uy(e)};function XN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=uy(e),n=0;n<r.length;n++)r[n]!=="default"&&Mg(t,e,r[n]);return tU(t,e),t}function ZN(e){return e&&e.__esModule?e:{default:e}}function JN(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function eO(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function tO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var rU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function nO(e){function t(i){e.error=e.hasError?new rU(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function aO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const nU={__extends:IN,__assign:ma,__rest:xo,__decorate:FN,__param:LN,__esDecorate:PN,__runInitializers:UN,__propKey:BN,__setFunctionName:zN,__metadata:$N,__awaiter:Fe,__generator:qN,__createBinding:Mg,__exportStar:VN,__values:Dm,__read:l_,__spread:HN,__spreadArrays:GN,__spreadArray:c_,__await:pu,__asyncGenerator:KN,__asyncDelegator:WN,__asyncValues:QN,__makeTemplateObject:YN,__importStar:XN,__importDefault:ZN,__classPrivateFieldGet:JN,__classPrivateFieldSet:eO,__classPrivateFieldIn:tO,__addDisposableResource:rO,__disposeResources:nO,__rewriteRelativeImportExtension:aO},aU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rO,get __assign(){return ma},__asyncDelegator:WN,__asyncGenerator:KN,__asyncValues:QN,__await:pu,__awaiter:Fe,__classPrivateFieldGet:JN,__classPrivateFieldIn:tO,__classPrivateFieldSet:eO,__createBinding:Mg,__decorate:FN,__disposeResources:nO,__esDecorate:PN,__exportStar:VN,__extends:IN,__generator:qN,__importDefault:ZN,__importStar:XN,__makeTemplateObject:YN,__metadata:$N,__param:LN,__propKey:BN,__read:l_,__rest:xo,__rewriteRelativeImportExtension:aO,__runInitializers:UN,__setFunctionName:zN,__spread:HN,__spreadArray:c_,__spreadArrays:GN,__values:Dm,default:nU},Symbol.toStringTag,{value:"Module"}));var V0="right-scroll-bar-position",H0="width-before-scroll-bar",iU="with-scroll-bars-hidden",sU="--removed-body-scroll-bar-size";function Jp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oU(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var lU=typeof window<"u"?S.useLayoutEffect:S.useEffect,qS=new WeakMap;function cU(e,t){var r=oU(t||null,function(n){return e.forEach(function(a){return Jp(a,n)})});return lU(function(){var n=qS.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(o){i.has(o)||Jp(o,null)}),i.forEach(function(o){a.has(o)||Jp(o,s)})}qS.set(r,e)},[e]),r}function uU(e){return e}function dU(e,t){t===void 0&&(t=uU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(i),s=r}var l=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function fU(e){e===void 0&&(e={});var t=dU(null);return t.options=ma({async:!0,ssr:!1},e),t}var iO=function(e){var t=e.sideCar,r=xo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,ma({},r))};iO.isSideCarExport=!0;function hU(e,t){return e.useMedium(t),iO}var sO=fU(),ev=function(){},Ig=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:ev,onWheelCapture:ev,onTouchMoveCapture:ev}),a=n[0],i=n[1],s=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,_=e.gapMode,w=xo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,U=cU([r,t]),E=ma(ma({},w),a);return S.createElement(S.Fragment,null,d&&S.createElement(N,{sideCar:sO,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:_}),s?S.cloneElement(S.Children.only(o),ma(ma({},E),{ref:U})):S.createElement(y,ma({},E,{className:l,ref:U}),o))});Ig.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ig.classNames={fullWidth:H0,zeroRight:V0};var VS,mU=function(){if(VS)return VS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mU();return t&&e.setAttribute("nonce",t),e}function pU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gU())&&(pU(t,r),vU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yU=function(){var e=xU();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},oO=function(){var e=yU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},_U={left:0,top:0,right:0,gap:0},tv=function(e){return parseInt(e||"",10)||0},wU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[tv(r),tv(n),tv(a)]},bU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _U;var t=wU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},SU=oO(),Nc="data-scroll-locked",EU=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Nc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V0,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(H0,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(V0," .").concat(V0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(H0," .").concat(H0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nc,`] {
    `).concat(sU,": ").concat(o,`px;
  }
`)},HS=function(){var e=parseInt(document.body.getAttribute(Nc)||"0",10);return isFinite(e)?e:0},TU=function(){S.useEffect(function(){return document.body.setAttribute(Nc,(HS()+1).toString()),function(){var e=HS()-1;e<=0?document.body.removeAttribute(Nc):document.body.setAttribute(Nc,e.toString())}},[])},CU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;TU();var i=S.useMemo(function(){return bU(a)},[a]);return S.createElement(SU,{styles:EU(i,!t,a,r?"":"!important")})},dy=!1;if(typeof window<"u")try{var s0=Object.defineProperty({},"passive",{get:function(){return dy=!0,!0}});window.addEventListener("test",s0,s0),window.removeEventListener("test",s0,s0)}catch{dy=!1}var ql=dy?{passive:!1}:!1,RU=function(e){return e.tagName==="TEXTAREA"},lO=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!RU(e)&&r[t]==="visible")},AU=function(e){return lO(e,"overflowY")},NU=function(e){return lO(e,"overflowX")},GS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=cO(e,n);if(a){var i=uO(e,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},cO=function(e,t){return e==="v"?AU(t):NU(t)},uO=function(e,t){return e==="v"?OU(t):jU(t)},kU=function(e,t){return e==="h"&&t==="rtl"?-1:1},DU=function(e,t,r,n,a){var i=kU(e,window.getComputedStyle(t).direction),s=i*n,o=r.target,l=t.contains(o),u=!1,d=s>0,f=0,h=0;do{if(!o)break;var m=uO(e,o),p=m[0],g=m[1],x=m[2],v=g-x-i*p;(p||v)&&cO(e,o)&&(f+=v,h+=p);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(a&&Math.abs(f)<1||!a&&s>f)||!d&&(a&&Math.abs(h)<1||!a&&-s>h))&&(u=!0),u},o0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KS=function(e){return[e.deltaX,e.deltaY]},WS=function(e){return e&&"current"in e?e.current:e},MU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FU=0,Vl=[];function LU(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(FU++)[0],i=S.useState(oO)[0],s=S.useRef(e);S.useEffect(function(){s.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=c_([e.lockRef.current],(e.shards||[]).map(WS),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=S.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=o0(g),y=r.current,_="deltaX"in g?g.deltaX:y[0]-v[0],w="deltaY"in g?g.deltaY:y[1]-v[1],N,U=g.target,E=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&U.type==="range")return!1;var k=GS(E,U);if(!k)return!0;if(k?N=E:(N=E==="v"?"h":"v",k=GS(E,U)),!k)return!1;if(!n.current&&"changedTouches"in g&&(_||w)&&(n.current=N),!N)return!0;var T=n.current||N;return DU(T,x,g,T==="h"?_:w,!0)},[]),l=S.useCallback(function(g){var x=g;if(!(!Vl.length||Vl[Vl.length-1]!==i)){var v="deltaY"in x?KS(x):o0(x),y=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&MU(N.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var _=(s.current.shards||[]).map(WS).filter(Boolean).filter(function(N){return N.contains(x.target)}),w=_.length>0?o(x,_[0]):!s.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),u=S.useCallback(function(g,x,v,y){var _={name:g,delta:x,target:v,should:y,shadowParent:PU(v)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(w){return w!==_})},1)},[]),d=S.useCallback(function(g){r.current=o0(g),n.current=void 0},[]),f=S.useCallback(function(g){u(g.type,KS(g),g.target,o(g,e.lockRef.current))},[]),h=S.useCallback(function(g){u(g.type,o0(g),g.target,o(g,e.lockRef.current))},[]);S.useEffect(function(){return Vl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",d,ql),function(){Vl=Vl.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",d,ql)}},[]);var m=e.removeScrollBar,p=e.inert;return S.createElement(S.Fragment,null,p?S.createElement(i,{styles:IU(a)}):null,m?S.createElement(CU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function PU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UU=hU(sO,LU);var dO=S.forwardRef(function(e,t){return S.createElement(Ig,ma({},e,{ref:t,sideCar:UU}))});dO.classNames=Ig.classNames;const BU=dO;var fy=["Enter"," "],zU=["ArrowDown","PageUp","Home"],fO=["ArrowUp","PageDown","End"],$U=[...zU,...fO],qU={ltr:[...fy,"ArrowRight"],rtl:[...fy,"ArrowLeft"]},VU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fh="Menu",[gf,HU,GU]=ZA(fh),[Rl,hO]=Fu(fh,[GU,xN,NN]),Fg=xN(),mO=NN(),[KU,Al]=Rl(fh),[WU,hh]=Rl(fh),gO=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,o=Fg(t),[l,u]=S.useState(null),d=S.useRef(!1),f=ai(i),h=JA(a);return S.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),c.jsx(j5,{...o,children:c.jsx(KU,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(WU,{scope:t,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};gO.displayName=fh;var QU="MenuAnchor",u_=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Fg(r);return c.jsx(k5,{...a,...n,ref:t})});u_.displayName=QU;var d_="MenuPortal",[YU,pO]=Rl(d_,{forceMount:void 0}),vO=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Al(d_,t);return c.jsx(YU,{scope:t,forceMount:r,children:c.jsx(uh,{present:r||i.open,children:c.jsx(RN,{asChild:!0,container:a,children:n})})})};vO.displayName=d_;var xa="MenuContent",[XU,f_]=Rl(xa),xO=S.forwardRef((e,t)=>{const r=pO(xa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Al(xa,e.__scopeMenu),s=hh(xa,e.__scopeMenu);return c.jsx(gf.Provider,{scope:e.__scopeMenu,children:c.jsx(uh,{present:n||i.open,children:c.jsx(gf.Slot,{scope:e.__scopeMenu,children:s.modal?c.jsx(ZU,{...a,ref:t}):c.jsx(JU,{...a,ref:t})})})})}),ZU=S.forwardRef((e,t)=>{const r=Al(xa,e.__scopeMenu),n=S.useRef(null),a=Tn(t,n);return S.useEffect(()=>{const i=n.current;if(i)return eU(i)},[]),c.jsx(h_,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:lt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),JU=S.forwardRef((e,t)=>{const r=Al(xa,e.__scopeMenu);return c.jsx(h_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),eB=df("MenuContent.ScrollLock"),h_=S.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,x=Al(xa,r),v=hh(xa,r),y=Fg(r),_=mO(r),w=HU(r),[N,U]=S.useState(null),E=S.useRef(null),k=Tn(t,E,x.onContentChange),T=S.useRef(0),b=S.useRef(""),D=S.useRef(0),R=S.useRef(null),z=S.useRef("right"),re=S.useRef(0),ie=p?BU:S.Fragment,O=p?{as:eB,allowPinchZoom:!0}:void 0,Q=K=>{var se,fe;const J=b.current+K,Y=w().filter(ve=>!ve.disabled),P=document.activeElement,H=(se=Y.find(ve=>ve.ref.current===P))==null?void 0:se.textValue,I=Y.map(ve=>ve.textValue),L=fB(I,J,H),W=(fe=Y.find(ve=>ve.textValue===L))==null?void 0:fe.ref.current;(function ve(ge){b.current=ge,window.clearTimeout(T.current),ge!==""&&(T.current=window.setTimeout(()=>ve(""),1e3))})(J),W&&setTimeout(()=>W.focus())};S.useEffect(()=>()=>window.clearTimeout(T.current),[]),rP();const M=S.useCallback(K=>{var Y,P;return z.current===((Y=R.current)==null?void 0:Y.side)&&mB(K,(P=R.current)==null?void 0:P.area)},[]);return c.jsx(XU,{scope:r,searchRef:b,onItemEnter:S.useCallback(K=>{M(K)&&K.preventDefault()},[M]),onItemLeave:S.useCallback(K=>{var J;M(K)||((J=E.current)==null||J.focus(),U(null))},[M]),onTriggerLeave:S.useCallback(K=>{M(K)&&K.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:S.useCallback(K=>{R.current=K},[]),children:c.jsx(ie,{...O,children:c.jsx(nN,{asChild:!0,trapped:a,onMountAutoFocus:lt(i,K=>{var J;K.preventDefault(),(J=E.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:c.jsx(tN,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:c.jsx(Q5,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:U,onEntryFocus:lt(l,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(D5,{role:"menu","aria-orientation":"vertical","data-state":MO(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:lt(g.onKeyDown,K=>{const Y=K.target.closest("[data-radix-menu-content]")===K.currentTarget,P=K.ctrlKey||K.altKey||K.metaKey,H=K.key.length===1;Y&&(K.key==="Tab"&&K.preventDefault(),!P&&H&&Q(K.key));const I=E.current;if(K.target!==I||!$U.includes(K.key))return;K.preventDefault();const W=w().filter(se=>!se.disabled).map(se=>se.ref.current);fO.includes(K.key)&&W.reverse(),uB(W)}),onBlur:lt(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(T.current),b.current="")}),onPointerMove:lt(e.onPointerMove,pf(K=>{const J=K.target,Y=re.current!==K.clientX;if(K.currentTarget.contains(J)&&Y){const P=K.clientX>re.current?"right":"left";z.current=P,re.current=K.clientX}}))})})})})})})});xO.displayName=xa;var tB="MenuGroup",m_=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Nr.div,{role:"group",...n,ref:t})});m_.displayName=tB;var rB="MenuLabel",yO=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Nr.div,{...n,ref:t})});yO.displayName=rB;var Mm="MenuItem",QS="menu.itemSelect",Lg=S.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=S.useRef(null),s=hh(Mm,e.__scopeMenu),o=f_(Mm,e.__scopeMenu),l=Tn(t,i),u=S.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(QS,{bubbles:!0,cancelable:!0});f.addEventListener(QS,m=>n==null?void 0:n(m),{once:!0}),VA(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return c.jsx(_O,{...a,ref:l,disabled:r,onClick:lt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:lt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:lt(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||fy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Lg.displayName=Mm;var _O=S.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=f_(Mm,r),o=mO(r),l=S.useRef(null),u=Tn(t,l),[d,f]=S.useState(!1),[h,m]=S.useState("");return S.useEffect(()=>{const p=l.current;p&&m((p.textContent??"").trim())},[i.children]),c.jsx(gf.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:c.jsx(Y5,{asChild:!0,...o,focusable:!n,children:c.jsx(Nr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:lt(e.onPointerMove,pf(p=>{n?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:lt(e.onPointerLeave,pf(p=>s.onItemLeave(p))),onFocus:lt(e.onFocus,()=>f(!0)),onBlur:lt(e.onBlur,()=>f(!1))})})})}),nB="MenuCheckboxItem",wO=S.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return c.jsx(CO,{scope:e.__scopeMenu,checked:r,children:c.jsx(Lg,{role:"menuitemcheckbox","aria-checked":Im(r)?"mixed":r,...a,ref:t,"data-state":p_(r),onSelect:lt(a.onSelect,()=>n==null?void 0:n(Im(r)?!0:!r),{checkForDefaultPrevented:!1})})})});wO.displayName=nB;var bO="MenuRadioGroup",[aB,iB]=Rl(bO,{value:void 0,onValueChange:()=>{}}),SO=S.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=ai(n);return c.jsx(aB,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c.jsx(m_,{...a,ref:t})})});SO.displayName=bO;var EO="MenuRadioItem",TO=S.forwardRef((e,t)=>{const{value:r,...n}=e,a=iB(EO,e.__scopeMenu),i=r===a.value;return c.jsx(CO,{scope:e.__scopeMenu,checked:i,children:c.jsx(Lg,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":p_(i),onSelect:lt(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});TO.displayName=EO;var g_="MenuItemIndicator",[CO,sB]=Rl(g_,{checked:!1}),RO=S.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=sB(g_,r);return c.jsx(uh,{present:n||Im(i.checked)||i.checked===!0,children:c.jsx(Nr.span,{...a,ref:t,"data-state":p_(i.checked)})})});RO.displayName=g_;var oB="MenuSeparator",AO=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Nr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});AO.displayName=oB;var lB="MenuArrow",NO=S.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Fg(r);return c.jsx(M5,{...a,...n,ref:t})});NO.displayName=lB;var cB="MenuSub",[ZX,OO]=Rl(cB),vd="MenuSubTrigger",jO=S.forwardRef((e,t)=>{const r=Al(vd,e.__scopeMenu),n=hh(vd,e.__scopeMenu),a=OO(vd,e.__scopeMenu),i=f_(vd,e.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),c.jsx(u_,{asChild:!0,...u,children:c.jsx(_O,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":MO(r.open),...e,ref:Eg(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:lt(e.onPointerMove,pf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:lt(e.onPointerLeave,pf(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,x=g==="right",v=x?-5:5,y=h[x?"left":"right"],_=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:lt(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||qU[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});jO.displayName=vd;var kO="MenuSubContent",DO=S.forwardRef((e,t)=>{const r=pO(xa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Al(xa,e.__scopeMenu),s=hh(xa,e.__scopeMenu),o=OO(kO,e.__scopeMenu),l=S.useRef(null),u=Tn(t,l);return c.jsx(gf.Provider,{scope:e.__scopeMenu,children:c.jsx(uh,{present:n||i.open,children:c.jsx(gf.Slot,{scope:e.__scopeMenu,children:c.jsx(h_,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:lt(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:lt(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:lt(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=VU[s.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});DO.displayName=kO;function MO(e){return e?"open":"closed"}function Im(e){return e==="indeterminate"}function p_(e){return Im(e)?"indeterminate":e?"checked":"unchecked"}function uB(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function dB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function fB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=dB(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function hB(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const o=t[i],l=t[s],u=o.x,d=o.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function mB(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return hB(r,t)}function pf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gB=gO,pB=u_,vB=vO,xB=xO,yB=m_,_B=yO,wB=Lg,bB=wO,SB=SO,EB=TO,TB=RO,CB=AO,RB=NO,AB=jO,NB=DO,Pg="DropdownMenu",[OB,JX]=Fu(Pg,[hO]),sn=hO(),[jB,IO]=OB(Pg),FO=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=sn(t),u=S.useRef(null),[d,f]=XA({prop:a,defaultProp:i??!1,onChange:s,caller:Pg});return c.jsx(jB,{scope:t,triggerId:ay(),triggerRef:u,contentId:ay(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:c.jsx(gB,{...l,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};FO.displayName=Pg;var LO="DropdownMenuTrigger",PO=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=IO(LO,r),s=sn(r);return c.jsx(pB,{asChild:!0,...s,children:c.jsx(Nr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Eg(t,i.triggerRef),onPointerDown:lt(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:lt(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});PO.displayName=LO;var kB="DropdownMenuPortal",UO=e=>{const{__scopeDropdownMenu:t,...r}=e,n=sn(t);return c.jsx(vB,{...n,...r})};UO.displayName=kB;var BO="DropdownMenuContent",zO=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IO(BO,r),i=sn(r),s=S.useRef(!1);return c.jsx(xB,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:lt(e.onCloseAutoFocus,o=>{var l;s.current||(l=a.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:lt(e.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zO.displayName=BO;var DB="DropdownMenuGroup",MB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(yB,{...a,...n,ref:t})});MB.displayName=DB;var IB="DropdownMenuLabel",$O=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(_B,{...a,...n,ref:t})});$O.displayName=IB;var FB="DropdownMenuItem",qO=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(wB,{...a,...n,ref:t})});qO.displayName=FB;var LB="DropdownMenuCheckboxItem",PB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(bB,{...a,...n,ref:t})});PB.displayName=LB;var UB="DropdownMenuRadioGroup",BB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(SB,{...a,...n,ref:t})});BB.displayName=UB;var zB="DropdownMenuRadioItem",$B=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(EB,{...a,...n,ref:t})});$B.displayName=zB;var qB="DropdownMenuItemIndicator",VB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(TB,{...a,...n,ref:t})});VB.displayName=qB;var HB="DropdownMenuSeparator",VO=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(CB,{...a,...n,ref:t})});VO.displayName=HB;var GB="DropdownMenuArrow",KB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(RB,{...a,...n,ref:t})});KB.displayName=GB;var WB="DropdownMenuSubTrigger",QB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(AB,{...a,...n,ref:t})});QB.displayName=WB;var YB="DropdownMenuSubContent",XB=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=sn(r);return c.jsx(NB,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XB.displayName=YB;var ZB=FO,JB=PO,e9=UO,t9=zO,r9=$O,n9=qO,a9=VO;const i9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mu(()=>Promise.resolve().then(()=>Nl),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class v_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class YS extends v_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class XS extends v_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ZS extends v_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hy||(hy={}));class s9{constructor(t,{headers:r={},customFetch:n,region:a=hy.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=i9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Fe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:s,body:o,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const m=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new YS(v)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new XS(m);if(!m.ok)throw new ZS(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield m.json():g==="application/octet-stream"||g==="application/pdf"?x=yield m.blob():g==="text/event-stream"?x=m:g==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new YS(i)}:{data:null,error:i,response:i instanceof ZS||i instanceof XS?i.context:void 0}}})}}var wn={};const Uu=L2(aU);var l0={},c0={},u0={},d0={},f0={},o9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vu=o9();const l9=vu.fetch,HO=vu.fetch.bind(vu),GO=vu.Headers,c9=vu.Request,u9=vu.Response,Nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:GO,Request:c9,Response:u9,default:HO,fetch:l9},Symbol.toStringTag,{value:"Module"})),d9=L2(Nl);var h0={},JS;function KO(){if(JS)return h0;JS=1,Object.defineProperty(h0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return h0.default=e,h0}var eE;function WO(){if(eE)return f0;eE=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=Uu,t=e.__importDefault(d9),r=e.__importDefault(KO());class n{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let p=null,g=null,x=null,v=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=U:g=JSON.parse(U))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&N&&N.length>1&&(x=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,v=406,y="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const w=await u.text();try{p=JSON.parse(w),Array.isArray(p)&&u.status===404&&(g=[],p=null,v=200,y="OK")}catch{u.status===404&&w===""?(v=204,y="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,y="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:g,count:x,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return f0.default=n,f0}var tE;function QO(){if(tE)return d0;tE=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=Uu.__importDefault(WO());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return d0.default=r,d0}var rE;function x_(){if(rE)return u0;rE=1,Object.defineProperty(u0,"__esModule",{value:!0});const t=Uu.__importDefault(QO());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${l}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return u0.default=r,u0}var nE;function YO(){if(nE)return c0;nE=1,Object.defineProperty(c0,"__esModule",{value:!0});const t=Uu.__importDefault(x_());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},l=s?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return c0.default=r,c0}var aE;function f9(){if(aE)return l0;aE=1,Object.defineProperty(l0,"__esModule",{value:!0});const e=Uu,t=e.__importDefault(YO()),r=e.__importDefault(x_());class n{constructor(i,{headers:s={},schema:o,fetch:l}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{h.searchParams.append(g,x)})):(f="POST",m=s);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return l0.default=n,l0}Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const Bu=Uu,XO=Bu.__importDefault(f9());wn.PostgrestClient=XO.default;const ZO=Bu.__importDefault(YO());wn.PostgrestQueryBuilder=ZO.default;const JO=Bu.__importDefault(x_());wn.PostgrestFilterBuilder=JO.default;const e4=Bu.__importDefault(QO());wn.PostgrestTransformBuilder=e4.default;const t4=Bu.__importDefault(WO());wn.PostgrestBuilder=t4.default;const r4=Bu.__importDefault(KO());wn.PostgrestError=r4.default;var h9=wn.default={PostgrestClient:XO.default,PostgrestQueryBuilder:ZO.default,PostgrestFilterBuilder:JO.default,PostgrestTransformBuilder:e4.default,PostgrestBuilder:t4.default,PostgrestError:r4.default};const{PostgrestClient:m9,PostgrestQueryBuilder:eZ,PostgrestFilterBuilder:tZ,PostgrestTransformBuilder:rZ,PostgrestBuilder:nZ,PostgrestError:aZ}=h9;class g9{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const p9="2.76.1",v9=`realtime-js/${p9}`,x9="1.0.0",my=1e4,y9=1e3,_9=100;var Pd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pd||(Pd={}));var fr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fr||(fr={}));var ka;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ka||(ka={}));var gy;(function(e){e.websocket="websocket"})(gy||(gy={}));var Lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Lo||(Lo={}));class w9{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const l=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class n4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(At||(At={}));const iE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=b9(s,e,t,a),i),{}):{}},b9=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?a4(i,s):py(s)},a4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C9(t,r)}switch(e){case At.bool:return S9(t);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return E9(t);case At.json:case At.jsonb:return T9(t);case At.timestamp:return R9(t);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return py(t);default:return py(t)}},py=e=>e,S9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>a4(t,o))}return e},R9=e=>typeof e=="string"?e.replace(" ","T"):e,i4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class rv{constructor(t,r,n={},a=my){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sE||(sE={}));class Ud{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ud.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Ud.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ud.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),p=d.filter(x=>m.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);p.length>0&&(o[u]=p),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oE||(oE={}));var Bd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bd||(Bd={}));var Si;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Si||(Si={}));class y_{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rv(this,ka.join,this.params,this.timeout),this.rejoinTimer=new n4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ka.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ud(this),this.broadcastEndpointURL=i4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fr.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Bd.PRESENCE]&&this.bindings[Bd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Si.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Si.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Si.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let y=0;y<x;y++){const _=g[y],{filter:{event:w,schema:N,table:U,filter:E}}=_,k=m&&m[y];if(k&&k.event===w&&k.schema===N&&k.table===U&&k.filter===E)v.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=fr.errored,t==null||t(Si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Si.SUBSCRIBED);return}}).receive("error",m=>{this.state=fr.errored,t==null||t(Si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===fr.joined&&t===Bd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ka.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new rv(this,ka.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new rv(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=ka;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,g,x;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var p,g,x,v,y,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const w=m.id,N=(p=m.filter)===null||p===void 0?void 0:p.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(y=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:x,commit_timestamp:v,type:y,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===fr.closed}_isJoined(){return this.state===fr.joined}_isJoining(){return this.state===fr.joining}_isLeaving(){return this.state===fr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&y_.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ka.close,{},t)}_onError(t){this._on(ka.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=iE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=iE(t.columns,t.old_record)),r}}const nv=()=>{},m0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},A9=[1e3,2e3,5e3,1e4],N9=1e4,O9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=my,this.transport=null,this.heartbeatIntervalMs=m0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nv,this.ref=0,this.reconnectTimer=null,this.logger=nv,this.conn=null,this.sendBuffer=[],this.serializer=new w9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Mu(()=>Promise.resolve().then(()=>Nl),void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${gy.websocket}`,this.httpEndpoint=i4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x9}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pd.connecting:return Lo.Connecting;case Pd.open:return Lo.Open;case Pd.closing:return Lo.Closing;default:return Lo.Closed}}isConnected(){return this.connectionState()===Lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new y_(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(y9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},m0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ka.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([O9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:v9};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ka.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new n4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},m0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:my,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:m0.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:nv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>A9[f-1]||N9,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class __ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class k9 extends __{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vy extends __{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const w_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mu(()=>Promise.resolve().then(()=>Nl),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},D9=()=>Fe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mu(()=>Promise.resolve().then(()=>Nl),void 0)).Response:Response}),xy=e=>{if(Array.isArray(e))return e.map(r=>xy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=xy(n)}),t},M9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},av=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I9=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){const n=yield D9();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new k9(av(a),i,s))}).catch(a=>{t(new vy(av(a),a))}):t(new vy(av(e),e))}),F9=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(M9(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function mh(e,t,r,n,a,i){return Fe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,F9(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>I9(l,o,n))})})}function vf(e,t,r,n){return Fe(this,void 0,void 0,function*(){return mh(e,"GET",t,r,n)})}function Ra(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return mh(e,"POST",t,n,a,r)})}function yy(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return mh(e,"PUT",t,n,a,r)})}function L9(e,t,r,n){return Fe(this,void 0,void 0,function*(){return mh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function b_(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return mh(e,"DELETE",t,n,a,r)})}class P9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}var s4;class U9{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[s4]="BlobDownloadBuilder",this.promise=null}asStream(){return new P9(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}s4=Symbol.toStringTag;const B9=U9,z9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $9{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=w_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Fe(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},lE),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?yy:Ra)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:lE.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield yy(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ra(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new __("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Fe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ra(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=yield Ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),l=()=>vf(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new B9(l,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}exists(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield L9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n)&&n instanceof vy){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield b_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},z9),r),{prefix:t||""});return{data:yield Ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const o4="2.76.1",l4={"X-Client-Info":`storage-js/${o4}`};class q9{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l4),r),this.fetch=w_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fe(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}createBucket(t){return Fe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield yy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield b_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}class V9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l4),r),this.fetch=w_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield vf(this.fetch,a,{headers:this.headers});return{data:Array.isArray(i)?i.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield b_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}})}}const S_={"X-Client-Info":`storage-js/${o4}`,"Content-Type":"application/json"};class c4 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class iv extends c4{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class H9 extends c4{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var cE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cE||(cE={}));const E_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mu(()=>Promise.resolve().then(()=>Nl),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},G9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K9=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new iv(uE(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new iv(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new iv(o,a,s))}}else t(new H9(uE(e),e))}),W9=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(G9(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function Q9(e,t,r,n,a,i){return Fe(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,W9(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>K9(l,o,n))})})}function $n(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return Q9(e,"POST",t,n,a,r)})}class Y9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}})}}class X9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}listVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}}class Z9{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S_),r),this.fetch=E_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}listBuckets(){return Fe(this,arguments,void 0,function*(t={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}})}}class J9 extends Z9{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new e7(this.url,this.headers,t,this.fetch)}}class e7 extends Y9{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Fe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Fe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Fe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Fe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new t7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class t7 extends X9{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Fe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Fe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Fe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Fe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Fe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class r7 extends q9{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new $9(this.url,this.headers,t,this.fetch)}get vectors(){return new J9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V9(this.url+"/iceberg",this.headers,this.fetch)}}const n7="2.76.1";let xd="";typeof Deno<"u"?xd="deno":typeof document<"u"?xd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xd="react-native":xd="node";const a7={"X-Client-Info":`supabase-js-${xd}/${n7}`},i7={headers:a7},s7={schema:"public"},o7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l7={},c7=e=>{let t;return e?t=e:typeof fetch>"u"?t=HO:t=fetch,(...r)=>t(...r)},u7=()=>typeof Headers>"u"?GO:Headers,d7=(e,t,r)=>{const n=c7(r),a=u7();return async(i,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:u}))}};function f7(e){return e.endsWith("/")?e:e+"/"}function h7(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function m7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u4="2.76.1",ac=30*1e3,_y=3,sv=_y*ac,g7="http://localhost:9999",p7="supabase.auth.token",v7={"X-Client-Info":`gotrue-js/${u4}`},wy="X-Supabase-Api-Version",d4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y7=10*60*1e3;class xf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _7 extends xf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function w7(e){return Pe(e)&&e.name==="AuthApiError"}class Po extends xf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yo extends xf{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ds extends yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function b7(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Hl extends yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class g0 extends yo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class p0 extends yo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S7(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class dE extends yo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class by extends yo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ov(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class fE extends yo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sy extends yo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hE=` 	
\r=`.split(""),E7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hE.length;t+=1)e[hE[t].charCodeAt(0)]=-2;for(let t=0;t<Fm.length;t+=1)e[Fm[t].charCodeAt(0)]=t;return e})();function mE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fm[n]),t.queuedBits-=6}}function f4(e,t,r){const n=E7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gE(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{R7(s,n,r)};for(let s=0;s<e.length;s+=1)f4(e.charCodeAt(s),a,i);return t.join("")}function T7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function C7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}T7(n,t)}}function R7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Oc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)f4(e.charCodeAt(a),r,n);return new Uint8Array(t)}function A7(e){const t=[];return C7(e,r=>t.push(r)),new Uint8Array(t)}function qo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>mE(a,r,n)),mE(null,r,n),t.join("")}function N7(e){return Math.round(Date.now()/1e3)+e}function O7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const On=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},h4=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function j7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const m4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mu(()=>Promise.resolve().then(()=>Nl),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},k7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ic=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ro=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},os=async(e,t)=>{await e.removeItem(t)};class Ug{constructor(){this.promise=new Ug.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ug.promiseConstructor=Promise;function lv(e){const t=e.split(".");if(t.length!==3)throw new Sy("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!x7.test(t[n]))throw new Sy("JWT not in base64url format");return{header:JSON.parse(gE(t[0])),payload:JSON.parse(gE(t[1])),signature:Oc(t[2]),raw:{header:t[0],payload:t[1]}}}async function D7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M7(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function I7(e){return("0"+e.toString(16)).substr(-2)}function F7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,I7).join("")}async function L7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function P7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await L7(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gl(e,t,r=!1){const n=F7();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ic(e,`${t}-code-verifier`,a);const i=await P7(n);return[i,n===i?"plain":"s256"]}const U7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B7(e){const t=e.headers.get(wy);if(!t||!t.match(U7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kl(e){if(!q7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pE(e){return JSON.parse(JSON.stringify(e))}const Fo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V7=[502,503,504];async function vE(e){var t;if(!k7(e))throw new by(Fo(e),0);if(V7.includes(e.status))throw new by(Fo(e),e.status);let r;try{r=await e.json()}catch(i){throw new Po(Fo(i),i)}let n;const a=B7(e);if(a&&a.getTime()>=d4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fE(Fo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ds}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new fE(Fo(r),e.status,r.weak_password.reasons);throw new _7(Fo(r),e.status||500,n)}const H7=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qe(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[wy]||(i[wy]=d4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await G7(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function G7(e,t,r,n,a,i){const s=H7(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new by(Fo(l),0)}if(o.ok||await vE(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await vE(l)}}function Ca(e){var t;let r=null;Q7(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xE(e){const t=Ca(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function K7(e){return{data:e,error:null}}function W7(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=xo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function yE(e){return e}function Q7(e){return e.access_token&&e.refresh_token&&e.expires_in}const uv=["global","local","others"];class Y7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=m4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=uv[0]){if(uv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uv.join(", ")}`);try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ys})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:W7,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ys})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:yE});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Kl(t);try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ys})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Kl(t);try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ys})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Kl(t);try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ys})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Kl(t.userId);try{const{data:r,error:n}=await qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Kl(t.userId),Kl(t.id);try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:yE});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function _E(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Wl={debug:!!(globalThis&&h4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X7 extends g4{}async function Z7(e,t,r){Wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new X7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function J7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ez(e){return parseInt(e,16)}function tz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rz(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=p4(e.address),p=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${p} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);y+=`
- ${_}`}v+=y}return`${x}
${v}`}class nr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Lm extends nr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function nz({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(v4(s)){if(i.rp.id!==s)return new nr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function az({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new nr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(v4(n)){if(r.rpId!==n)return new nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class iz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sz=new iz;function oz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=xo(e,["challenge","user","excludeCredentials"]),i=Oc(t).buffer,s=Object.assign(Object.assign({},r),{id:Oc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Oc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function lz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=xo(e,["challenge","allowCredentials"]),a=Oc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Oc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function cz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qo(new Uint8Array(e.response.attestationObject)),clientDataJSON:qo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qo(new Uint8Array(a.authenticatorData)),clientDataJSON:qo(new Uint8Array(a.clientDataJSON)),signature:qo(new Uint8Array(a.signature)),userHandle:a.userHandle?qo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wE(){var e,t;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lm("Browser returned unexpected credential type",t)}:{data:null,error:new Lm("Empty credential response",t)}}catch(t){return{data:null,error:nz({error:t,options:e})}}}async function fz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lm("Browser returned unexpected credential type",t)}:{data:null,error:new Lm("Empty credential response",t)}}catch(t){return{data:null,error:az({error:t,options:e})}}}const hz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},mz={userVerification:"preferred",hints:["security-key"]};function Pm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Pm(o,s):n[i]=Pm(s)}else n[i]=s}return n}function gz(e,t){return Pm(hz,e,t||{})}function pz(e,t){return Pm(mz,e,t||{})}class vz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=a??sz.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=gz(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await dz({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=pz(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await fz(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return Pe(s)?{data:null,error:s}:{data:null,error:new Po("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new xf("rpId is required for WebAuthn authentication")};try{if(!wE())return{data:null,error:new Po("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return Pe(s)?{data:null,error:s}:{data:null,error:new Po("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new xf("rpId is required for WebAuthn registration")};try{if(!wE())return{data:null,error:new Po("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Pe(s)?{data:null,error:s}:{data:null,error:new Po("Unexpected error in register",s)}}}}J7();const xz={url:g7,storageKey:p7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bE(e,t,r){return await r()}const Ql={};class yf{get jwks(){var t,r;return(r=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yf.nextInstanceID,yf.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},xz),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Y7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=m4(a.fetch),this.lock=a.lock||bE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:On()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Z7:this.lock=bE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vz(this)},this.persistSession?(a.storage?this.storage=a.storage:h4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_E(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_E(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=j7(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),On()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S7(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?{error:r}:{error:new Po("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ca}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Gl(this.storage,this.storageKey)),i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Ca})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ca})}else throw new g0("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xE})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xE})}else throw new g0("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,l,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:g,wallet:x,statement:v,options:y}=t;let _;if(On())if(typeof x=="object")_=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")_=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const w=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await _.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=p4(N[0]);let E=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await _.request({method:"eth_chainId"});E=ez(T)}const k={domain:w.host,address:U,statement:v,uri:w.href,version:"1",chainId:E,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=rz(k),p=await _.request({method:"personal_sign",params:[tz(m),U]})}try{const{data:g,error:x}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ca});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Hl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(Pe(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,s,o,l,u,d,f,h,m;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:x,wallet:v,statement:y,options:_}=t;let w;if(On())if(typeof v=="object")w=v;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))w=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const N=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const U=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let E;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")E=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)E=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const U=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=U}}try{const{data:x,error:v}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:qo(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ca});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Hl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(Pe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Ro(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ca});if(await os(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ca}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Hl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gl(this.storage,this.storageKey));const{error:f}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new g0("You must provide either an email or phone number.")}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ca});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Gl(this.storage,this.storageKey)),await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:K7})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ds;const{error:a}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new g0("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ro(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=cv()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ys}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ds}:await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ys})})}catch(r){if(Pe(r))return b7(r)&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ds;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Gl(this.storage,this.storageKey));const{data:u,error:d}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ys});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ds;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=lv(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ds;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!On())throw new p0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new p0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new p0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dE("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!s||!u)throw new p0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ro(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(w7(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=O7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gl(this.storage,this.storageKey,!0));try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return On()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ca}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Hl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M7(async a=>(a>0&&await D7(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ca})),(a,i)=>{const s=200*Math.pow(2,a);return i&&ov(i)&&Date.now()+s-n<ac})}catch(n){if(this._debug(r,"error",n),Pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),On()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ro(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await ic(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:cv()}else if(a&&!a.user&&!a.user){const s=await Ro(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await os(this.storage,this.storageKey+"-user"),await ic(this.storage,this.storageKey,a)):a.user=cv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sv}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),ov(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ug;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new ds;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Pe(i)){const s={data:null,error:i};return ov(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ic(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=pE(a);await ic(this.storage,this.storageKey,i)}else{const a=pE(r);await ic(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await os(this.storage,this.storageKey),await os(this.storage,this.storageKey+"-code-verifier"),await os(this.storage,this.storageKey+"-user"),this.userStorage&&await os(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ac}ms, refresh threshold is ${_y} ticks`),a<=_y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof g4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Gl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cz(t.webauthn.credential_response):uz(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const s=await qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:oz(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:lz(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lv(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+y7>a)return n;const{data:i,error:s}=await qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=lv(n);r!=null&&r.allowExpired||z7(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const d=$7(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,A7(`${o}.${l}`)))throw new Sy("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}yf.nextInstanceID=0;const yz=yf;class _z extends yz{constructor(t){super(t)}}class wz{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=m7(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:s7,realtime:l7,auth:Object.assign(Object.assign({},o7),{storageKey:l}),global:i7},d=h7(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=d7(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new m9(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new s9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _z({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new j9(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bz=(e,t,r)=>new wz(e,t,r);function Sz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Sz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Ez(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=l=>l===null?null:JSON.parse(l,t==null?void 0:t.reviver),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,t==null?void 0:t.replacer)),removeItem:a=>r.removeItem(a)}}const _f=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return _f(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return _f(n)(r)}}}},Tz=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...t},s=!1;const o=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=_f(i.serialize),f=()=>{const x=i.partialize({...n()});let v;const y=d({state:x,version:i.version}).then(_=>u.setItem(i.name,_)).catch(_=>{v=_});if(v)throw v;return y},h=a.setState;a.setState=(x,v)=>{h(x,v),f()};const m=e((...x)=>{r(...x),f()},n,a);let p;const g=()=>{var x;if(!u)return;s=!1,o.forEach(y=>y(n()));const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return _f(u.getItem.bind(u))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var _;return p=i.merge(y,(_=n())!=null?_:m),r(p,!0),f()}).then(()=>{v==null||v(p,void 0),s=!0,l.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return a.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},g(),p||m},Cz=(e,t)=>(r,n,a)=>{let i={storage:Ez(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...t},s=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=()=>{const g=i.partialize({...n()});return u.setItem(i.name,{state:g,version:i.version})},f=a.setState;a.setState=(g,x)=>{f(g,x),d()};const h=e((...g)=>{r(...g),d()},n,a);a.getInitialState=()=>h;let m;const p=()=>{var g,x;if(!u)return;s=!1,o.forEach(y=>{var _;return y((_=n())!=null?_:h)});const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(g=n())!=null?g:h))||void 0;return _f(u.getItem.bind(u))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var _;const[w,N]=y;if(m=i.merge(N,(_=n())!=null?_:h),r(m,!0),w)return d()}).then(()=>{v==null||v(m,void 0),m=n(),s=!0,l.forEach(y=>y(m))}).catch(y=>{v==null||v(void 0,y)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||p(),m||h},Rz=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?Tz(e,t):Cz(e,t),Az=Rz;var Ft=e=>{vA.success(e)},Rt=e=>{vA.error(e)};function Ar(...e){return o6(dA(e))}var lo=e=>confirm(e),Nz=(e,t)=>{if(!(!e||!t))return t.indexOf(".")===-1?e[t]:t.split(".").reduce((r,n)=>r&&r[n]!==void 0?r[n]:void 0,e)},SE=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Oz=xA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-solid border-gray-300 bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200 hover:text-gray-900 dark:bg-gray-100 dark:border-gray-300 dark:text-gray-900 dark:hover:bg-gray-200",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),Ae=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?cA:"button";return c.jsx(s,{"data-slot":"button",className:Ar(Oz({variant:t,size:r,className:e})),ref:i,...a})});Ae.displayName="Button";var Ke=S.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,"data-slot":"input",className:Ar("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,...r}));Ke.displayName="Input";var ke=S.forwardRef(({className:e,...t},r)=>c.jsx("label",{ref:r,"data-slot":"label",className:Ar("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ke.displayName="Label";var jz=xA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Bi({className:e,variant:t,asChild:r=!1,...n}){const a=r?cA:"span";return c.jsx(a,{"data-slot":"badge",className:Ar(jz({variant:t}),e),...n})}function vt({className:e,...t}){return c.jsx("div",{"data-slot":"card",className:Ar("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",e),...t})}function aa({className:e,...t}){return c.jsx("div",{"data-slot":"card-header",className:Ar("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ia({className:e,...t}){return c.jsx("div",{"data-slot":"card-title",className:Ar("leading-none font-semibold",e),...t})}function Dn({className:e,...t}){return c.jsx("div",{"data-slot":"card-content",className:Ar("px-6",e),...t})}var x4=S.createContext(null);function dv(e){const t=document.documentElement,r=window.matchMedia("(prefers-color-scheme: dark)").matches,n=e==="dark"||e==="system"&&r;t.classList.toggle("dark",n)}var kz=({defaultTheme:e="system",children:t})=>{const[r,n]=S.useState(e);S.useEffect(()=>{var u;const s=localStorage.getItem("theme")||e;n(s),dv(s);const o=window.matchMedia("(prefers-color-scheme: dark)"),l=()=>{(localStorage.getItem("theme")||"system")==="system"&&dv("system")};return(u=o.addEventListener)==null||u.call(o,"change",l),()=>{var d;return(d=o.removeEventListener)==null?void 0:d.call(o,"change",l)}},[e]);const a=s=>{localStorage.setItem("theme",s),n(s),dv(s)},i=S.useMemo(()=>({theme:r,setTheme:a}),[r]);return c.jsx(x4.Provider,{value:i,children:t})},Dz=()=>{const e=S.useContext(x4);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},Mz=({className:e})=>{const{theme:t,setTheme:r}=Dz();return c.jsx("div",{className:"inline-flex gap-2 items-center",children:c.jsxs("select",{"aria-label":"Theme",value:t,onChange:n=>r(n.target.value),className:Ar("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",e),children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"}),c.jsx("option",{value:"system",children:"System"})]})})},Iz=({children:e,className:t,...r})=>c.jsx("table",{className:`w-full border-collapse border border-border table-auto ${t||""}`,...r,children:e}),Fz=({children:e})=>c.jsx("thead",{className:"bg-muted",children:e}),Lz=({children:e})=>c.jsx("tbody",{className:"divide-y divide-gray-200",children:e}),v0=({children:e,onClick:t,className:r})=>c.jsx("tr",{onClick:t,className:`${t?"cursor-pointer hover:bg-muted/50":""} ${r||""}`,children:e}),Pz=({children:e})=>c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-border min-w-0",children:e}),fv=({children:e,colSpan:t,className:r})=>c.jsx("td",{colSpan:t,className:`px-4 py-3 text-sm text-foreground border-b border-border min-w-0 max-w-xs ${r||""}`,children:c.jsx("div",{className:"truncate",title:typeof e=="string"?e:"",children:e})});function T_({data:e,columns:t,onEditRow:r,onDeleteRow:n,onRowClick:a,enableFiltering:i=!1,filterableColumns:s=[],stickyColumns:o=[],onBulkDelete:l,onBulkExport:u,initialPageSize:d=Gb.PAGE_SIZE,pageSizeOptions:f=[...Gb.PAGE_SIZE_OPTIONS],enableGlobalSearch:h=!0,enableColumnVisibility:m=!1,enableRowSelection:p=!1,loading:g=!1,emptyMessage:x="No results found.",className:v}){const[y,_]=S.useState({}),[w,N]=S.useState(0),[U,E]=S.useState(d),[k,T]=S.useState(new Set),[b,D]=S.useState(""),[R,z]=S.useState([]),[re,ie]=S.useState({}),[O,Q]=S.useState(!1),M=S.useMemo(()=>{const I=p?{id:"select",header:({table:W})=>{const se=W.getRowModel().rows.map(ve=>ve.original),fe=se.length>0&&se.every(ve=>k.has(ve.id));return c.jsx("div",{className:"w-8",children:c.jsx("input",{type:"checkbox","aria-label":"Select all",checked:fe,onChange:ve=>{const ge=new Set(k);ve.target.checked?se.forEach(Le=>ge.add(Le.id)):se.forEach(Le=>ge.delete(Le.id)),T(ge)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})},cell:({row:W})=>c.jsx("div",{className:"flex w-8",children:c.jsx("input",{type:"checkbox","aria-label":"Select row",checked:k.has(W.original.id),onChange:se=>{const fe=new Set(k);se.target.checked?fe.add(W.original.id):fe.delete(W.original.id),T(fe)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})}:null,L=r||n?{id:"actions",header:"Actions",cell:({row:W})=>c.jsxs("div",{className:"flex gap-2",children:[r&&c.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>r(W.original),children:"Edit"}),n&&c.jsx(Ae,{variant:"destructive",size:"sm",onClick:()=>{lo("Are you sure you want to delete this item?")&&n(W.original)},children:"Delete"})]})}:null;return[I,...t,L].filter(Boolean)},[t,r,n,p,k]),K=S.useMemo(()=>{let I=e;return i&&Object.keys(y).length>0&&(I=I.filter(L=>Object.entries(y).every(([W,se])=>{if(!se)return!0;const fe=Nz(L,W);return String(fe).toLowerCase().includes(se.toLowerCase())}))),h&&b&&(I=I.filter(L=>Object.values(L).some(W=>String(W).toLowerCase().includes(b.toLowerCase())))),I},[e,y,b,i,h]),J=S.useMemo(()=>{const I=w*U,L=I+U;return K.slice(I,L)},[K,w,U]),Y=Math.ceil(K.length/U),P=cL({data:J,columns:M,state:{sorting:R,columnVisibility:re},onSortingChange:z,onColumnVisibilityChange:ie,getCoreRowModel:eL(),getSortedRowModel:iL(),getFilteredRowModel:aL()}),H=()=>{_({}),D(""),N(0)};return c.jsxs("div",{className:`w-full space-y-1 ${v||""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h&&c.jsx("div",{className:"flex-1 max-w-sm",children:c.jsx("input",{type:"text",placeholder:"Search all columns...",value:b,onChange:I=>{D(I.target.value),N(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[b&&c.jsx(Ae,{variant:"outline",size:"sm",onClick:H,children:"Clear Search"}),m&&c.jsxs("div",{className:"relative",children:[c.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>Q(!O),children:"Columns "}),O&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Q(!1)}),c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-md shadow-lg z-20 p-2",children:P.getAllColumns().filter(I=>I.getCanHide()).map(I=>c.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-accent rounded cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:I.getIsVisible(),onChange:I.getToggleVisibilityHandler(),className:"h-4 w-4 rounded border-border"}),c.jsx("span",{className:"text-sm capitalize",children:I.id.replace(/([A-Z])/g," $1").replace(/^./,L=>L.toUpperCase())})]},I.id))})]})]})]})]}),c.jsx("div",{className:"rounded-md border border-border overflow-hidden shadow-sm",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(Iz,{className:"min-w-full",children:[c.jsx(Fz,{children:P.getHeaderGroups().map(I=>c.jsx(v0,{children:I.headers.map(L=>c.jsx(Pz,{children:L.isPlaceholder?null:c.jsxs("div",{className:L.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:L.column.getToggleSortingHandler(),children:[eS(L.column.columnDef.header,L.getContext()),L.column.getCanSort()&&c.jsx("span",{className:"ml-1",children:{asc:"",desc:""}[L.column.getIsSorted()]??""})]})},L.id))},I.id))}),c.jsx(Lz,{children:g?c.jsx(v0,{children:c.jsx(fv,{colSpan:M.length,className:"h-24 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-foreground"}),"Loading..."]})})}):P.getRowModel().rows.length?P.getRowModel().rows.map(I=>c.jsx(v0,{onClick:()=>a&&a(I.original),className:a?"cursor-pointer hover:bg-muted/50":"",children:I.getVisibleCells().map(L=>c.jsx(fv,{children:eS(L.column.columnDef.cell,L.getContext())},L.id))},I.id)):c.jsx(v0,{children:c.jsx(fv,{colSpan:M.length,className:"h-24 text-center text-muted-foreground",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsx("div",{children:x})]})})})})]})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",w*U+1," to ",Math.min((w+1)*U,K.length)," of ",K.length," results"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(Math.max(0,w-1)),disabled:w===0,children:"Previous"}),c.jsxs("span",{className:"text-sm",children:["Page ",w+1," of ",Y]}),c.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>N(Math.min(Y-1,w+1)),disabled:w>=Y-1,children:"Next"})]})]}),k.size>0&&(l||u)&&c.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-4 -mx-4 -mb-4 rounded-b-md",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>T(new Set),className:"h-8 w-8 p-0",children:""}),c.jsxs("span",{className:"text-sm font-medium",children:[k.size," item",k.size>1?"s":""," selected"]})]}),c.jsxs("div",{className:"flex gap-2",children:[u&&c.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>u(Array.from(k)),children:" Export"}),l&&c.jsx(Ae,{variant:"destructive",size:"sm",onClick:()=>{lo(`Delete ${k.size} selected items? This action cannot be undone.`)&&(l(Array.from(k)),T(new Set))},children:" Delete"})]})]})})]})}function gh({title:e,createButtonText:t,createButtonHref:r,entityName:n,data:a,columns:i,onRowClick:s,onEditRow:o,onDeleteRow:l,enableFiltering:u=!0,filterableColumns:d=[],enableGlobalSearch:f=!1,onBulkDelete:h,onBulkExport:m,loading:p=!1,emptyMessage:g,detailComponent:x,className:v}){const y=t||`+ New ${n||"Item"}`;return c.jsxs("div",{className:`space-y-1 ${v||""}`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:e}),c.jsx(Xa,{to:r,children:c.jsx(Ae,{variant:"outline",children:y})})]}),c.jsx(T_,{data:a,columns:i,onRowClick:s,onEditRow:o,onDeleteRow:l,enableFiltering:u,filterableColumns:d,enableGlobalSearch:f,onBulkDelete:h,onBulkExport:m,loading:p,emptyMessage:g}),x]})}var hv=e=>console.error(e),Uz=e=>console.warn(e),Bz=e=>console.info(e),zz=(e={})=>{const{logErrors:t=!0,showUserMessages:r=!0,maxRetries:n=3,retryDelay:a=1e3,onError:i=null,onRetry:s=null,onFallback:o=null}=e,[l,u]=S.useState([]),[d,f]=S.useState(!1),h=S.useRef(0),m=S.useCallback(async(E,k="",T={})=>{const b={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:E.message||"An unexpected error occurred",type:E.type||Yh.SERVER_ERROR,severity:E.severity||"medium",context:k,timestamp:new Date().toISOString(),userMessage:E.userMessage||E.message||"An unexpected error occurred"};if(u(D=>[...D,b]),t&&console.error(`[${k}] Error:`,E),r){const D=b.userMessage;switch(b.severity){case"low":Uz(D);break;case"medium":hv(D);break;case"high":case"critical":hv(D);break;default:hv(D)}}return i&&await i(b,k),b},[t,r,i]),p=S.useCallback(async(E,k={})=>{const{context:T="",fallbackMessage:b="Operation failed",retry:D=!1,maxRetries:R=n}=k;try{return D?await g(E,R):await E()}catch(z){throw await m(z,T,{fallbackMessage:b})}},[n,m]),g=S.useCallback(async(E,k)=>{let T;for(let b=1;b<=k;b++)try{f(b>1),h.current=b-1;const D=await E();return f(!1),h.current=0,D}catch(D){if(T=D,b<k){const R=a*Math.pow(2,b-1);s&&await s(D,b,R),r&&Bz(`Retrying... (${b}/${k})`),await new Promise(z=>setTimeout(z,R))}}throw f(!1),h.current=0,T},[a,s,r]),x=S.useCallback((E,k={})=>{const T={message:E,type:Yh.VALIDATION_ERROR,severity:"medium",details:k,userMessage:E};return m(T,"validation")},[m]),v=S.useCallback((E="Network connection failed")=>{const k={message:E,type:Yh.NETWORK_ERROR,severity:"high",userMessage:E};return m(k,"network")},[m]),y=S.useCallback((E="Authentication failed")=>{const k={message:E,type:Yh.AUTHENTICATION_ERROR,severity:"high",userMessage:E};return m(k,"authentication")},[m]),_=S.useCallback(()=>{u([])},[]),w=S.useCallback(E=>{u(k=>k.filter(T=>T.id!==E))},[]),N=S.useCallback(E=>l.filter(k=>k.type===E),[l]),U=S.useCallback(()=>l.some(E=>E.severity==="critical"),[l]);return{handleError:m,handleAsync:p,handleValidationError:x,handleNetworkError:v,handleAuthError:y,clearErrors:_,clearError:w,getErrorsByType:N,hasCriticalErrors:U,errors:l,isRetrying:d,retryCount:h.current,retryOperation:g}},$z=Gx(e=>({isOpen:!0,toggle:()=>e(t=>({isOpen:!t.isOpen})),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})}));function qz(e,t){const r=Z1();return{useGetAll:(h={},m)=>ld({queryKey:[t,"list",h],queryFn:()=>e.getAll(h),...m}),useGetPaginated:(h={},m)=>ld({queryKey:[t,"paginated",h],queryFn:()=>e.getPaginated(h),...m}),useGetById:(h,m="*",p)=>ld({queryKey:[t,"detail",h,m],queryFn:()=>e.getById(h,m),enabled:h!=null,...p}),useSearch:(h,m=["name"],p={},g)=>ld({queryKey:[t,"search",h,m,p],queryFn:()=>e.search(h,m,p),enabled:h.length>0,...g}),useCount:(h,m)=>ld({queryKey:[t,"count",h],queryFn:()=>e.count(h),...m}),useCreate:()=>t0({mutationFn:h=>e.create(h),onSuccess:()=>{r.invalidateQueries({queryKey:[t]})}}),useUpdate:()=>t0({mutationFn:({id:h,data:m})=>e.update(h,m),onSuccess:(h,m)=>{r.setQueryData([t,"detail",m.id],h),r.invalidateQueries({queryKey:[t,"list"]}),r.invalidateQueries({queryKey:[t,"paginated"]})}}),useDelete:()=>t0({mutationFn:h=>e.delete(h),onSuccess:(h,m)=>{r.removeQueries({queryKey:[t,"detail",m]}),r.invalidateQueries({queryKey:[t,"list"]}),r.invalidateQueries({queryKey:[t,"paginated"]})}}),useBulkDelete:()=>t0({mutationFn:h=>e.bulkDelete(h),onSuccess:(h,m)=>{m.forEach(p=>{r.removeQueries({queryKey:[t,"detail",p]})}),r.invalidateQueries({queryKey:[t,"list"]}),r.invalidateQueries({queryKey:[t,"paginated"]})}}),invalidateAll:()=>r.invalidateQueries({queryKey:[t]}),invalidateList:()=>{r.invalidateQueries({queryKey:[t,"list"]}),r.invalidateQueries({queryKey:[t,"paginated"]})},invalidateDetail:h=>r.invalidateQueries({queryKey:[t,"detail",h]})}}var y4=S.createContext(null),Vz=({children:e,supabaseClient:t,onAuthStateChange:r})=>{const[n,a]=S.useState(null),[i,s]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(null);S.useEffect(()=>{(async()=>{try{const{data:{session:y},error:_}=await t.auth.getSession();_?d("Failed to initialize authentication"):(s(y),a((y==null?void 0:y.user)??null),r==null||r((y==null?void 0:y.user)??null,y))}catch{d("Authentication initialization failed")}finally{l(!1)}})();const{data:{subscription:v}}=t.auth.onAuthStateChange(async(y,_)=>{s(_),a((_==null?void 0:_.user)??null),d(null),r==null||r((_==null?void 0:_.user)??null,_),y==="SIGNED_OUT"&&l(!1)});return()=>v.unsubscribe()},[t,r]);const g={user:n,session:i,loading:o,error:u,signIn:async(x,v)=>{try{d(null);const{error:y}=await t.auth.signInWithPassword({email:x,password:v});return y?(d(y.message),{error:y.message}):{}}catch{const _="Sign in failed";return d(_),{error:_}}},signUp:async(x,v,y)=>{try{d(null);const{error:_}=await t.auth.signUp({email:x,password:v,options:{data:y}});return _?(d(_.message),{error:_.message}):{}}catch{const w="Sign up failed";return d(w),{error:w}}},signOut:async()=>{try{d(null),await t.auth.signOut()}catch{d("Sign out failed")}},resetPassword:async x=>{try{d(null);const{error:v}=await t.auth.resetPasswordForEmail(x);return v?(d(v.message),{error:v.message}):{}}catch{const y="Password reset failed";return d(y),{error:y}}}};return c.jsx(y4.Provider,{value:g,children:e})},Hz=()=>{const e=S.useContext(y4);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Gz({config:e,initialData:t={},onSubmit:r,onSuccess:n,onCancel:a,showCancel:i=!0,isEditMode:s=!1,isLoading:o=!1,customActions:l=null,customFieldRenderers:u={},className:d="bg-card rounded-lg shadow-sm border"}){const{handleAsync:f}=zz("GenericForm"),h=S.useMemo(()=>{const b={};return e.sections.forEach(D=>{D.fields.forEach(R=>{R.name in t?b[R.name]=t[R.name]:R.defaultValue!==void 0?b[R.name]=R.defaultValue:b[R.name]=""})}),b},[e,t]),{register:m,handleSubmit:p,formState:{isSubmitting:g,errors:x},watch:v,setValue:y,getValues:_,reset:w,clearErrors:N}=DL({defaultValues:h,mode:"onChange"}),U=async b=>{await f(async()=>{await r(b),n&&n(),w(h)},{context:s?e.editContext:e.addContext,fallbackMessage:s?e.editErrorMessage:e.addErrorMessage})},E=b=>{var z,re;const D=v(b.name);if(b.conditional&&!b.conditional(D,v,_))return null;if(u[b.type])return u[b.type](b,{watch:v,setValue:y,getValues:_,register:m,isSubmitting:g,fieldValue:D});const R={id:b.name,placeholder:b.placeholder,disabled:b.disabled||g,className:b.className||"",...m(b.name,b.validation||{})};switch(b.type){case"select":return c.jsxs("div",{children:[c.jsxs("select",{...m(b.name,b.validation),disabled:b.disabled||g,className:Ar("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",x[b.name]&&"border-destructive",b.className),children:[c.jsx("option",{value:"",children:b.placeholder||`Seleziona ${b.label.toLowerCase()}`}),(z=b.options)==null?void 0:z.map(ie=>c.jsx("option",{value:ie.value,children:ie.label},ie.value))]}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"textarea":return c.jsxs("div",{children:[c.jsx("textarea",{...R,rows:b.rows||3,className:Ar("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",x[b.name]&&"border-destructive",b.className)}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"checkbox":return c.jsx("div",{className:"flex flex-wrap gap-2",children:(re=b.options)==null?void 0:re.map(ie=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${b.name}_${ie.value}`,value:ie.value,checked:(D==null?void 0:D.includes(ie.value))||!1,onChange:O=>{const Q=_(b.name)||[];O.target.checked?y(b.name,[...Q,ie.value].sort(),{shouldValidate:!0}):y(b.name,Q.filter(M=>M!==ie.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx(ke,{htmlFor:`${b.name}_${ie.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:ie.label})]},ie.value))});case"datetime-local":return c.jsxs("div",{children:[c.jsx(Ke,{type:"datetime-local",...R,className:`${R.className} ${x[b.name]?"border-red-500":""}`}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"date":return c.jsxs("div",{children:[c.jsx(Ke,{type:"date",...R,className:`${R.className} ${x[b.name]?"border-red-500":""}`}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"time":return c.jsxs("div",{children:[c.jsx(Ke,{type:"time",...R,className:`${R.className} ${x[b.name]?"border-red-500":""}`}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"number":return c.jsxs("div",{children:[c.jsx(Ke,{type:"number",...R,className:`${R.className} ${x[b.name]?"border-red-500":""}`}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]});case"text":default:return c.jsxs("div",{children:[c.jsx(Ke,{type:"text",...R,className:`${R.className} ${x[b.name]?"border-red-500":""}`}),x[b.name]&&c.jsx("p",{className:"text-sm text-destructive mt-1",children:x[b.name].message})]})}},k=b=>{const D=b.fields.filter(R=>!R.conditional||R.conditional(v(R.name),v,_));return D.length===0?null:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground border-b border-border pb-2",children:b.title}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(R=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ke,{htmlFor:R.name,className:"text-sm font-medium text-foreground",children:[R.label," ",R.required&&c.jsx("span",{className:"text-destructive",children:"*"})]}),E(R),R.helpText&&c.jsx("p",{className:"text-xs text-muted-foreground",children:R.helpText})]},R.name))})]},b.title)},T=b=>u[b]?u[b]():null;return c.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm",children:c.jsxs("form",{onSubmit:p(U),noValidate:!0,className:"p-6 space-y-8",children:[e.sections.map(k),e.customFields&&Object.keys(e.customFields).map(b=>c.jsx("div",{children:T(b)},b)),l&&c.jsx("div",{className:"space-y-4",children:l}),c.jsxs("div",{className:`flex pt-6 border-t border-border ${i?"justify-end gap-2":"justify-end"}`,children:[i&&c.jsx(Ae,{type:"button",variant:"ghost",onClick:a||(()=>window.history.back()),disabled:o||g,className:"px-6 py-2",children:"Cancel"}),c.jsx(Ae,{type:"submit",disabled:o||g,className:"px-6 py-2",children:o||g?s?e.editLoadingText:e.addLoadingText:s?e.editButtonText:e.addButtonText})]})]})})}var ph=Gz;function C_({title:e,editTitle:t,isEditMode:r=!1,formConfig:n,initialData:a={},onSubmit:i,onCancel:s,showCancel:o=!0,isLoading:l=!1,customActions:u,customFieldRenderers:d={},className:f}){const h=r?t||e.replace("Nuovo","Modifica"):e;return c.jsxs("div",{className:`space-y-2 ${f||""}`,children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:h})}),c.jsx(ph,{config:n,initialData:a,onSubmit:i,onCancel:s,showCancel:o,isEditMode:r,isLoading:l,customActions:u,customFieldRenderers:d})]})}var Kz=class extends ce.Component{constructor(e){super(e),this.handleRetry=()=>{const t=this.props.maxRetries||3;this.state.retryCount<t&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{var n;const t=encodeURIComponent(`App Error Report - ${this.state.errorId}`),r=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${((n=this.state.error)==null?void 0:n.message)||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${t}&body=${r}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:SE()}}componentDidCatch(e,t){this.setState({errorInfo:t,errorId:this.state.errorId||SE()}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:""})}),c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",c.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),c.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&c.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),c.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),c.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:" Report Issue"}),!1]})}):this.props.children}};function Wz({className:e,...t}){return c.jsx(z8,{"data-slot":"avatar",className:Ar("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Qz({className:e,...t}){return c.jsx($8,{"data-slot":"avatar-image",className:Ar("aspect-square size-full",e),...t})}function Yz({className:e,...t}){return c.jsx(q8,{"data-slot":"avatar-fallback",className:Ar("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function Xz({...e}){return c.jsx(ZB,{"data-slot":"dropdown-menu",...e})}function Zz({...e}){return c.jsx(JB,{"data-slot":"dropdown-menu-trigger",...e})}function Jz({className:e,sideOffset:t=4,...r}){return c.jsx(e9,{children:c.jsx(t9,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ar("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function e$({className:e,inset:t,variant:r="default",...n}){return c.jsx(n9,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Ar("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function t$({className:e,inset:t,...r}){return c.jsx(r9,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ar("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function r$({className:e,...t}){return c.jsx(a9,{"data-slot":"dropdown-menu-separator",className:Ar("bg-border -mx-1 my-1 h-px",e),...t})}ce.createContext(void 0);ce.createContext(void 0);var zu=class{constructor(e,t){this.client=e,this.tableName=t}async getAll(e={}){try{let t=this.client.from(this.tableName).select(e.select||"*").order(e.orderBy||"created_at",{ascending:e.ascending!==!1});if(e.filters&&Object.entries(e.filters).forEach(([a,i])=>{i!=null&&i!==""&&(Array.isArray(i)?t=t.in(a,i):typeof i=="string"&&i.includes("%")?t=t.like(a,i):t=t.eq(a,i))}),e.dateRange){const{startDate:a,endDate:i,dateField:s="created_at"}=e.dateRange;a&&(t=t.gte(s,`${a}T00:00:00.000Z`)),i&&(t=t.lte(s,`${i}T23:59:59.999Z`))}e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:r,error:n}=await t;if(n)throw new Error(this.handleSupabaseError(n,`${this.tableName}.getAll`));return r||[]}catch(t){throw new Error(`Failed to fetch ${this.tableName}: ${t.message}`)}}async getPaginated(e={}){const t=e.page||1,r=e.perPage||10,n=(t-1)*r,a=await this.count(e.filters);return{data:await this.getAll({...e,limit:r,offset:n}),total:a,page:t,perPage:r,totalPages:Math.ceil(a/r)}}async getById(e,t="*"){try{const{data:r,error:n}=await this.client.from(this.tableName).select(t).eq("id",e).single();if(n)throw new Error(this.handleSupabaseError(n,`${this.tableName}.getById`));return r}catch(r){throw new Error(`Failed to fetch ${this.tableName} by ID: ${r.message}`)}}async create(e){try{const{data:t,error:r}=await this.client.from(this.tableName).insert(e).select().single();if(r)throw new Error(this.handleSupabaseError(r,`${this.tableName}.create`));return t}catch(t){throw new Error(`Failed to create ${this.tableName}: ${t.message}`)}}async update(e,t){try{const{data:r,error:n}=await this.client.from(this.tableName).update(t).eq("id",e).select().single();if(n)throw new Error(this.handleSupabaseError(n,`${this.tableName}.update`));return r}catch(r){throw new Error(`Failed to update ${this.tableName}: ${r.message}`)}}async delete(e){try{const{error:t}=await this.client.from(this.tableName).delete().eq("id",e);if(t)throw new Error(this.handleSupabaseError(t,`${this.tableName}.delete`))}catch(t){throw new Error(`Failed to delete ${this.tableName}: ${t.message}`)}}async bulkDelete(e){try{const{error:t}=await this.client.from(this.tableName).delete().in("id",e);if(t)throw new Error(this.handleSupabaseError(t,`${this.tableName}.bulkDelete`))}catch(t){throw new Error(`Failed to bulk delete ${this.tableName}: ${t.message}`)}}async count(e){try{let t=this.client.from(this.tableName).select("*",{count:"exact",head:!0});e&&Object.entries(e).forEach(([a,i])=>{i!=null&&i!==""&&(Array.isArray(i)?t=t.in(a,i):t=t.eq(a,i))});const{count:r,error:n}=await t;if(n)throw new Error(this.handleSupabaseError(n,`${this.tableName}.count`));return r||0}catch(t){throw new Error(`Failed to count ${this.tableName}: ${t.message}`)}}async search(e,t=["name"],r={}){try{let n=this.client.from(this.tableName).select(r.select||"*");if(t.length===1)n=n.ilike(t[0],`%${e}%`);else{const s=t.map(o=>`${o}.ilike.%${e}%`).join(",");n=n.or(s)}r.filters&&Object.entries(r.filters).forEach(([s,o])=>{o!=null&&o!==""&&(n=n.eq(s,o))}),n=n.order(r.orderBy||"created_at",{ascending:r.ascending!==!1}),r.limit&&(n=n.limit(r.limit));const{data:a,error:i}=await n;if(i)throw new Error(this.handleSupabaseError(i,`${this.tableName}.search`));return a||[]}catch(n){throw new Error(`Failed to search ${this.tableName}: ${n.message}`)}}handleSupabaseError(e,t=""){var r;return e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":(r=e.message)!=null&&r.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred"}},Te={VALIDATION_ERROR:"VALIDATION_ERROR",REQUIRED_FIELD_ERROR:"REQUIRED_FIELD_ERROR",INVALID_FORMAT_ERROR:"INVALID_FORMAT_ERROR",INVALID_RANGE_ERROR:"INVALID_RANGE_ERROR",INVALID_TYPE_ERROR:"INVALID_TYPE_ERROR",NOT_FOUND:"NOT_FOUND",DUPLICATE_ERROR:"DUPLICATE_ERROR",CONFLICT_ERROR:"CONFLICT_ERROR",OUT_OF_SYNC_ERROR:"OUT_OF_SYNC_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",INSUFFICIENT_STOCK_ERROR:"INSUFFICIENT_STOCK_ERROR",CAPACITY_EXCEEDED_ERROR:"CAPACITY_EXCEEDED_ERROR",INVALID_OPERATION_ERROR:"INVALID_OPERATION_ERROR",WORKFLOW_ERROR:"WORKFLOW_ERROR",SERVER_ERROR:"SERVER_ERROR",DATABASE_ERROR:"DATABASE_ERROR",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",EXTERNAL_SERVICE_ERROR:"EXTERNAL_SERVICE_ERROR",API_ERROR:"API_ERROR",INTEGRATION_ERROR:"INTEGRATION_ERROR",CONFIGURATION_ERROR:"CONFIGURATION_ERROR",ENVIRONMENT_ERROR:"ENVIRONMENT_ERROR",RESOURCE_EXHAUSTED_ERROR:"RESOURCE_EXHAUSTED_ERROR",QUOTA_EXCEEDED_ERROR:"QUOTA_EXCEEDED_ERROR",STORAGE_ERROR:"STORAGE_ERROR",USER_INPUT_ERROR:"USER_INPUT_ERROR",UI_ERROR:"UI_ERROR",NAVIGATION_ERROR:"NAVIGATION_ERROR",RECOVERY_ERROR:"RECOVERY_ERROR",RETRY_ERROR:"RETRY_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR"},jc=class extends Error{constructor(e,t=Te.SERVER_ERROR,r=500,n=null,a="",i={}){super(e),this.name="ServiceError",this.type=t,this.statusCode=r,this.originalError=n,this.context=a,this.timestamp=new Date().toISOString(),this.id=i.id||this.generateErrorId(),this.severity=i.severity||this.getDefaultSeverity(t),this.retryable=i.retryable!==void 0?i.retryable:this.isRetryable(t),this.userMessage=i.userMessage||this.getDefaultUserMessage(t,e),this.details=i.details||{},this.metadata=i.metadata||{},n!=null&&n.stack&&(this.stack=n.stack)}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultSeverity(e){return{[Te.VALIDATION_ERROR]:"low",[Te.REQUIRED_FIELD_ERROR]:"low",[Te.INVALID_FORMAT_ERROR]:"low",[Te.INVALID_RANGE_ERROR]:"low",[Te.INVALID_TYPE_ERROR]:"low",[Te.USER_INPUT_ERROR]:"low",[Te.UI_ERROR]:"low",[Te.NAVIGATION_ERROR]:"low",[Te.NOT_FOUND]:"medium",[Te.DUPLICATE_ERROR]:"medium",[Te.CONFLICT_ERROR]:"medium",[Te.BUSINESS_LOGIC_ERROR]:"medium",[Te.INSUFFICIENT_STOCK_ERROR]:"medium",[Te.CAPACITY_EXCEEDED_ERROR]:"medium",[Te.INVALID_OPERATION_ERROR]:"medium",[Te.WORKFLOW_ERROR]:"medium",[Te.PERMISSION_ERROR]:"high",[Te.AUTHENTICATION_ERROR]:"high",[Te.AUTHORIZATION_ERROR]:"high",[Te.RATE_LIMIT_ERROR]:"high",[Te.CONFIGURATION_ERROR]:"high",[Te.ENVIRONMENT_ERROR]:"high",[Te.SERVER_ERROR]:"critical",[Te.DATABASE_ERROR]:"critical",[Te.NETWORK_ERROR]:"critical",[Te.CONNECTION_ERROR]:"critical",[Te.EXTERNAL_SERVICE_ERROR]:"critical",[Te.API_ERROR]:"critical",[Te.INTEGRATION_ERROR]:"critical",[Te.RESOURCE_EXHAUSTED_ERROR]:"critical",[Te.QUOTA_EXCEEDED_ERROR]:"critical",[Te.STORAGE_ERROR]:"critical"}[e]||"medium"}isRetryable(e){return[Te.NETWORK_ERROR,Te.CONNECTION_ERROR,Te.TIMEOUT_ERROR,Te.SERVER_ERROR,Te.EXTERNAL_SERVICE_ERROR,Te.API_ERROR,Te.RATE_LIMIT_ERROR].includes(e)}getDefaultUserMessage(e,t){return{[Te.VALIDATION_ERROR]:"Please check your input and try again.",[Te.REQUIRED_FIELD_ERROR]:"Please fill in all required fields.",[Te.INVALID_FORMAT_ERROR]:"Please check the format of your input.",[Te.INVALID_RANGE_ERROR]:"Please enter a value within the allowed range.",[Te.INVALID_TYPE_ERROR]:"Please enter the correct type of data.",[Te.NOT_FOUND]:"The requested item was not found.",[Te.DUPLICATE_ERROR]:"This item already exists.",[Te.CONFLICT_ERROR]:"There was a conflict with your request.",[Te.PERMISSION_ERROR]:"You do not have permission to perform this action.",[Te.AUTHENTICATION_ERROR]:"Please log in to continue.",[Te.AUTHORIZATION_ERROR]:"You are not authorized to perform this action.",[Te.BUSINESS_LOGIC_ERROR]:"This operation cannot be completed due to business rules.",[Te.INSUFFICIENT_STOCK_ERROR]:"Insufficient stock available.",[Te.CAPACITY_EXCEEDED_ERROR]:"Capacity limit exceeded.",[Te.INVALID_OPERATION_ERROR]:"This operation is not allowed.",[Te.SERVER_ERROR]:"A server error occurred. Please try again later.",[Te.DATABASE_ERROR]:"A database error occurred. Please try again later.",[Te.NETWORK_ERROR]:"Network connection failed. Please check your connection.",[Te.CONNECTION_ERROR]:"Connection failed. Please try again.",[Te.TIMEOUT_ERROR]:"The operation timed out. Please try again.",[Te.EXTERNAL_SERVICE_ERROR]:"External service is temporarily unavailable.",[Te.API_ERROR]:"API request failed. Please try again later.",[Te.CONFIGURATION_ERROR]:"System configuration error. Please contact support.",[Te.ENVIRONMENT_ERROR]:"Environment configuration error. Please contact support.",[Te.RESOURCE_EXHAUSTED_ERROR]:"System resources are exhausted. Please try again later.",[Te.QUOTA_EXCEEDED_ERROR]:"Quota exceeded. Please try again later.",[Te.STORAGE_ERROR]:"Storage error occurred. Please try again later.",[Te.USER_INPUT_ERROR]:"Please check your input and try again.",[Te.UI_ERROR]:"A user interface error occurred.",[Te.NAVIGATION_ERROR]:"Navigation error occurred.",[Te.RECOVERY_ERROR]:"Error recovery failed.",[Te.RETRY_ERROR]:"Retry operation failed.",[Te.FALLBACK_ERROR]:"Fallback operation failed."}[e]||"An unexpected error occurred. Please try again."}toUserFriendly(){return{message:this.userMessage,type:this.type,severity:this.severity,retryable:this.retryable,timestamp:this.timestamp}}},vh=(e,t)=>{const r=t.filter(n=>e[n]===void 0||e[n]===null||e[n]==="");if(r.length>0)throw new jc(`Missing required fields: ${r.join(", ")}`,Te.REQUIRED_FIELD_ERROR,400,null,"validateRequiredFields",{details:{missingFields:r}})},xu=(e,t)=>{for(const[r,n]of Object.entries(t)){const a=e[r];if(a!=null){const i=Number(a);if(isNaN(i))throw new jc(`${r} must be a valid number`,Te.INVALID_TYPE_ERROR,400,null,"validateNumericRanges",{details:{field:r,value:a}});if(n.min!==void 0&&i<n.min)throw new jc(`${r} must be at least ${n.min}`,Te.INVALID_RANGE_ERROR,400,null,"validateNumericRanges",{details:{field:r,value:a,min:n.min}});if(n.max!==void 0&&i>n.max)throw new jc(`${r} must be no more than ${n.max}`,Te.INVALID_RANGE_ERROR,400,null,"validateNumericRanges",{details:{field:r,value:a,max:n.max}})}}},Vn=(e,t)=>{throw new jc(`${e} with ID ${t} not found`,Te.NOT_FOUND,404,null,"throwNotFoundError",{details:{entityType:e,id:t}})},ga=(e,t)=>{throw new jc(e,Te.BUSINESS_LOGIC_ERROR,400,null,"throwBusinessError",{details:t})},n$=e=>{const t={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return bz(e.url,e.anonKey,{...t,...e.options})},a$=e=>t=>({getEntities:()=>t().entities,getEntityById:r=>t().entities.find(n=>n.id===r),getEntitiesByField:(r,n)=>t().entities.filter(a=>a[r]===n),getEntitiesCount:()=>t().entities.length,getLoadingState:()=>t().loading,getErrorState:()=>t().error,isInitialized:()=>t().initialized}),i$=e=>(t,r)=>({setEntities:n=>t({entities:n}),addEntity:n=>{const a=r();t({entities:[n,...a.entities]})},updateEntity:(n,a)=>{const s=r().entities.map(o=>o.id===n?{...o,...a}:o);t({entities:s})},removeEntity:n=>{const i=r().entities.filter(s=>s.id!==n);t({entities:i})},setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setInitialized:n=>t({initialized:n}),reset:()=>t({entities:[],loading:!1,error:null,initialized:!1}),cleanupDuplicates:()=>{const n=r(),a=[],i=new Set;n.entities.forEach(s=>{i.has(s.id)||(i.add(s.id),a.push(s))}),t({entities:a})},sortEntitiesByDate:(n=!1)=>{const i=[...r().entities].sort((s,o)=>{const l=new Date(s.created_at||0),u=new Date(o.created_at||0);return n?l.getTime()-u.getTime():u.getTime()-l.getTime()});t({entities:i})},sortEntitiesByField:(n,a=!0)=>{const s=[...r().entities].sort((o,l)=>{const u=o[n],d=l[n];return u<d?a?-1:1:u>d?a?1:-1:0});t({entities:s})},filterEntitiesByDateRange:(n,a,i="created_at")=>{const s=r(),o=new Date(n),l=new Date(a);return s.entities.filter(u=>{const d=new Date(u[i]);return d>=o&&d<=l})}});function xh(e,t,r,n){const a={entities:[],loading:!1,error:null,initialized:!1},i=(s,o)=>({...a,...a$()(o),...i$()(s,o),...t?t(s,o):{},...r?r(o):{}});return n?Gx()(Az(i,{name:`${e}-store`,...n})):Gx()(i)}const me=n$({url:"https://odlymzidujfrvufeocsz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kbHltemlkdWpmcnZ1ZmVvY3N6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4NDIyNzYsImV4cCI6MjA3MTQxODI3Nn0.tfugegm1hUJnaF0QjqlOmGKdTXQshGBxeW7bBf2iQNA"}),s$=({children:e})=>c.jsx(Vz,{supabaseClient:me,children:e}),Ol=Hz;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),EE=e=>{const t=l$(e);return t.charAt(0).toUpperCase()+t.slice(1)},_4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),c$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...u$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_4("lucide",a),...!i&&!c$(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(e,t)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(d$,{ref:i,iconNode:t,className:_4(`lucide-${o$(EE(e))}`,`lucide-${e}`,n),...a}));return r.displayName=EE(e),r};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],h$=Pt("archive",f$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],g$=Pt("arrow-down",m$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yh=Pt("arrow-left",p$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],x$=Pt("arrow-up",v$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],w4=Pt("building-2",y$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],w$=Pt("calendar",_$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ey=Pt("chevron-down",b$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],E$=Pt("chevron-right",S$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],C$=Pt("chevron-up",T$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A$=Pt("file-text",R$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],O$=Pt("house",N$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],R_=Pt("layers",j$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D$=Pt("loader-circle",k$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],I$=Pt("log-out",M$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Um=Pt("package",F$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b4=Pt("plus",L$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],U$=Pt("rotate-cw",P$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$u=Pt("save",B$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],co=Pt("square-pen",z$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pa=Pt("trash-2",$$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],TE=Pt("truck",q$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H$=Pt("user",V$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K$=Pt("users",G$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],CE=Pt("warehouse",W$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uo=Pt("x",Q$);function Y$(){const{user:e}=Ol(),t=ju(),{isOpen:r}=$z(),n=[{href:"/",label:"Dashboard",icon:O$},{href:"/silos/list",label:"Silos",icon:Um},{href:"/operators/list",label:"Operatori",icon:K$},{href:"/materials/list",label:"Materiali",icon:Um},{href:"/suppliers/list",label:"Fornitori",icon:w4},{href:"/merce-in/list",label:"Merce IN",icon:TE},{href:"/merce-out/list",label:"Merce OUT",icon:TE},{href:"/reports",label:"Report",icon:A$},{href:"/archive",label:"Archivio Analisi",icon:h$}];return e?r?c.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[c.jsx("div",{className:"p-4 border-b border-border",children:c.jsx(Xa,{to:"/",className:"flex items-center justify-center",children:c.jsx("img",{src:"/tracc/trace.svg",alt:"TRACC",className:"h-6 w-auto"})})}),c.jsxs("div",{className:"flex-1 p-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),c.jsx("nav",{className:"space-y-2",children:n.map(a=>{const i=t.pathname===a.href,s=a.icon;return c.jsxs(Xa,{to:a.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${i?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[c.jsx(s,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.href)})})]})]}):c.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:c.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:n.map(a=>{const i=a.icon,s=t.pathname===a.href;return c.jsx(Xa,{to:a.href||"#",className:`p-3 rounded-lg transition-colors ${s?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:a.label,children:c.jsx(i,{className:"h-6 w-6"})},a.href||a.section)})})}):c.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-border",children:c.jsx(Xa,{to:"/login",className:"flex items-center justify-center",children:c.jsx("img",{src:"/tracc/trace.svg",alt:"TRACC",className:"h-6 w-auto"})})}),c.jsxs("div",{className:"flex-1 p-4",children:[c.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Xa,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:c.jsx("span",{className:"font-medium",children:"Accedi"})}),c.jsx(Xa,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:c.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}const X$=({onRefresh:e,loading:t=!1})=>{const r=()=>{e?e():window.location.reload()};return c.jsx(Ae,{onClick:r,variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:t?c.jsx(D$,{className:"animate-spin"}):c.jsx(U$,{})})},Z$=({user:e,onLogout:t})=>{var s;const[r,n]=S.useState(!1),a=S.useCallback(()=>{n(o=>!o)},[]),i=()=>{t&&t(),n(!1)};return c.jsxs(Xz,{open:r,onOpenChange:a,children:[c.jsx(Zz,{asChild:!0,children:c.jsx(Ae,{variant:"ghost",className:"relative h-8 w-8 ml-2 rounded-full",children:c.jsxs(Wz,{className:"h-8 w-8",children:[c.jsx(Qz,{src:e==null?void 0:e.avatar,role:"presentation"}),c.jsx(Yz,{children:((s=e==null?void 0:e.name)==null?void 0:s.charAt(0))||"U"})]})})}),c.jsxs(Jz,{className:"w-56",align:"end",forceMount:!0,children:[c.jsx(t$,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:(e==null?void 0:e.name)||"User"}),(e==null?void 0:e.email)&&c.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})}),c.jsx(r$,{}),c.jsxs(e$,{onClick:i,className:"cursor-pointer",children:[c.jsx(I$,{}),"Log out"]})]})]})};function J$(){var r;const{user:e,signOut:t}=Ol();return c.jsx("header",{className:"bg-secondary border-b border-border",children:c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"flex justify-between items-center flex-1 h-12",children:[c.jsxs(Xa,{to:"/",className:"flex items-center gap-2 text-secondary-foreground no-underline",children:[c.jsx("img",{className:"h-6",src:"/trace.svg",alt:"TRACC"}),c.jsx("h1",{className:"text-xl font-semibold",children:"TRACC"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mz,{}),c.jsx(X$,{onRefresh:()=>window.location.reload(),loading:!1}),c.jsx(Z$,{user:{name:((r=e==null?void 0:e.email)==null?void 0:r.split("@")[0])||"User",email:e==null?void 0:e.email,avatar:e==null?void 0:e.avatar},onLogout:()=>t()})]})]})})})}const Ao=async e=>{try{return await e()}catch(t){throw t}};class eq extends zu{constructor(){super(me,"silos")}async getSilosWithLevels(t=!1){return Ao(async()=>{const{data:r,error:n}=await me.from("silos").select("*").order("id");if(n)throw n;const{data:a,error:i}=await me.from("inbound").select(`
          id,
          silo_id,
          quantity_kg,
          created_at,
          product,
          lot_supplier,
          lot_tf,
          proteins,
          humidity,
          cleaned
        `).order("created_at",{ascending:!0});if(i)throw i;const{data:s,error:o}=await me.from("outbound").select("silo_id, quantity_kg, items");if(o)throw o;return r.map(u=>{const d=a.filter(v=>v.silo_id===u.id),h=s.filter(v=>v.silo_id===u.id).reduce((v,y)=>v+y.quantity_kg,0);let m=h;const p=[];for(const v of d)if(m<=0){const y={...v,available_quantity:v.quantity_kg};t&&(y.materials={name:v.product}),p.push(y)}else if(m<v.quantity_kg){const y=v.quantity_kg-m,_={...v,available_quantity:y};t&&(_.materials={name:v.product}),p.push(_),m=0}else m-=v.quantity_kg;const g=d.reduce((v,y)=>v+y.quantity_kg,0),x=g-h;return{...u,currentLevel:x,availableItems:p,totalInbound:g,totalOutbound:h,utilizationPercentage:u.capacity_kg>0?x/u.capacity_kg*100:0}})})}async createSilo(t){return Ao(async()=>{vh(t,["name","capacity_kg"]),xu(t,{capacity_kg:{min:1,max:5e5}});const{data:r,error:n}=await me.from("silos").select("id, name").eq("name",t.name);if(n)throw n;return r&&r.length>0&&ga(`Silo with name '${t.name}' already exists`),await this.create(t)})}async updateSilo(t,r){return Ao(async()=>{const{data:n,error:a}=await me.from("silos").select("id").eq("id",t).single();if(a&&a.code!=="PGRST116")throw a;if(n||Vn("Silo",t),r.capacity_kg!==void 0&&xu(r,{capacity_kg:{min:1,max:5e5}}),r.name){const{data:o,error:l}=await me.from("silos").select("id, name").eq("name",r.name);if(l)throw l;(o==null?void 0:o.find(d=>d.id!==parseInt(t)))&&ga(`Silo with name '${r.name}' already exists`)}const{data:i,error:s}=await me.from("silos").update(r).eq("id",t).select().single();if(s)throw s;return i})}async deleteSilo(t){return Ao(async()=>{const r=await this.getById(t);r||Vn("Silo",t);const a=(await this.getSilosWithLevels()).find(l=>l.id===t);a&&a.currentLevel>0&&ga(`Cannot delete silo '${r.name}' because it contains ${a.currentLevel} kg of material. Please empty the silo first.`);const{data:i,error:s}=await me.from("inbound").select("id").eq("silo_id",t).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()).limit(1);if(s)throw s;return i&&i.length>0&&ga(`Cannot delete silo '${r.name}' because it has recent movements. Please wait 30 days or contact an administrator.`),await this.delete(t)})}async getSilosByMaterial(t){return Ao(async()=>{const{data:r,error:n}=await me.from("silos").select("*").contains("allowed_material_ids",[t]).order("name");if(n)throw n;return r||[]})}async getSilosByCapacity(t,r=null){return Ao(async()=>{let n=me.from("silos").select("*").gte("capacity_kg",t).order("capacity_kg");r!==null&&(n=n.lte("capacity_kg",r));const{data:a,error:i}=await n;if(i)throw i;return a||[]})}async getUtilizationStats(){return Ao(async()=>{const t=await this.getSilosWithLevels(),r={totalSilos:t.length,totalCapacity:t.reduce((n,a)=>n+a.capacity_kg,0),totalCurrentStock:t.reduce((n,a)=>n+a.currentLevel,0),averageUtilization:0,silosByUtilization:{empty:0,low:0,medium:0,high:0,full:0}};return r.totalSilos>0&&(r.averageUtilization=t.reduce((n,a)=>n+a.utilizationPercentage,0)/r.totalSilos,t.forEach(n=>{if(!n||n.utilizationPercentage===null||n.utilizationPercentage===void 0)return;const a=n.utilizationPercentage;a===0?r.silosByUtilization.empty++:a<25?r.silosByUtilization.low++:a<50?r.silosByUtilization.medium++:a<90?r.silosByUtilization.high++:r.silosByUtilization.full++})),r})}}const No=async e=>{try{return await e()}catch(t){throw t}};class tq extends zu{constructor(){super("inbound")}async createInbound(t){return No(async()=>(vh(t,["silo_id","quantity_kg","product"]),xu(t,{quantity_kg:{min:.1,max:1e5},proteins:{min:0,max:100},humidity:{min:0,max:100}}),await this.validateSiloCapacity(t.silo_id,t.quantity_kg),await this.create(t)))}async updateInbound(t,r){return No(async()=>{const n=await this.getById(t);if(n||Vn("Inbound movement",t),r.quantity_kg!==void 0&&xu(r,{quantity_kg:{min:.1,max:1e5}}),r.silo_id||r.quantity_kg){const i=r.silo_id||n.silo_id,s=r.quantity_kg||n.quantity_kg;await this.validateSiloCapacity(i,s)}return await this.update(t,r)})}async deleteInbound(t){return No(async()=>{const r=await this.getById(t);r||Vn("Inbound movement",t);const{data:n,error:a}=await me.from("outbound").select("id, items").contains("items",[{inbound_id:t}]).limit(1);if(a)throw a;n&&n.length>0&&ga("Cannot delete inbound movement because it has been used in outbound movements. Please delete the related outbound movements first.");const i=new Date(r.created_at);return(new Date-i)/(1e3*60*60)>24&&ga("Cannot delete inbound movement older than 24 hours. Please contact an administrator."),await this.delete(t)})}async getInboundBySilo(t,r={}){return No(async()=>{const{data:n,error:a}=await me.from("inbound").select(`
          *,
          silos!inner(name)
        `).eq("silo_id",t).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||100);if(a)throw a;return n||[]})}async getInboundByDateRange(t,r,n={}){return No(async()=>{const{data:a,error:i}=await me.from("inbound").select(`
          *,
          silos!inner(name)
        `).gte("created_at",`${t}T00:00:00.000Z`).lte("created_at",`${r}T23:59:59.999Z`).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||1e3);if(i)throw i;return a||[]})}async getInboundByProduct(t,r={}){return No(async()=>{const{data:n,error:a}=await me.from("inbound").select(`
          *,
          silos!inner(name)
        `).eq("product",t).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||100);if(a)throw a;return n||[]})}async getInboundStats(t={}){return No(async()=>{let r=me.from("inbound").select("quantity_kg, product, created_at, silo_id");t.startDate&&(r=r.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(r=r.lte("created_at",`${t.endDate}T23:59:59.999Z`)),t.siloId&&(r=r.eq("silo_id",t.siloId)),t.product&&(r=r.eq("product",t.product));const{data:n,error:a}=await r;if(a)throw a;const i={totalMovements:n.length,totalQuantity:n.reduce((s,o)=>s+o.quantity_kg,0),averageQuantity:0,products:{},silos:{},dailyStats:{}};return i.totalMovements>0&&(i.averageQuantity=i.totalQuantity/i.totalMovements,n.forEach(s=>{!s||!s.product||(i.products[s.product]||(i.products[s.product]={count:0,quantity:0}),i.products[s.product].count++,i.products[s.product].quantity+=s.quantity_kg||0)}),n.forEach(s=>{!s||s.silo_id===null||s.silo_id===void 0||(i.silos[s.silo_id]||(i.silos[s.silo_id]={count:0,quantity:0}),i.silos[s.silo_id].count++,i.silos[s.silo_id].quantity+=s.quantity_kg||0)}),n.forEach(s=>{if(!s||!s.created_at)return;const o=s.created_at.split("T")[0];i.dailyStats[o]||(i.dailyStats[o]={count:0,quantity:0}),i.dailyStats[o].count++,i.dailyStats[o].quantity+=s.quantity_kg||0})),i})}async validateSiloCapacity(t,r){const{data:n,error:a}=await me.from("silos").select("capacity_kg, name").eq("id",t).single();if(a)throw a;n||Vn("Silo",t);const{data:i,error:s}=await me.from("inbound").select("quantity_kg").eq("silo_id",t);if(s)throw s;const{data:o,error:l}=await me.from("outbound").select("quantity_kg").eq("silo_id",t);if(l)throw l;const u=i.reduce((m,p)=>m+p.quantity_kg,0),d=o.reduce((m,p)=>m+p.quantity_kg,0),f=u-d;f+r>n.capacity_kg&&ga(`Cannot add ${r} kg to silo '${n.name}'. Would exceed capacity of ${n.capacity_kg} kg. Current level: ${f} kg.`)}}const Oo=async e=>{try{return await e()}catch(t){throw t}};class rq extends zu{constructor(){super("outbound")}async createOutbound(t){return Oo(async()=>{vh(t,["silo_id","quantity_kg","operator_name"]),xu(t,{quantity_kg:{min:.1,max:1e5}});const n=(await this.getSilosWithLevels([t.silo_id])).find(o=>o.id===t.silo_id);n||Vn("Silo",t.silo_id),n.currentLevel<t.quantity_kg&&ga(`Insufficient stock in silo '${n.name}'. Available: ${n.currentLevel} kg, Requested: ${t.quantity_kg} kg`);const a=this.calculateFIFOWithdrawal(n.availableItems,t.quantity_kg),i={...t,items:a,quantity_kg:t.quantity_kg};return await this.create(i)})}async updateOutbound(t,r){return Oo(async()=>{const n=await this.getById(t);n||Vn("Outbound movement",t);const a=new Date(n.created_at);if((new Date-a)/(1e3*60*60)>24&&ga("Cannot update outbound movement older than 24 hours. Please contact an administrator."),r.quantity_kg!==void 0&&xu(r,{quantity_kg:{min:.1,max:1e5}}),r.silo_id||r.quantity_kg){const l=r.silo_id||n.silo_id,u=r.quantity_kg||n.quantity_kg,f=(await this.getSilosWithLevels([l])).find(h=>h.id===l);f||Vn("Silo",l),f.currentLevel<u&&ga(`Insufficient stock in silo '${f.name}'. Available: ${f.currentLevel} kg, Requested: ${u} kg`),r.items=this.calculateFIFOWithdrawal(f.availableItems,u)}return await this.update(t,r)})}async deleteOutbound(t){return Oo(async()=>{const r=await this.getById(t);r||Vn("Outbound movement",t);const n=new Date(r.created_at);return(new Date-n)/(1e3*60*60)>24&&ga("Cannot delete outbound movement older than 24 hours. Please contact an administrator."),await this.delete(t)})}async getOutboundBySilo(t,r={}){return Oo(async()=>{const{data:n,error:a}=await me.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("silo_id",t).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||100);if(a)throw a;return n||[]})}async getOutboundByDateRange(t,r,n={}){return Oo(async()=>{const{data:a,error:i}=await me.from("outbound").select(`
          *,
          silos!inner(name)
        `).gte("created_at",`${t}T00:00:00.000Z`).lte("created_at",`${r}T23:59:59.999Z`).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||1e3);if(i)throw i;return a||[]})}async getOutboundByOperator(t,r={}){return Oo(async()=>{const{data:n,error:a}=await me.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("operator_name",t).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||100);if(a)throw a;return n||[]})}async getOutboundStats(t={}){return Oo(async()=>{let r=me.from("outbound").select("quantity_kg, operator_name, created_at, silo_id, items");t.startDate&&(r=r.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(r=r.lte("created_at",`${t.endDate}T23:59:59.999Z`)),t.siloId&&(r=r.eq("silo_id",t.siloId)),t.operatorName&&(r=r.eq("operator_name",t.operatorName));const{data:n,error:a}=await r;if(a)throw a;const i={totalMovements:n.length,totalQuantity:n.reduce((s,o)=>s+o.quantity_kg,0),averageQuantity:0,operators:{},silos:{},dailyStats:{},products:{}};return i.totalMovements>0&&(i.averageQuantity=i.totalQuantity/i.totalMovements,n.forEach(s=>{!s||s.operator_name===null||s.operator_name===void 0||(i.operators[s.operator_name]||(i.operators[s.operator_name]={count:0,quantity:0}),i.operators[s.operator_name].count++,i.operators[s.operator_name].quantity+=s.quantity_kg||0)}),n.forEach(s=>{!s||s.silo_id===null||s.silo_id===void 0||(i.silos[s.silo_id]||(i.silos[s.silo_id]={count:0,quantity:0}),i.silos[s.silo_id].count++,i.silos[s.silo_id].quantity+=s.quantity_kg||0)}),n.forEach(s=>{if(!s||!s.created_at)return;const o=s.created_at.split("T")[0];i.dailyStats[o]||(i.dailyStats[o]={count:0,quantity:0}),i.dailyStats[o].count++,i.dailyStats[o].quantity+=s.quantity_kg||0}),n.forEach(s=>{!s||!s.items||!Array.isArray(s.items)||s.items.forEach(o=>{if(!o||!o.material_name)return;const l=o.material_name;i.products[l]||(i.products[l]={count:0,quantity:0}),i.products[l].count++,i.products[l].quantity+=o.quantity_kg||0})})),i})}calculateFIFOWithdrawal(t,r){let n=r;const a=[];for(const i of t){if(n<=0)break;const s=Math.min(n,i.available_quantity);a.push({inbound_id:i.id,quantity_kg:s,material_name:i.product,supplier_lot:i.lot_supplier,tf_lot:i.lot_tf,protein_content:i.proteins,moisture_content:i.humidity,cleaning_status:i.cleaned,entry_date:i.created_at.split("T")[0]}),n-=s}return n>0&&ga(`FIFO calculation error: ${n} kg could not be allocated from available items`),a}async getSilosWithLevels(t=null){let r=me.from("silos").select("*").order("id");t&&(r=r.in("id",t));const{data:n,error:a}=await r;if(a)throw a;const{data:i,error:s}=await me.from("inbound").select("silo_id, quantity_kg, created_at, product, lot_supplier, lot_tf, proteins, humidity, cleaned").order("created_at",{ascending:!0});if(s)throw s;const{data:o,error:l}=await me.from("outbound").select("silo_id, quantity_kg");if(l)throw l;return n.map(u=>{const d=i.filter(v=>v.silo_id===u.id),h=o.filter(v=>v.silo_id===u.id).reduce((v,y)=>v+y.quantity_kg,0);let m=h;const p=[];for(const v of d)if(m<=0)p.push({...v,available_quantity:v.quantity_kg});else if(m<v.quantity_kg){const y=v.quantity_kg-m;p.push({...v,available_quantity:y}),m=0}else m-=v.quantity_kg;const g=d.reduce((v,y)=>v+y.quantity_kg,0),x=g-h;return{...u,currentLevel:x,availableItems:p,totalInbound:g,totalOutbound:h}})}}const Yl=async e=>{try{return await e()}catch(t){throw t}};class nq extends zu{constructor(){super("materials")}async getActiveMaterials(t={}){return Yl(async()=>{const{data:r,error:n}=await supabase.from("materials").select(t.select||"*").eq("active",!0).order("name").limit(t.limit||100);if(n)throw n;return r||[]})}async createMaterial(t){return Yl(async()=>{vh(t,["name"]);const{data:r,error:n}=await supabase.from("materials").select("id, name").eq("name",t.name);if(n)throw n;if(r&&r.length>0)throw createServiceError(`Material with name '${t.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"createMaterial");const a={...t,active:t.active!==void 0?t.active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await this.create(a)})}async updateMaterial(t,r){return Yl(async()=>{const{data:n,error:a}=await supabase.from("materials").select("id").eq("id",t).single();if(a&&a.code!=="PGRST116")throw a;if(n||Vn("Material",t),r.name){const{data:o,error:l}=await supabase.from("materials").select("id, name").eq("name",r.name);if(l)throw l;if(o==null?void 0:o.find(d=>d.id!==parseInt(t)))throw createServiceError(`Material with name '${r.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"updateMaterial")}const{data:i,error:s}=await supabase.from("materials").update(r).eq("id",t).select().single();if(s)throw s;return i})}async deactivateMaterial(t){return Yl(async()=>{const{data:r,error:n}=await supabase.from("materials").select("id").eq("id",t).single();if(n&&n.code!=="PGRST116")throw n;r||Vn("Material",t);const{data:a,error:i}=await supabase.from("silos").select("id, name").contains("allowed_material_ids",[t]).limit(1);if(i)throw i;if(a&&a.length>0)throw createServiceError("Cannot deactivate material because it is being used in silos. Please remove it from silos first.",ERROR_TYPES.BUSINESS_LOGIC_ERROR,422,null,"deactivateMaterial");const{data:s,error:o}=await supabase.from("materials").update({active:!1}).eq("id",t).select().single();if(o)throw o;return s})}async getMaterialsByCategory(t,r={}){return Yl(async()=>{const{data:n,error:a}=await supabase.from("materials").select(r.select||"*").eq("category",t).eq("active",!0).order("name").limit(r.limit||100);if(a)throw a;return n||[]})}async getMaterialStats(){return Yl(async()=>{const{data:t,error:r}=await supabase.from("materials").select("active, category");if(r)throw r;const n={total:t.length,active:0,inactive:0,categories:{}};return t.forEach(a=>{a.active?n.active++:n.inactive++,a.category&&(n.categories[a.category]||(n.categories[a.category]=0),n.categories[a.category]++)}),n})}}const jo=async e=>{try{return await e()}catch(t){throw t}};class aq extends zu{constructor(){super("operators")}async getActiveOperators(t={}){return jo(async()=>{const{data:r,error:n}=await supabase.from("operators").select(t.select||"*").eq("active",!0).order("name").limit(t.limit||100);if(n)throw n;return r||[]})}async createOperator(t){return jo(async()=>{vh(t,["name"]);const{data:r,error:n}=await supabase.from("operators").select("id, name").eq("name",t.name);if(n)throw n;if(r&&r.length>0)throw createServiceError(`Operator with name '${t.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"createOperator");const a={...t,active:t.active!==void 0?t.active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await this.create(a)})}async updateOperator(t,r){return jo(async()=>{const{data:n,error:a}=await supabase.from("operators").select("id").eq("id",t).single();if(a&&a.code!=="PGRST116")throw a;if(n||Vn("Operator",t),r.name){const{data:o,error:l}=await supabase.from("operators").select("id, name").eq("name",r.name);if(l)throw l;if(o==null?void 0:o.find(d=>d.id!==parseInt(t)))throw createServiceError(`Operator with name '${r.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"updateOperator")}const{data:i,error:s}=await supabase.from("operators").update(r).eq("id",t).select().single();if(s)throw s;return i})}async deactivateOperator(t){return jo(async()=>{const{data:r,error:n}=await supabase.from("operators").select("id").eq("id",t).single();if(n&&n.code!=="PGRST116")throw n;r||Vn("Operator",t);const{data:a,error:i}=await supabase.from("outbound").select("id").eq("operator_name",t).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()).limit(1);if(i)throw i;if(a&&a.length>0)throw createServiceError("Cannot deactivate operator because they have recent movements. Please wait 30 days or contact an administrator.",ERROR_TYPES.BUSINESS_LOGIC_ERROR,422,null,"deactivateOperator");const{data:s,error:o}=await supabase.from("operators").update({active:!1}).eq("id",t).select().single();if(o)throw o;return s})}async getOperatorsByDepartment(t,r={}){return jo(async()=>{const{data:n,error:a}=await supabase.from("operators").select(r.select||"*").eq("department",t).eq("active",!0).order("name").limit(r.limit||100);if(a)throw a;return n||[]})}async getOperatorStats(){return jo(async()=>{const{data:t,error:r}=await supabase.from("operators").select("active, department");if(r)throw r;const n={total:t.length,active:0,inactive:0,departments:{}};return t.forEach(a=>{a.active?n.active++:n.inactive++,a.department&&(n.departments[a.department]||(n.departments[a.department]=0),n.departments[a.department]++)}),n})}async getOperatorActivityStats(t={}){return jo(async()=>{let r=supabase.from("outbound").select("operator_name, quantity_kg, created_at");t.startDate&&(r=r.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(r=r.lte("created_at",`${t.endDate}T23:59:59.999Z`));const{data:n,error:a}=await r;if(a)throw a;const i={totalMovements:n.length,totalQuantity:n.reduce((s,o)=>s+o.quantity_kg,0),operators:{}};return n.forEach(s=>{i.operators[s.operator_name]||(i.operators[s.operator_name]={movements:0,quantity:0,averageQuantity:0}),i.operators[s.operator_name].movements++,i.operators[s.operator_name].quantity+=s.quantity_kg}),Object.keys(i.operators).forEach(s=>{const o=i.operators[s];o.averageQuantity=o.quantity/o.movements}),i})}}const yu=new eq;new tq;new rq;new nq;new aq;const Re={silos:["silos"],silo:e=>["silos",e],silosWithLevels:["silos","withLevels"],inbound:["inbound"],inboundBySilo:e=>["inbound","silo",e],inboundByDate:e=>["inbound","date",e],outbound:["outbound"],outboundBySilo:e=>["outbound","silo",e],outboundByDate:e=>["outbound","date",e],outboundByBatch:e=>["outbound","batch",e],materials:["materials"],material:e=>["materials",e],operators:["operators"],operator:e=>["operators",e]},jl=()=>zt({queryKey:Re.silos,queryFn:()=>yu.getSilosWithLevels(),staleTime:5*60*1e3}),_h=(e=!1)=>zt({queryKey:[...Re.silosWithLevels,e],queryFn:()=>yu.getSilosWithLevels(e),staleTime:2*60*1e3}),S4=()=>{const e=ot();return st({mutationFn:t=>yu.createSilo(t),onSuccess:t=>{e.invalidateQueries({queryKey:Re.silos}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.silos,r=>r?[...r,t]:[t]),Ft(`Silo "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Rt(`Errore nella creazione del silo: ${t.message}`)}})},E4=()=>{const e=ot();return st({mutationFn:({id:t,updates:r})=>yu.updateSilo(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Re.silos}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.silos,n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),e.setQueryData(Re.silo(r),t),Ft(`Silo "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Rt(`Errore nell'aggiornamento del silo: ${t.message}`)}})},A_=()=>{const e=ot();return st({mutationFn:async t=>{const r=await yu.getById(t);return await yu.deleteSilo(t),r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.silos}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.silos,r=>r==null?void 0:r.filter(n=>n.id!==t.id)),e.removeQueries({queryKey:Re.silo(t.id)}),Ft(`Silo "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Rt(`Errore nell'eliminazione del silo: ${t.message}`)}})},T4=()=>zt({queryKey:Re.inbound,queryFn:async()=>{const{data:e,error:t}=await me.from("inbound").select("*").order("created_at",{ascending:!1});if(t)throw t;return(e==null?void 0:e.map(r=>({...r,fornitore:r.lot_supplier})))||[]},staleTime:1*60*1e3}),iq=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("inbound").insert([t]).select().single();if(n)throw n;return{...r,fornitore:r.lot_supplier}},onSuccess:t=>{e.invalidateQueries({queryKey:Re.inbound}),e.invalidateQueries({queryKey:[...Re.inbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.inbound,r=>r?[t,...r]:[t]),Ft("Movimento IN registrato con successo")},onError:t=>{Rt(`Errore nella registrazione del movimento IN: ${t.message}`)}})},sq=()=>{const e=ot();return st({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await me.from("inbound").update(r).eq("id",t).select().single();if(a)throw a;return{...n,fornitore:n.lot_supplier}},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Re.inbound}),e.invalidateQueries({queryKey:[...Re.inbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.inbound,n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),Ft("Movimento IN aggiornato con successo")},onError:t=>{Rt(`Errore nell'aggiornamento del movimento IN: ${t.message}`)}})},C4=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("inbound").select("*").eq("id",t).single();if(n)throw n;const{error:a}=await me.from("inbound").delete().eq("id",t);if(a)throw a;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.inbound}),e.invalidateQueries({queryKey:[...Re.inbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.inbound,r=>r==null?void 0:r.filter(n=>n.id!==t.id)),Ft("Movimento IN eliminato con successo")},onError:t=>{Rt(`Errore nell'eliminazione del movimento IN: ${t.message}`)}})},R4=()=>zt({queryKey:Re.outbound,queryFn:async()=>{const{data:e,error:t}=await me.from("outbound").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:1*60*1e3}),oq=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("outbound").insert([t]).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.outbound}),e.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.outbound,r=>r?[t,...r]:[t]),Ft("Movimento OUT registrato con successo")},onError:t=>{Rt(`Errore nella registrazione del movimento OUT: ${t.message}`)}})},lq=()=>{const e=ot();return st({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await me.from("outbound").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Re.outbound}),e.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.outbound,n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),Ft("Movimento OUT aggiornato con successo")},onError:t=>{Rt(`Errore nell'aggiornamento del movimento OUT: ${t.message}`)}})},A4=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("outbound").select("*").eq("id",t).single();if(n)throw n;const{error:a}=await me.from("outbound").delete().eq("id",t);if(a)throw a;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.outbound}),e.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:Re.silosWithLevels}),e.setQueryData(Re.outbound,r=>r==null?void 0:r.filter(n=>n.id!==t.id)),Ft("Movimento OUT eliminato con successo")},onError:t=>{Rt(`Errore nell'eliminazione del movimento OUT: ${t.message}`)}})},cq=()=>{const e=ot();return st({mutationFn:async t=>{const{siloWithdrawals:r,operatorName:n,batchId:a}=t,i=[],s=new Date().toISOString();for(const o of r){const l=o.items.map(h=>({...h,batch_id:a})),u={silo_id:o.silo_id,quantity_kg:o.quantity_kg,operator_name:n,items:l,created_at:s,updated_at:s};let d,f;if({data:d,error:f}=await me.from("outbound").insert([{...u,batch_id:a}]).select().single(),f&&f.message.includes("batch_id")&&({data:d,error:f}=await me.from("outbound").insert([u]).select().single()),f)throw f;i.push({...d,batch_id:a})}return i},onSuccess:t=>{e.invalidateQueries({queryKey:Re.outbound}),e.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.silosWithLevels}),t.forEach(a=>{e.invalidateQueries({queryKey:Re.outboundBySilo(a.silo_id)})});const r=t.length,n=t.reduce((a,i)=>a+i.quantity_kg,0);Ft(`Miscela registrata: ${r} silos, ${n.toFixed(2)} kg totali`)},onError:t=>{Rt(`Errore nella registrazione della miscela: ${t.message}`)}})},N4=()=>{const e=ot();return st({mutationFn:async t=>{let{data:r,error:n}=await me.from("outbound").select("*").eq("batch_id",t);if(n||!r||r.length===0){const{data:s,error:o}=await me.from("outbound").select("*");if(o)throw o;r=(s==null?void 0:s.filter(l=>!!(l.items&&l.items.length>0&&l.items[0].batch_id===t)))||[]}if(!r||r.length===0)throw new Error("Batch non trovato");const a=r.map(s=>s.id),{error:i}=await me.from("outbound").delete().in("id",a);if(i)throw i;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.outbound}),e.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),e.invalidateQueries({queryKey:Re.silosWithLevels}),t.forEach(r=>{e.invalidateQueries({queryKey:Re.outboundBySilo(r.silo_id)})}),Ft(`Miscela eliminata: ${t.length} movimenti rimossi`)},onError:t=>{Rt(`Errore nell'eliminazione della miscela: ${t.message}`)}})},es=()=>zt({queryKey:Re.materials,queryFn:async()=>{const{data:e,error:t}=await me.from("materials").select("*").order("name");if(t)throw t;return e},staleTime:10*60*1e3}),wh=()=>zt({queryKey:Re.operators,queryFn:async()=>{const{data:e,error:t}=await me.from("operators").select("*").order("name");if(t)throw t;return e},staleTime:10*60*1e3}),uq=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("materials").insert([t]).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.materials}),e.setQueryData(Re.materials,r=>r?[t,...r]:[t]),Ft(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Rt(`Errore nella creazione del materiale: ${t.message}`)}})},dq=()=>{const e=ot();return st({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await me.from("materials").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Re.materials}),e.setQueryData(Re.materials,n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),e.setQueryData(Re.material(r),t),Ft(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Rt(`Errore nell'aggiornamento del materiale: ${t.message}`)}})},O4=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("materials").select("*").eq("id",t).single();if(n)throw n;const{error:a}=await me.from("materials").delete().eq("id",t);if(a)throw a;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.materials}),e.setQueryData(Re.materials,r=>r==null?void 0:r.filter(n=>n.id!==t.id)),e.removeQueries({queryKey:Re.material(t.id)}),Ft(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Rt(`Errore nell'eliminazione del materiale: ${t.message}`)}})},fq=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("operators").insert([t]).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.operators}),e.setQueryData(Re.operators,r=>r?[t,...r]:[t]),Ft(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Rt(`Errore nella creazione dell'operatore: ${t.message}`)}})},hq=()=>{const e=ot();return st({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await me.from("operators").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Re.operators}),e.setQueryData(Re.operators,n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),e.setQueryData(Re.operator(r),t),Ft(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Rt(`Errore nell'aggiornamento dell'operatore: ${t.message}`)}})},j4=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("operators").select("*").eq("id",t).single();if(n)throw n;const{error:a}=await me.from("operators").delete().eq("id",t);if(a)throw a;return r},onSuccess:t=>{e.invalidateQueries({queryKey:Re.operators}),e.setQueryData(Re.operators,r=>r==null?void 0:r.filter(n=>n.id!==t.id)),e.removeQueries({queryKey:Re.operator(t.id)}),Ft(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Rt(`Errore nell'eliminazione dell'operatore: ${t.message}`)}})},mq=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("suppliers").insert([t]).select().single();if(n)throw n;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],r=>r?[t,...r]:[t]),Ft(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Rt(`Errore nella creazione del fornitore: ${t.message}`)}})},gq=()=>{const e=ot();return st({mutationFn:async({id:t,updates:r})=>{const{data:n,error:a}=await me.from("suppliers").update(r).eq("id",t).select().single();if(a)throw a;return n},onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],n=>n==null?void 0:n.map(a=>a.id===r?{...a,...t}:a)),Ft(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Rt(`Errore nell'aggiornamento del fornitore: ${t.message}`)}})},k4=()=>{const e=ot();return st({mutationFn:async t=>{const{data:r,error:n}=await me.from("suppliers").select("*").eq("id",t).single();if(n)throw n;const{error:a}=await me.from("suppliers").delete().eq("id",t);if(a)throw a;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],r=>r==null?void 0:r.filter(n=>n.id!==t.id)),Ft(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Rt(`Errore nell'eliminazione del fornitore: ${t.message}`)}})},RE=e=>{let t;const r=new Set,n=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=t=e(n,a,o);return o},pq=e=>e?RE(e):RE,vq=e=>e;function xq(e,t=vq){const r=ce.useSyncExternalStore(e.subscribe,ce.useCallback(()=>t(e.getState()),[e,t]),ce.useCallback(()=>t(e.getInitialState()),[e,t]));return ce.useDebugValue(r),r}const AE=e=>{const t=pq(e),r=n=>xq(t,n);return Object.assign(r,t),r},yq=e=>e?AE(e):AE;yq((e,t)=>({isLoading:!1,loadingStates:{silos:!1,inbound:!1,outbound:!1,materials:!1,operators:!1,reports:!1},forms:{siloForm:{isOpen:!1,editingItem:null},inboundForm:{isOpen:!1,editingItem:null},outboundForm:{isOpen:!1,editingItem:null}},filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"},notifications:{success:null,error:null,warning:null,info:null},modals:{confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null},deleteDialog:{isOpen:!1,item:null,onConfirm:null}},setLoading:r=>e({isLoading:r}),setLoadingState:(r,n)=>e(a=>({loadingStates:{...a.loadingStates,[r]:n}})),setMultipleLoadingStates:r=>e(n=>({loadingStates:{...n.loadingStates,...r}})),openForm:(r,n=null)=>e(a=>({forms:{...a.forms,[r]:{isOpen:!0,editingItem:n}}})),closeForm:r=>e(n=>({forms:{...n.forms,[r]:{isOpen:!1,editingItem:null}}})),setFilter:(r,n)=>e(a=>({filters:{...a.filters,[r]:n}})),setFilters:r=>e(n=>({filters:{...n.filters,...r}})),resetFilters:()=>e({filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"}}),setNotification:(r,n)=>e(a=>({notifications:{...a.notifications,[r]:n}})),clearNotification:r=>e(n=>({notifications:{...n.notifications,[r]:null}})),clearAllNotifications:()=>e({notifications:{success:null,error:null,warning:null,info:null}}),showConfirmDialog:(r,n,a)=>e(i=>({modals:{...i.modals,confirmDialog:{isOpen:!0,title:r,message:n,onConfirm:a}}})),hideConfirmDialog:()=>e(r=>({modals:{...r.modals,confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null}}})),showDeleteDialog:(r,n)=>e(a=>({modals:{...a.modals,deleteDialog:{isOpen:!0,item:r,onConfirm:n}}})),hideDeleteDialog:()=>e(r=>({modals:{...r.modals,deleteDialog:{isOpen:!1,item:null,onConfirm:null}}})),getLoadingState:r=>t().loadingStates[r],getFormState:r=>t().forms[r],getFilter:r=>t().filters[r],getNotification:r=>t().notifications[r],getModalState:r=>t().modals[r],reset:()=>e({isLoading:!1,loadingStates:{silos:!1,inbound:!1,outbound:!1,materials:!1,operators:!1,reports:!1},forms:{siloForm:{isOpen:!1,editingItem:null},inboundForm:{isOpen:!1,editingItem:null},outboundForm:{isOpen:!1,editingItem:null}},filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"},notifications:{success:null,error:null,warning:null,info:null},modals:{confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null},deleteDialog:{isOpen:!1,item:null,onConfirm:null}}})}));const _q=xh("silos"),wq=xh("inbound"),bq=xh("outbound"),Sq=xh("materials"),Eq=xh("operators"),Tq=()=>{const{data:e}=jl(),{data:t}=T4(),{data:r}=R4(),{data:n}=es(),{data:a}=wh(),{setEntities:i}=_q(),{setEntities:s}=wq(),{setEntities:o}=bq(),{setEntities:l}=Sq(),{setEntities:u}=Eq();S.useEffect(()=>{e&&i(e)},[e,i]),S.useEffect(()=>{t&&s(t)},[t,s]),S.useEffect(()=>{r&&o(r)},[r,o]),S.useEffect(()=>{n&&l(n)},[n,l]),S.useEffect(()=>{a&&u(a)},[a,u])};function Bg({silo:e,onClose:t,onEdit:r,isSnapshot:n=!1,snapshotDateTime:a=null}){var w,N,U,E,k,T,b,D;const[i,s]=S.useState(!1),[o,l]=S.useState({name:e.name||"",capacity_kg:e.capacity_kg||"",allowed_material_ids:e.allowed_material_ids||[]}),{data:u}=es(),{data:d}=_h(!0),f=A_(),h=ot(),m=n?e:(d==null?void 0:d.find(R=>R.id===e.id))||e,p=st({mutationFn:async R=>{const{error:z}=await me.from("silos").update(R).eq("id",e.id);if(z)throw z},onSuccess:()=>{h.invalidateQueries(["silos"]),s(!1)}}),g=()=>{p.mutate(o)},x=()=>{l({name:e.name||"",capacity_kg:e.capacity_kg||"",allowed_material_ids:e.allowed_material_ids||[]}),s(!1)},v=()=>{lo("Sei sicuro di voler eliminare questo silos?")&&f.mutate(e.id,{onSuccess:()=>{t()}})},y=R=>{const z=o.allowed_material_ids||[],re=z.includes(R)?z.filter(ie=>ie!==R):[...z,R];l(ie=>({...ie,allowed_material_ids:re}))},_=()=>!e.allowed_material_ids||e.allowed_material_ids.length===0?"Tutti i materiali":e.allowed_material_ids.map(R=>{const z=u==null?void 0:u.find(re=>re.id===R);return z?z.name:`ID: ${R}`}).join(", ");return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs(vt,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Back to List"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(CE,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Snapshot Silos":i?"Edit Silo":"Silo Details"}),c.jsx("p",{className:"text-muted-foreground",children:n&&a?`Silos ${e.name} - Snapshot al ${new Date(a).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}`:i?"Modify silo information":e.name})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:!n&&c.jsx(c.Fragment,{children:i?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:[c.jsx(uo,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs(Ae,{size:"sm",onClick:g,disabled:p.isPending,className:"flex items-center gap-2",children:[c.jsx($u,{className:"h-4 w-4"}),p.isPending?"Saving...":"Save"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ae,{variant:"destructive",size:"sm",onClick:v,className:"flex items-center gap-2",children:[c.jsx(Pa,{className:"h-4 w-4"}),"Delete"]})]})})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"name",children:"Nome Silos"}),i?c.jsx(Ke,{id:"name",value:o.name,onChange:R=>l(z=>({...z,name:R.target.value})),placeholder:"Inserisci nome silos"}):c.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"capacity",children:"Capacit (Kg)"}),i?c.jsx(Ke,{id:"capacity",type:"number",value:o.capacity_kg,onChange:R=>l(z=>({...z,capacity_kg:R.target.value})),placeholder:"Inserisci capacit in kg"}):c.jsxs("p",{className:"text-foreground font-medium",children:[(w=e.capacity_kg)==null?void 0:w.toLocaleString()," kg"]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Materiali Consentiti"}),i?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Seleziona i materiali che questo silos pu accettare. Lascia vuoto per accettare tutti i materiali."}),c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto border border-border rounded-md p-3",children:u==null?void 0:u.map(R=>{var z;return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:((z=o.allowed_material_ids)==null?void 0:z.includes(R.id))||!1,onChange:()=>y(R.id),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-sm font-medium",children:R.name})]},R.id)})}),((N=o.allowed_material_ids)==null?void 0:N.length)>0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.allowed_material_ids.length," materiali selezionati"]})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-foreground font-medium",children:_()}),((U=e.allowed_material_ids)==null?void 0:U.length)>0&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.allowed_material_ids.length," materiale",e.allowed_material_ids.length!==1?"i":""," specificati"]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"ID Silos"}),c.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Capacit Attuale"}),c.jsxs("p",{className:"text-foreground font-medium",children:[((E=m.currentLevel)==null?void 0:E.toLocaleString())||0," / ",(k=e.capacity_kg)==null?void 0:k.toLocaleString()," kg"]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:c.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min((m.currentLevel||0)/(e.capacity_kg||1)*100,100)}%`}})}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round((m.currentLevel||0)/(e.capacity_kg||1)*100),"% utilizzato"]})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Stato"}),c.jsx(Bi,{variant:"default",className:"bg-green-100 text-green-800",children:"Attivo"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Data Creazione"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Ultima Modifica"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Giacenza Attuale"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Questo silos contiene ",((T=m.availableItems)==null?void 0:T.length)||0," lotti di materiale."]})}),((b=m.availableItems)==null?void 0:b.length)>0&&c.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:["Totale giacenza: ",(D=m.currentLevel)==null?void 0:D.toLocaleString()," kg"]})})]})]})]})]}),m.availableItems&&m.availableItems.length>0&&c.jsxs("div",{className:"border-t border-border pt-6",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[c.jsx(Um,{className:"h-5 w-5"}),"Giacenza Scorporata nei Lotti"]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Lista dei materiali attualmente presenti nel silos, organizzati per lotti"})]}),c.jsx("div",{className:"space-y-3",children:m.availableItems.map((R,z)=>{var re,ie;return c.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${z*137.5%360}, 70%, 50%)`}}),c.jsx("span",{className:"font-medium text-foreground",children:((re=R.materials)==null?void 0:re.name)||R.product||"Materiale"})]}),c.jsxs(Bi,{variant:"outline",className:"text-xs",children:["Lotto #",z+1]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs text-muted-foreground",children:"Quantit Disponibile"}),c.jsxs("p",{className:"font-medium",children:[(ie=R.available_quantity)==null?void 0:ie.toLocaleString()," kg"]})]}),R.lot_supplier&&c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs text-muted-foreground",children:"Lotto Fornitore"}),c.jsx("p",{className:"font-medium",children:R.lot_supplier})]}),R.lot_tf&&c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs text-muted-foreground",children:"Lotto TF"}),c.jsx("p",{className:"font-medium",children:R.lot_tf})]}),c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs text-muted-foreground",children:"Data Entrata"}),c.jsxs("p",{className:"font-medium flex items-center gap-1",children:[c.jsx(w$,{className:"h-3 w-3"}),new Date(R.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",day:"2-digit",month:"2-digit",year:"numeric"})]})]})]}),(R.proteins||R.humidity||R.cleaned)&&c.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[R.proteins&&c.jsxs("div",{children:[c.jsx(ke,{className:"text-muted-foreground",children:"Proteine"}),c.jsxs("p",{className:"font-medium",children:[R.proteins,"%"]})]}),R.humidity&&c.jsxs("div",{children:[c.jsx(ke,{className:"text-muted-foreground",children:"Umidit"}),c.jsxs("p",{className:"font-medium",children:[R.humidity,"%"]})]}),R.cleaned!==void 0&&c.jsxs("div",{children:[c.jsx(ke,{className:"text-muted-foreground",children:"Pulito"}),c.jsx(Bi,{variant:R.cleaned?"default":"secondary",className:"text-xs",children:R.cleaned?"S":"No"})]})]})})]},z)})})]}),(!m.availableItems||m.availableItems.length===0)&&c.jsx("div",{className:"border-t border-border pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(CE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Silos Vuoto"}),c.jsx("p",{className:"text-muted-foreground",children:"Questo silos non contiene attualmente alcun materiale."})]})})]})]})})}function Cq(){var U;Ol();const e=zr(),[t,r]=S.useState(null),{data:n,isLoading:a,error:i}=jl(),{data:s,isLoading:o,error:l}=T4(),{data:u,isLoading:d,error:f}=R4();ce.useEffect(()=>{console.log(" HomePage data status:",{silosData:(n==null?void 0:n.length)||0,inboundData:(s==null?void 0:s.length)||0,outboundData:(u==null?void 0:u.length)||0,loading:{silosLoading:a,inboundLoading:o,outboundLoading:d},errors:{silosError:i,inboundError:l,outboundError:f}})},[n,s,u,a,o,d,i,l,f]);const h=S.useMemo(()=>{if(a||o||d)return{};const E=(n==null?void 0:n.reduce((J,Y)=>J+(Y.capacity_kg||0),0))||0,k=(n==null?void 0:n.map(J=>{const Y=(s==null?void 0:s.filter(W=>W&&W.silo_id===J.id))||[],P=(u==null?void 0:u.filter(W=>W&&W.silo_id===J.id))||[],H=Y.reduce((W,se)=>W+((se==null?void 0:se.quantity_kg)||0),0),I=P.reduce((W,se)=>W+((se==null?void 0:se.quantity_kg)||0),0),L=H-I;return{...J,currentLevel:Math.max(0,L),utilizationPercentage:J.capacity_kg>0?Math.max(0,L)/J.capacity_kg*100:0}}))||[],T=k.reduce((J,Y)=>J+Y.currentLevel,0),b=E>0?T/E*100:0,D=new Date().toISOString().split("T")[0],R=(s==null?void 0:s.filter(J=>{var Y;return J&&((Y=J.created_at)==null?void 0:Y.split("T")[0])===D}).length)||0,z=(u==null?void 0:u.filter(J=>{var Y;return J&&((Y=J.created_at)==null?void 0:Y.split("T")[0])===D}).length)||0,re=new Date;re.setDate(re.getDate()-7);const ie=re.toISOString(),O=(s==null?void 0:s.filter(J=>J&&J.created_at>=ie).length)||0,Q=(u==null?void 0:u.filter(J=>J&&J.created_at>=ie).length)||0,M=(s==null?void 0:s.reduce((J,Y)=>J+((Y==null?void 0:Y.quantity_kg)||0),0))||0,K=(u==null?void 0:u.reduce((J,Y)=>J+((Y==null?void 0:Y.quantity_kg)||0),0))||0;return{totalSilos:(n==null?void 0:n.length)||0,totalCapacity:E,totalCurrentStock:T,totalUtilization:b,todayInbound:R,todayOutbound:z,weekInbound:O,weekOutbound:Q,totalInboundQuantity:M,totalOutboundQuantity:K,silosWithLevels:k}},[n,s,u,a,o,d]),{trendLabels:m,inboundCountSeries:p,outboundCountSeries:g,inboundQtySeries:x,outboundQtySeries:v}=S.useMemo(()=>{const k=new Date,T=O=>new Date(Date.UTC(O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate())),b=O=>new Date(Date.UTC(O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate(),23,59,59,999)),D=[],R=[],z=[],re=[],ie=[];for(let O=14-1;O>=0;O--){const Q=new Date(T(k));Q.setUTCDate(Q.getUTCDate()-O);const M=T(Q),K=b(Q),J=M.toISOString().split("T")[0],Y=(s||[]).filter(L=>{if(!L||!L.created_at)return!1;const W=new Date(L.created_at);return W>=M&&W<=K}).length,P=(u||[]).filter(L=>{if(!L||!L.created_at)return!1;const W=new Date(L.created_at);return W>=M&&W<=K}).length,H=(s||[]).reduce((L,W)=>{if(!W||!W.created_at)return L;const se=new Date(W.created_at);return se>=M&&se<=K?L+(W.quantity_kg||0):L},0),I=(u||[]).reduce((L,W)=>{if(!W||!W.created_at)return L;const se=new Date(W.created_at);return se>=M&&se<=K?L+(W.quantity_kg||0):L},0);D.push(J),R.push(Y),z.push(P),re.push(H),ie.push(I)}return{trendLabels:D,inboundCountSeries:R,outboundCountSeries:z,inboundQtySeries:re,outboundQtySeries:ie}},[s,u]),y=({width:E=600,height:k=120,labels:T,series:b,colors:D})=>{const R={top:10,right:10,bottom:18,left:24},z=E-R.left-R.right,re=k-R.top-R.bottom,ie=Math.max(1,T.length-1),O=Math.max(1,...b.flat()),Q=P=>z*P/ie,M=P=>re-re*P/O,K=P=>P.map((H,I)=>`${I===0?"M":"L"} ${Q(I).toFixed(2)} ${M(H).toFixed(2)}`).join(" "),J=3,Y=Array.from({length:J+1},(P,H)=>re*H/J);return c.jsx("svg",{viewBox:`0 0 ${E} ${k}`,className:"w-full h-28",children:c.jsxs("g",{transform:`translate(${R.left},${R.top})`,children:[Y.map((P,H)=>c.jsx("line",{x1:0,y1:P,x2:z,y2:P,stroke:"#e5e7eb",strokeWidth:"1"},H)),b.map((P,H)=>c.jsx("path",{d:K(P),fill:"none",stroke:D[H],strokeWidth:"2"},H)),b.map((P,H)=>c.jsx("circle",{cx:Q(P.length-1),cy:M(P[P.length-1]),r:"2.5",fill:D[H]},`pt-${H}`)),T.map((P,H)=>H%3===0?c.jsx("text",{x:Q(H),y:re+12,fontSize:"9",textAnchor:"middle",fill:"#6b7280",children:P.slice(5)},P):null),c.jsx("text",{x:-8,y:-2,fontSize:"9",textAnchor:"end",fill:"#6b7280",children:Math.round(O)})]})})},_=E=>{r(E)},w=()=>{r(null)};return a||o||d?c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((E,k)=>c.jsx("div",{className:"h-32 bg-muted rounded-lg"},k))}),c.jsx("div",{className:"h-64 bg-muted rounded-lg"})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Tracciabilit Molino"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(vt,{className:"p-6",children:[c.jsx(aa,{className:"pb-2",children:c.jsx(ia,{className:"text-sm font-medium text-muted-foreground",children:"Silos Totali"})}),c.jsxs(Dn,{children:[c.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.totalSilos}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Capacit: ",h.totalCapacity.toLocaleString()," kg"]})]})]}),c.jsxs(vt,{className:"p-6",children:[c.jsx(aa,{className:"pb-2",children:c.jsx(ia,{className:"text-sm font-medium text-muted-foreground",children:"Giacenza Attuale"})}),c.jsxs(Dn,{children:[c.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[h.totalCurrentStock.toLocaleString()," kg"]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Utilizzo: ",Math.round(h.totalUtilization),"%"]})]})]}),c.jsxs(vt,{className:"p-6",children:[c.jsx(aa,{className:"pb-2",children:c.jsx(ia,{className:"text-sm font-medium text-muted-foreground",children:"Movimenti Oggi"})}),c.jsxs(Dn,{children:[c.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.todayInbound+h.todayOutbound}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["IN: ",h.todayInbound," | OUT: ",h.todayOutbound]})]})]}),c.jsxs(vt,{className:"p-6",children:[c.jsx(aa,{className:"pb-2",children:c.jsx(ia,{className:"text-sm font-medium text-muted-foreground",children:"Movimenti Settimana"})}),c.jsxs(Dn,{children:[c.jsx("div",{className:"text-3xl font-bold text-foreground",children:h.weekInbound+h.weekOutbound}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["IN: ",h.weekInbound," | OUT: ",h.weekOutbound]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ia,{children:"Trend Movimenti (14 giorni)"}),c.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," IN"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-3 h-1 bg-muted-foreground"})," OUT"]})]})]})}),c.jsx(Dn,{children:c.jsx(y,{labels:m,series:[p,g],colors:["hsl(var(--primary))","hsl(var(--muted-foreground))"]})})]}),c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ia,{children:"Quantit IN/OUT (kg)  14 giorni"}),c.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-3 h-1 bg-green-600"})," IN"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"inline-block w-3 h-1 bg-red-600"})," OUT"]})]})]})}),c.jsx(Dn,{children:c.jsx(y,{labels:m,series:[x,v],colors:["#16a34a","#dc2626"]})})]})]}),c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsx(ia,{children:"Stato Silos"})}),c.jsx(Dn,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(U=h.silosWithLevels)==null?void 0:U.map(E=>c.jsxs("div",{className:"border rounded-lg p-4 bg-card cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:()=>_(E),children:[c.jsx("h3",{className:"font-semibold text-card-foreground mb-3",children:E.name}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Capacit:"}),c.jsxs("span",{className:"font-medium",children:[E.capacity_kg.toLocaleString()," kg"]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Livello:"}),c.jsxs("span",{className:"font-medium",children:[E.currentLevel.toLocaleString()," kg"]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Utilizzo:"}),c.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(E.utilizationPercentage),"%"]})]}),c.jsx("div",{className:"mt-3",children:c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full bg-primary",style:{width:`${Math.min(E.utilizationPercentage,100)}%`}})})})]})]},E.id))})})]}),c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsx(ia,{children:"Azioni Rapide"})}),c.jsx(Dn,{children:c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx(Ae,{onClick:()=>e("/silos"),children:"Gestisci Silos"}),c.jsx(Ae,{variant:"outline",onClick:()=>e("/merce-in/new"),children:"Registra Merce IN"}),c.jsx(Ae,{variant:"outline",onClick:()=>e("/merce-out/new"),children:"Registra Merce OUT"}),c.jsx(Ae,{variant:"outline",onClick:()=>e("/reports"),children:"Visualizza Report"})]})})]}),t&&c.jsx(Bg,{silo:t,onClose:w})]})}const Rq=({silo:e,onClick:t})=>{const{id:r,name:n,capacity_kg:a,currentLevel:i,availableItems:s=[]}=e,o=a>0?i/a*100:0,l=d=>{const f=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];return f[d%f.length]},u=()=>s.length===0?c.jsx("div",{className:"w-20 h-40 bg-gray-100 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-gray-400 text-xs transform -rotate-90",children:"Vuoto"})}):c.jsxs("div",{className:"relative w-20 h-40 bg-gray-100 rounded overflow-hidden flex flex-col justify-end",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gray-400 opacity-50"}),s.map((d,f)=>{var m;const h=d.available_quantity/a*100;return c.jsx("div",{className:"flex items-center justify-center relative",style:{height:`${h}%`,backgroundColor:l(f),minHeight:h>3?"auto":"4px"},title:`${((m=d.materials)==null?void 0:m.name)||"Materiale"}: ${d.available_quantity}kg`},f)})]});return c.jsx(vt,{className:"p-4 hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:t,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[i.toLocaleString()," / ",a.toLocaleString()," kg"]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(o),"% utilizzato"]})]})]}),c.jsx("div",{className:"flex items-end space-x-2",children:u()})]})})};function Aq(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),[a,i]=S.useState(null),{data:s,isLoading:o}=_h(!0),{data:l}=es(),u=S4(),d=E4();A_();const f=async v=>{const y={...v,capacity_kg:parseInt(v.capacity_kg),allowed_material_ids:v.allowed_material_ids||[],updated_at:new Date().toISOString()};r?await d.mutateAsync({id:r.id,updates:y}):await u.mutateAsync(y),t(!1),n(null)},h=v=>{f(v)},m=()=>{t(!1),n(null)},p=v=>{i(v)},g=()=>{i(null)},x={sections:[{title:"Informazioni Silos",fields:[{name:"name",label:"Nome Silos",type:"text",required:!0,placeholder:"Inserisci nome silos"},{name:"capacity_kg",label:"Capacit (Kg)",type:"number",required:!0,placeholder:"Inserisci capacit in kg"},{name:"allowed_material_ids",label:"Materiali Consentiti",type:"checkbox",options:(l==null?void 0:l.map(v=>({value:v.id,label:v.name})))||[]}]}],addButtonText:"Aggiungi Silos",editButtonText:"Aggiorna Silos",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione silos",editContext:"Aggiornamento silos",addErrorMessage:"Errore durante la creazione del silos",editErrorMessage:"Errore durante l'aggiornamento del silos"};return o?c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-8 bg-gray-300 rounded w-48"})}),c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-10 bg-gray-300 rounded w-32"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-6 bg-gray-300 rounded w-40"})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(v=>c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"})},v))})]})]}):c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Gestione Silos"}),c.jsx(Ae,{onClick:()=>t(!0),children:"Aggiungi Silos"})]}),e&&c.jsxs(vt,{className:"p-2",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h2",{className:"text-lg font-semibold",children:r?"Modifica Silos":"Nuovo Silos"})}),c.jsx(ph,{config:x,initialData:r||{},onSubmit:h,onCancel:m,isEditMode:!!r,isLoading:r?d.isPending:u.isPending})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Silos Disponibili"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s==null?void 0:s.map(v=>c.jsx(Rq,{silo:v,onClick:()=>p(v)},v.id))}),(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground text-lg",children:"Nessun silos disponibile"}),c.jsx("p",{className:"text-muted-foreground/70 text-sm mt-2",children:'Clicca su "Aggiungi Silos" per creare il primo silos'})]})]}),a&&c.jsx(Bg,{silo:a,onClose:g})]})}function Nq(){const e=zr();S.useState(null);const[t,r]=S.useState(null),{data:n,isLoading:a}=zt({queryKey:["silos"],queryFn:async()=>{const{data:g,error:x}=await me.from("silos").select("*").order("created_at",{ascending:!1});if(x)throw x;return g}}),{data:i,isLoading:s}=es(),o=A_(),l=ot(),u=st({mutationFn:async g=>{const{error:x}=await me.from("silos").delete().in("id",g);if(x)throw x},onSuccess:()=>l.invalidateQueries(["silos"])}),d=g=>{r(g)},f=()=>{r(null)},h=g=>{e(`/silos/edit/${g.id}`)},m=g=>{o.mutate(g.id)},p=[{accessorKey:"id",header:"ID",cell:({getValue:g})=>`#${g()}`},{accessorKey:"name",header:"Nome Silos"},{accessorKey:"capacity_kg",header:"Capacit (Kg)",cell:({getValue:g})=>`${g().toLocaleString()} kg`}];return a||s?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(gh,{title:"Lista Silos",entityName:"Silo",createButtonHref:"/silos/new",data:n||[],columns:p,onRowClick:d,onEditRow:h,onDeleteRow:m,enableFiltering:!0,filterableColumns:["name"],enableGlobalSearch:!1,onBulkDelete:g=>u.mutate(g),detailComponent:t&&c.jsx(Bg,{silo:t,onClose:f})})}function NE(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1),{data:s,isLoading:o}=es(),l=S4(),u=E4();S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("silos").select("*").eq("id",e).single().then(({data:g,error:x})=>{x?(console.error("Error fetching silo data:",x),t("/silos/list")):n(g),i(!1)}))},[e,t]);const d=async g=>{let x=[];Array.isArray(g.allowed_material_ids)?x=g.allowed_material_ids.filter(y=>!isNaN(y)):typeof g.allowed_material_ids=="string"&&g.allowed_material_ids.trim()&&(x=g.allowed_material_ids.split(",").map(y=>parseInt(y.trim())).filter(y=>!isNaN(y)));const v={...g,capacity_kg:parseInt(g.capacity_kg),allowed_material_ids:x,updated_at:new Date().toISOString()};r?await u.mutateAsync({id:r.id,updates:v}):await l.mutateAsync(v),t("/silos/list")},f=g=>{d(g)},h=()=>{t("/silos/list")},m={allowed_material_ids:(g,{setValue:x,getValues:v})=>{const y=v(g.name)||[];return c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-gray-600 mb-2",children:"Seleziona i materiali che questo silos pu accettare. Lascia vuoto per accettare tutti i materiali."}),c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-2",children:s==null?void 0:s.map(_=>c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:y.includes(_.id),onChange:w=>{const N=v(g.name)||[];w.target.checked?x(g.name,[...N,_.id]):x(g.name,N.filter(U=>U!==_.id))},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-[10px] font-medium",children:_.name})]},_.id))}),y.length>0&&c.jsxs("div",{className:"text-[9px] text-gray-500",children:[y.length," materiali selezionati"]})]})}},p={sections:[{title:"Informazioni Silos",fields:[{name:"name",label:"Nome Silos",type:"text",required:!0,placeholder:"Inserisci nome silos"},{name:"capacity_kg",label:"Capacit (Kg)",type:"number",required:!0,placeholder:"Inserisci capacit in kg"}]},{title:"Configurazione Materiali",fields:[{name:"allowed_material_ids",label:"Materiali Consentiti",type:"allowed_material_ids",helpText:"Seleziona i materiali che questo silos pu accettare"}]}],addButtonText:"Aggiungi Silos",editButtonText:"Aggiorna Silos",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione silos",editContext:"Aggiornamento silos",addErrorMessage:"Errore durante la creazione del silos",editErrorMessage:"Errore durante l'aggiornamento del silos"};return a||o?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(C_,{title:"Nuovo Silos",editTitle:"Modifica Silos",isEditMode:!!r,formConfig:p,initialData:r?{...r,allowed_material_ids:r.allowed_material_ids||[]}:{},onSubmit:f,onCancel:h,isLoading:r?u.isPending:l.isPending,customFieldRenderers:m})}function Oq({operator:e,onClose:t,onEdit:r}){const[n,a]=S.useState(!1),[i,s]=S.useState({name:e.name||"",code:e.code||"",role:e.role||"",status:e.status||"active",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=j4(),l=ot(),u=st({mutationFn:async p=>{const{error:g}=await me.from("operators").update(p).eq("id",e.id);if(g)throw g},onSuccess:()=>{l.invalidateQueries(["operators"]),a(!1)}}),d=()=>{u.mutate(i)},f=()=>{s({name:e.name||"",code:e.code||"",role:e.role||"",status:e.status||"active",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),a(!1)},h=()=>{lo("Sei sicuro di voler eliminare questo operatore?")&&o.mutate(e.id,{onSuccess:()=>{t()}})},m=p=>{switch(p){case"active":return"default";case"inactive":return"destructive";case"suspended":return"secondary";default:return"outline"}};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs(vt,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Back to List"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(H$,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Edit Operator":"Operator Details"}),c.jsx("p",{className:"text-muted-foreground",children:n?"Modify operator information":e.name})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[c.jsx(uo,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs(Ae,{size:"sm",onClick:d,disabled:u.isPending,className:"flex items-center gap-2",children:[c.jsx($u,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ae,{variant:"destructive",size:"sm",onClick:h,className:"flex items-center gap-2",children:[c.jsx(Pa,{className:"h-4 w-4"}),"Delete"]})]})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"name",children:"Nome"}),n?c.jsx(Ke,{id:"name",value:i.name,onChange:p=>s(g=>({...g,name:p.target.value})),placeholder:"Inserisci nome operatore"}):c.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"code",children:"Codice"}),n?c.jsx(Ke,{id:"code",value:i.code,onChange:p=>s(g=>({...g,code:p.target.value})),placeholder:"Inserisci codice operatore"}):c.jsx("p",{className:"text-foreground font-medium",children:e.code})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"role",children:"Ruolo"}),n?c.jsx(Ke,{id:"role",value:i.role,onChange:p=>s(g=>({...g,role:p.target.value})),placeholder:"Inserisci ruolo"}):c.jsx("p",{className:"text-foreground font-medium",children:e.role})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"status",children:"Stato"}),n?c.jsxs("select",{id:"status",value:i.status,onChange:p=>s(g=>({...g,status:p.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"suspended",children:"Suspended"})]}):c.jsx(Bi,{variant:m(e.status),children:e.status||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Contact Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"phone",children:"Telefono"}),n?c.jsx(Ke,{id:"phone",value:i.phone,onChange:p=>s(g=>({...g,phone:p.target.value})),placeholder:"Inserisci numero di telefono"}):c.jsx("p",{className:"text-foreground font-medium",children:e.phone||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"email",children:"Email"}),n?c.jsx(Ke,{id:"email",type:"email",value:i.email,onChange:p=>s(g=>({...g,email:p.target.value})),placeholder:"Inserisci indirizzo email"}):c.jsx("p",{className:"text-foreground font-medium",children:e.email||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),n?c.jsx("textarea",{value:i.notes,onChange:p=>s(g=>({...g,notes:p.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):c.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"ID Operatore"}),c.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Attivo"}),n?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:i.active,onChange:p=>s(g=>({...g,active:p.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:i.active?"Operatore attivo":"Operatore inattivo"})]}):c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Data Creazione"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Ultima Modifica"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})})]})})}function jq(){const e=zr();S.useState(null);const[t,r]=S.useState(null),{data:n,isLoading:a}=zt({queryKey:["operators"],queryFn:async()=>{const{data:m,error:p}=await me.from("operators").select("*").order("created_at",{ascending:!1});if(p)throw p;return m}}),i=j4(),s=ot(),o=st({mutationFn:async m=>{const{error:p}=await me.from("operators").delete().in("id",m);if(p)throw p},onSuccess:()=>s.invalidateQueries(["operators"])}),l=m=>{r(m)},u=()=>{r(null)},d=m=>{e(`/operators/edit/${m.id}`)},f=m=>{i.mutate(m.id)},h=[{accessorKey:"id",header:"ID",cell:({getValue:m})=>`#${m()}`},{accessorKey:"name",header:"Nome"},{accessorKey:"code",header:"Codice"},{accessorKey:"role",header:"Ruolo"},{accessorKey:"status",header:"Stato",cell:({getValue:m})=>{const p=m(),g=p==="active"?"default":p==="inactive"?"destructive":p==="suspended"?"secondary":"outline";return c.jsx(Bi,{variant:g,children:p||"N/A"})}}];return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(gh,{title:"Lista Operatori",entityName:"Operator",createButtonHref:"/operators/new",data:n||[],columns:h,onRowClick:l,onEditRow:d,onDeleteRow:f,enableFiltering:!0,filterableColumns:["name","code","role","status"],enableGlobalSearch:!1,onBulkDelete:m=>o.mutate(m),detailComponent:t&&c.jsx(Oq,{operator:t,onClose:u})})}function OE(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1);S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("operators").select("*").eq("id",e).single().then(({data:h,error:m})=>{m?(console.error("Error fetching operator data:",m),t("/operators/list")):n(h),i(!1)}))},[e,t]);const s=fq(),o=hq(),l=async h=>{const m={...h,updated_at:new Date().toISOString()};r?await o.mutateAsync({id:r.id,updates:m}):await s.mutateAsync(m),t("/operators/list")},u=h=>{l(h)},d=()=>{t("/operators/list")},f={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Operatore",type:"text",required:!0,placeholder:"Inserisci nome operatore"},{name:"code",label:"Codice Operatore",type:"text",placeholder:"Inserisci codice operatore"},{name:"role",label:"Ruolo",type:"select",required:!0,options:[{value:"Operatore",label:"Operatore"},{value:"Supervisore",label:"Supervisore"},{value:"Manager",label:"Manager"},{value:"Amministratore",label:"Amministratore"}]},{name:"status",label:"Stato",type:"select",required:!0,options:[{value:"active",label:"Attivo"},{value:"inactive",label:"Inattivo"},{value:"suspended",label:"Sospeso"}]}]},{title:"Contatti",fields:[{name:"phone",label:"Telefono",type:"text",placeholder:"Inserisci numero di telefono"},{name:"email",label:"Email",type:"text",placeholder:"Inserisci indirizzo email"}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Operatore",editButtonText:"Aggiorna Operatore",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione operatore",editContext:"Aggiornamento operatore",addErrorMessage:"Errore durante la creazione dell'operatore",editErrorMessage:"Errore durante l'aggiornamento dell'operatore"};return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:r?"Modifica Operatore":"Nuovo Operatore"})}),c.jsx(ph,{config:f,initialData:r?{...r,active:String(r.active)}:{},onSubmit:u,onCancel:d,isEditMode:!!r,isLoading:r?o.isPending:s.isPending})]})}function kq({material:e,onClose:t,onEdit:r}){const[n,a]=S.useState(!1),[i,s]=S.useState({name:e.name||"",description:e.description||"",unit:e.unit||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=O4(),l=ot(),u=st({mutationFn:async m=>{const{error:p}=await me.from("materials").update(m).eq("id",e.id);if(p)throw p},onSuccess:()=>{l.invalidateQueries(["materials"]),a(!1)}}),d=()=>{u.mutate(i)},f=()=>{s({name:e.name||"",description:e.description||"",unit:e.unit||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),a(!1)},h=()=>{lo("Sei sicuro di voler eliminare questo materiale?")&&o.mutate(e.id,{onSuccess:()=>{t()}})};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs(vt,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Back to List"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(Um,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Edit Material":"Material Details"}),c.jsx("p",{className:"text-muted-foreground",children:n?"Modify material information":e.name})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[c.jsx(uo,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs(Ae,{size:"sm",onClick:d,disabled:u.isPending,className:"flex items-center gap-2",children:[c.jsx($u,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ae,{variant:"destructive",size:"sm",onClick:h,className:"flex items-center gap-2",children:[c.jsx(Pa,{className:"h-4 w-4"}),"Delete"]})]})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"name",children:"Nome Materiale"}),n?c.jsx(Ke,{id:"name",value:i.name,onChange:m=>s(p=>({...p,name:m.target.value})),placeholder:"Inserisci nome materiale"}):c.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"description",children:"Descrizione"}),n?c.jsx("textarea",{id:"description",value:i.description,onChange:m=>s(p=>({...p,description:m.target.value})),placeholder:"Inserisci descrizione del materiale",rows:3}):c.jsx("p",{className:"text-foreground",children:e.description||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"unit",children:"Unit di Misura"}),n?c.jsx(Ke,{id:"unit",value:i.unit,onChange:m=>s(p=>({...p,unit:m.target.value})),placeholder:"es. Kg, L, pz"}):c.jsx("p",{className:"text-foreground font-medium",children:e.unit||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),n?c.jsx("textarea",{value:i.notes,onChange:m=>s(p=>({...p,notes:m.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):c.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"ID Materiale"}),c.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Attivo"}),n?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:i.active,onChange:m=>s(p=>({...p,active:m.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:i.active?"Materiale attivo":"Materiale inattivo"})]}):c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Data Creazione"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Ultima Modifica"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Usage Information"}),c.jsx("div",{className:"space-y-2",children:c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Questo materiale pu essere utilizzato nei silos e nei movimenti di merce."})})})]})]})]})})]})})}function Dq(){const e=zr();S.useState(null);const[t,r]=S.useState(null),{data:n,isLoading:a}=zt({queryKey:["materials"],queryFn:async()=>{const{data:m,error:p}=await me.from("materials").select("*").order("created_at",{ascending:!1});if(p)throw p;return m}}),i=O4(),s=ot(),o=st({mutationFn:async m=>{const{error:p}=await me.from("materials").delete().in("id",m);if(p)throw p},onSuccess:()=>s.invalidateQueries(["materials"])}),l=m=>{r(m)},u=()=>{r(null)},d=m=>{e(`/materials/edit/${m.id}`)},f=m=>{i.mutate(m.id)},h=[{accessorKey:"id",header:"ID",cell:({getValue:m})=>`#${m()}`},{accessorKey:"name",header:"Nome Materiale"},{accessorKey:"unit",header:"Unit"},{accessorKey:"active",header:"Attivo",cell:({getValue:m})=>c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m()?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:m()?"S":"No"})}];return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(gh,{title:"Lista Materiali",entityName:"Material",createButtonHref:"/materials/new",data:n||[],columns:h,onRowClick:l,onEditRow:d,onDeleteRow:f,enableFiltering:!0,filterableColumns:["name","unit"],enableGlobalSearch:!1,onBulkDelete:m=>o.mutate(m),detailComponent:t&&c.jsx(kq,{material:t,onClose:u})})}function jE(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1);S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("materials").select("*").eq("id",e).single().then(({data:h,error:m})=>{m?(console.error("Error fetching material data:",m),t("/materials/list")):n(h),i(!1)}))},[e,t]);const s=uq(),o=dq(),l=async h=>{const m={...h,updated_at:new Date().toISOString()};r?await o.mutateAsync({id:r.id,updates:m}):await s.mutateAsync(m),t("/materials/list")},u=h=>{l(h)},d=()=>{t("/materials/list")},f={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Materiale",type:"text",required:!0,placeholder:"Inserisci nome materiale"},{name:"description",label:"Descrizione",type:"textarea",rows:3,placeholder:"Inserisci descrizione del materiale"},{name:"unit",label:"Unit di Misura",type:"select",required:!0,options:[{value:"Kg",label:"Kg"},{value:"g",label:"g"},{value:"L",label:"L"},{value:"ml",label:"ml"},{value:"pz",label:"Pezzi"},{value:"m",label:"Metri"},{value:"m",label:"Metri Quadri"},{value:"m",label:"Metri Cubi"}]}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Materiale",editButtonText:"Aggiorna Materiale",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione materiale",editContext:"Aggiornamento materiale",addErrorMessage:"Errore durante la creazione del materiale",editErrorMessage:"Errore durante l'aggiornamento del materiale"};return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(C_,{title:"Nuovo Materiale",editTitle:"Modifica Materiale",isEditMode:!!r,formConfig:f,initialData:r?{...r,active:String(r.active)}:{},onSubmit:u,onCancel:d,isLoading:r?o.isPending:s.isPending})}function Mq({supplier:e,onClose:t,onEdit:r}){const[n,a]=S.useState(!1),[i,s]=S.useState({name:e.name||"",code:e.code||"",contact_person:e.contact_person||"",status:e.status||"active",address:e.address||"",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=k4(),l=ot(),u=st({mutationFn:async p=>{const{error:g}=await me.from("suppliers").update(p).eq("id",e.id);if(g)throw g},onSuccess:()=>{l.invalidateQueries(["suppliers"]),a(!1)}}),d=()=>{u.mutate(i)},f=()=>{s({name:e.name||"",code:e.code||"",contact_person:e.contact_person||"",status:e.status||"active",address:e.address||"",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),a(!1)},h=()=>{lo("Sei sicuro di voler eliminare questo fornitore?")&&o.mutate(e.id,{onSuccess:()=>{t()}})},m=p=>{switch(p){case"active":return"default";case"inactive":return"destructive";case"suspended":return"secondary";default:return"outline"}};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs(vt,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Back to List"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(w4,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Edit Supplier":"Supplier Details"}),c.jsx("p",{className:"text-muted-foreground",children:n?"Modify supplier information":e.name})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[c.jsx(uo,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs(Ae,{size:"sm",onClick:d,disabled:u.isPending,className:"flex items-center gap-2",children:[c.jsx($u,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ae,{variant:"destructive",size:"sm",onClick:h,className:"flex items-center gap-2",children:[c.jsx(Pa,{className:"h-4 w-4"}),"Delete"]})]})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Company Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"name",children:"Nome Fornitore"}),n?c.jsx(Ke,{id:"name",value:i.name,onChange:p=>s(g=>({...g,name:p.target.value})),placeholder:"Inserisci nome fornitore"}):c.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"code",children:"Codice"}),n?c.jsx(Ke,{id:"code",value:i.code,onChange:p=>s(g=>({...g,code:p.target.value})),placeholder:"Inserisci codice fornitore"}):c.jsx("p",{className:"text-foreground font-medium",children:e.code})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"contact_person",children:"Persona di Contatto"}),n?c.jsx(Ke,{id:"contact_person",value:i.contact_person,onChange:p=>s(g=>({...g,contact_person:p.target.value})),placeholder:"Inserisci persona di contatto"}):c.jsx("p",{className:"text-foreground font-medium",children:e.contact_person||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"status",children:"Stato"}),n?c.jsxs("select",{id:"status",value:i.status,onChange:p=>s(g=>({...g,status:p.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"suspended",children:"Suspended"})]}):c.jsx(Bi,{variant:m(e.status),children:e.status||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Contact Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"address",children:"Indirizzo"}),n?c.jsx("textarea",{id:"address",value:i.address,onChange:p=>s(g=>({...g,address:p.target.value})),placeholder:"Inserisci indirizzo completo",rows:3}):c.jsx("p",{className:"text-foreground",children:e.address||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"phone",children:"Telefono"}),n?c.jsx(Ke,{id:"phone",value:i.phone,onChange:p=>s(g=>({...g,phone:p.target.value})),placeholder:"Inserisci numero di telefono"}):c.jsx("p",{className:"text-foreground font-medium",children:e.phone||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"email",children:"Email"}),n?c.jsx(Ke,{id:"email",type:"email",value:i.email,onChange:p=>s(g=>({...g,email:p.target.value})),placeholder:"Inserisci indirizzo email"}):c.jsx("p",{className:"text-foreground font-medium",children:e.email||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),n?c.jsx("textarea",{value:i.notes,onChange:p=>s(g=>({...g,notes:p.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):c.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"ID Fornitore"}),c.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Attivo"}),n?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:i.active,onChange:p=>s(g=>({...g,active:p.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:i.active?"Fornitore attivo":"Fornitore inattivo"})]}):c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Data Creazione"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Ultima Modifica"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Business Information"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Questo fornitore pu essere utilizzato nei movimenti di merce in entrata."})}),e.contact_person&&c.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:["Contatto principale: ",e.contact_person]})})]})]})]})]})})]})})}function Iq(){const e=zr();S.useState(null);const[t,r]=S.useState(null),{data:n,isLoading:a}=zt({queryKey:["suppliers"],queryFn:async()=>{const{data:m,error:p}=await me.from("suppliers").select("*").order("created_at",{ascending:!1});if(p)throw p;return m}}),i=k4(),s=ot(),o=st({mutationFn:async m=>{const{error:p}=await me.from("suppliers").delete().in("id",m);if(p)throw p},onSuccess:()=>s.invalidateQueries(["suppliers"])}),l=m=>{r(m)},u=()=>{r(null)},d=m=>{e(`/suppliers/edit/${m.id}`)},f=m=>{i.mutate(m.id)},h=[{accessorKey:"id",header:"ID",cell:({getValue:m})=>`#${m()}`},{accessorKey:"name",header:"Nome Fornitore"},{accessorKey:"code",header:"Codice"},{accessorKey:"contact_person",header:"Persona di Contatto"},{accessorKey:"status",header:"Stato",cell:({getValue:m})=>{const p=m(),g=p==="active"?"default":p==="inactive"?"destructive":p==="suspended"?"secondary":"outline";return c.jsx(Bi,{variant:g,children:p||"N/A"})}}];return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(gh,{title:"Lista Fornitori",entityName:"Supplier",createButtonHref:"/suppliers/new",data:n||[],columns:h,onRowClick:l,onEditRow:d,onDeleteRow:f,enableFiltering:!0,filterableColumns:["name","code","contact_person","status"],onBulkDelete:m=>o.mutate(m),enableGlobalSearch:!1,detailComponent:t&&c.jsx(Mq,{supplier:t,onClose:u})})}function kE(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1);S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("suppliers").select("*").eq("id",e).single().then(({data:h,error:m})=>{m?(console.error("Error fetching supplier data:",m),t("/suppliers/list")):n(h),i(!1)}))},[e,t]);const s=mq(),o=gq(),l=async h=>{const m={...h,updated_at:new Date().toISOString()};r?await o.mutateAsync({id:r.id,updates:m}):await s.mutateAsync(m),t("/suppliers/list")},u=h=>{l(h)},d=()=>{t("/suppliers/list")},f={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Fornitore",type:"text",required:!0,placeholder:"Inserisci nome fornitore"},{name:"code",label:"Codice Fornitore",type:"text",placeholder:"Inserisci codice fornitore"},{name:"contact_person",label:"Persona di Contatto",type:"text",placeholder:"Inserisci nome persona di contatto"},{name:"status",label:"Stato",type:"select",required:!0,options:[{value:"active",label:"Attivo"},{value:"inactive",label:"Inattivo"},{value:"suspended",label:"Sospeso"}]}]},{title:"Contatti",fields:[{name:"address",label:"Indirizzo",type:"textarea",rows:3,placeholder:"Inserisci indirizzo completo"},{name:"phone",label:"Telefono",type:"text",placeholder:"Inserisci numero di telefono"},{name:"email",label:"Email",type:"text",placeholder:"Inserisci indirizzo email"}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Fornitore",editButtonText:"Aggiorna Fornitore",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione fornitore",editContext:"Aggiornamento fornitore",addErrorMessage:"Errore durante la creazione del fornitore",editErrorMessage:"Errore durante l'aggiornamento del fornitore"};return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(C_,{title:"Nuovo Fornitore",editTitle:"Modifica Fornitore",isEditMode:!!r,formConfig:f,initialData:r?{...r,active:String(r.active)}:{},onSubmit:u,onCancel:d,isLoading:r?o.isPending:s.isPending})}function Fq({inbound:e,onClose:t,onEdit:r}){const[n,a]=S.useState(!1),[i,s]=S.useState({ddt_number:e.ddt_number||"",product:e.product||"",quantity_kg:e.quantity_kg||"",silo_id:e.silo_id||"",lot_supplier:e.lot_supplier||"",lot_tf:e.lot_tf||"",cleaned:e.cleaned!==void 0?e.cleaned:!1,proteins:e.proteins||"",humidity:e.humidity||"",operator_name:e.operator_name||""});es(),wh();const{data:o}=jl(),{data:l}=zt({queryKey:["suppliers"],queryFn:async()=>{const{data:x,error:v}=await me.from("suppliers").select("id, name").eq("active",!0).order("name");if(v)throw v;return x}}),u=C4(),d=ot(),f=st({mutationFn:async x=>{console.log("About to update with data:",x);const{data:v,error:y}=await me.from("inbound").update(x).eq("id",e.id).select("*, silos(name)").single();if(y)throw console.error("Update error:",y),y;return console.log("Update successful"),v},onSuccess:()=>{d.invalidateQueries({queryKey:["inbound"]}),d.invalidateQueries({queryKey:["inbound","with-silos"]}),d.invalidateQueries({queryKey:["silos","withLevels"]}),a(!1),t&&t()}}),h=()=>{console.log("Saving formData:",i),console.log("lot_supplier value:",i.lot_supplier),console.log("Original inbound lot_supplier:",e.lot_supplier);const x={ddt_number:i.ddt_number||null,product:i.product||null,quantity_kg:i.quantity_kg?parseFloat(i.quantity_kg):null,silo_id:i.silo_id?parseInt(i.silo_id):null,lot_supplier:i.lot_supplier||null,lot_tf:i.lot_tf||null,cleaned:i.cleaned,proteins:i.proteins?parseFloat(i.proteins):null,humidity:i.humidity?parseFloat(i.humidity):null,operator_name:i.operator_name||null};console.log("Processed dataToSave:",x),f.mutate(x)},m=()=>{s({ddt_number:e.ddt_number||"",product:e.product||"",quantity_kg:e.quantity_kg||"",silo_id:e.silo_id||"",lot_supplier:e.lot_supplier||"",lot_tf:e.lot_tf||"",cleaned:e.cleaned!==void 0?e.cleaned:!1,proteins:e.proteins||"",humidity:e.humidity||"",operator_name:e.operator_name||""}),a(!1)},p=()=>{lo("Sei sicuro di voler eliminare questo movimento?")&&u.mutate(e.id,{onSuccess:()=>{t()}})},g=x=>{const v=o==null?void 0:o.find(y=>y.id===x);return v?v.name:"N/A"};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs(vt,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ae,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-4 w-4"}),"Back to List"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(g$,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Edit Inbound Movement":"Inbound Movement Details"}),c.jsx("p",{className:"text-muted-foreground",children:n?"Modify movement information":`Movement ${e.id}`})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[c.jsx(uo,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs(Ae,{size:"sm",onClick:()=>{console.log("Save button clicked"),h()},disabled:f.isPending,className:"flex items-center gap-2",children:[c.jsx($u,{className:"h-4 w-4"}),f.isPending?"Saving...":"Save"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>{console.log("Edit button clicked"),a(!0)},className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(Ae,{variant:"destructive",size:"sm",onClick:p,className:"flex items-center gap-2",children:[c.jsx(Pa,{className:"h-4 w-4"}),"Delete"]})]})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Movement Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"ddt_number",children:"DDT Number"}),n?c.jsx(Ke,{id:"ddt_number",value:i.ddt_number,onChange:x=>s(v=>({...v,ddt_number:x.target.value})),placeholder:"Inserisci numero DDT"}):c.jsx("p",{className:"text-foreground font-medium",children:e.ddt_number||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"product",children:"Prodotto"}),n?c.jsx(Ke,{id:"product",value:i.product,onChange:x=>s(v=>({...v,product:x.target.value})),placeholder:"Inserisci nome prodotto"}):c.jsx("p",{className:"text-foreground font-medium",children:e.product})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"quantity_kg",children:"Quantit (Kg)"}),n?c.jsx(Ke,{id:"quantity_kg",type:"number",value:i.quantity_kg,onChange:x=>s(v=>({...v,quantity_kg:x.target.value})),placeholder:"Inserisci quantit in kg"}):c.jsxs("p",{className:"text-foreground font-medium",children:[e.quantity_kg," kg"]})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"silo_id",children:"Silos"}),n?c.jsxs("select",{id:"silo_id",value:i.silo_id,onChange:x=>s(v=>({...v,silo_id:x.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[c.jsx("option",{value:"",children:"Seleziona silos"}),o==null?void 0:o.map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]}):c.jsx("p",{className:"text-foreground font-medium",children:g(e.silo_id)})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"fornitore",children:"Fornitore"}),n?c.jsxs("select",{id:"fornitore",value:i.lot_supplier,onChange:x=>{console.log("Fornitore changed to:",x.target.value),console.log("Previous formData:",i);const v={...i,lot_supplier:x.target.value};console.log("New formData:",v),s(v)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[c.jsx("option",{value:"",children:"Seleziona fornitore"}),l==null?void 0:l.map(x=>c.jsx("option",{value:x.name,children:x.name},x.id))]}):c.jsx("p",{className:"text-foreground font-medium",children:e.lot_supplier||"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"operator_name",children:"Operatore"}),n?c.jsx(Ke,{id:"operator_name",value:i.operator_name,onChange:x=>s(v=>({...v,operator_name:x.target.value})),placeholder:"Inserisci nome operatore"}):c.jsx("p",{className:"text-foreground font-medium",children:e.operator_name||"N/A"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Lot Information"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"lot_code",children:"Codice Lotto"}),n?c.jsx(Ke,{id:"lot_code",value:i.lot_tf,onChange:x=>s(v=>({...v,lot_tf:x.target.value})),placeholder:"Inserisci codice lotto"}):c.jsx("p",{className:"text-foreground font-medium",children:e.lot_tf||"N/A"})]})})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Quality Information"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"proteins",children:"Proteine (%)"}),n?c.jsx(Ke,{id:"proteins",type:"number",step:"0.1",value:i.proteins,onChange:x=>s(v=>({...v,proteins:x.target.value})),placeholder:"Inserisci percentuale proteine"}):c.jsx("p",{className:"text-foreground font-medium",children:e.proteins?`${e.proteins}%`:"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"humidity",children:"Umidit (%)"}),n?c.jsx(Ke,{id:"humidity",type:"number",step:"0.1",value:i.humidity,onChange:x=>s(v=>({...v,humidity:x.target.value})),placeholder:"Inserisci percentuale umidit"}):c.jsx("p",{className:"text-foreground font-medium",children:e.humidity?`${e.humidity}%`:"N/A"})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Pulizia"}),n?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:i.cleaned,onChange:x=>s(v=>({...v,cleaned:x.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),c.jsx("span",{className:"text-sm text-muted-foreground",children:i.cleaned?"Pulizia accettata":"Pulizia non accettata"})]}):c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.cleaned?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.cleaned?"Accettata":"Non Accettata"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ke,{children:"Data/Ora Movimento"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{children:[c.jsx(ke,{children:"Ultima Modifica"}),c.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})})]})})}function Lq(){const e=zr();S.useState(null);const[t,r]=S.useState(null),{data:n,isLoading:a}=zt({queryKey:[...Re.inbound,"with-silos"],queryFn:async()=>{const{data:v,error:y}=await me.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});if(y)throw y;return v}}),{data:i,isLoading:s}=es(),{data:o,isLoading:l}=wh(),u=C4(),d=ot(),f=st({mutationFn:async v=>{const{error:y}=await me.from("inbound").delete().in("id",v);if(y)throw y},onSuccess:()=>d.invalidateQueries([...Re.inbound,"with-silos"])}),h=v=>{r(v)},m=()=>{r(null)},p=v=>{e(`/merce-in/edit/${v.id}`)},g=v=>{u.mutate(v.id)},x=[{accessorKey:"id",header:"ID",cell:({getValue:v})=>`#${v()}`},{accessorKey:"created_at",header:"Data/Ora",cell:({getValue:v})=>new Date(v()).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{accessorKey:"product",header:"Prodotto"},{accessorKey:"quantity_kg",header:"Quantit (Kg)",cell:({getValue:v})=>`${v()} kg`},{accessorKey:"silos.name",header:"Silos",cell:({row:v})=>{var y;return((y=v.original.silos)==null?void 0:y.name)||"N/A"}},{accessorKey:"operator_name",header:"Operatore"},{accessorKey:"lot_supplier",header:"Fornitore"}];return a||s||l?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsx(gh,{title:"Lista Movimenti IN",entityName:"Movement",createButtonHref:"/merce-in/new",data:n||[],columns:x,onRowClick:h,onEditRow:p,onDeleteRow:g,enableFiltering:!0,filterableColumns:["product","operator_name","lot_supplier"],enableGlobalSearch:!1,onBulkDelete:v=>f.mutate(v),detailComponent:t&&c.jsx(Fq,{inbound:t,onClose:m})})}function DE(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1),[s,o]=S.useState(null),[l,u]=S.useState("");S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("inbound").select("*, silos(name)").eq("id",e).single().then(({data:b,error:D})=>{D?(console.error("Error fetching inbound data:",D),t("/merce-in/list")):(n(b),b.product&&o(b.product),b.quantity_kg&&u(String(b.quantity_kg))),i(!1)}))},[e,t]);const{data:d}=_h(),{data:f,isLoading:h,error:m}=es(),{data:p,isLoading:g,error:x}=wh(),{data:v}=zt({queryKey:["suppliers"],queryFn:async()=>{const{data:b,error:D}=await me.from("suppliers").select("id, name").eq("active",!0).order("name");if(D)throw D;return b}}),y=S.useMemo(()=>{if(!d||!s)return d||[];const b=f==null?void 0:f.find(R=>R.name===s);if(!b)return d;const D=parseFloat(l)||0;return d.filter(R=>{let z=!0;if(R.allowed_material_ids&&R.allowed_material_ids.length>0&&(z=R.allowed_material_ids.includes(b.id)),!z)return!1;if(D>0){const re=R.currentLevel||0;return(R.capacity_kg||0)-re>=D}return!0})},[d,s,f,l]),_=iq(),w=sq(),N=async b=>{if(console.log("MerceInPage handleSubmit called with:",b),console.log("lot_supplier value:",b.lot_supplier),b.silo_id==="no-silos"||b.silo_id==="select-product"){alert("Seleziona un silos valido");return}if(b.operator_name==="loading"){alert("Seleziona un operatore valido");return}const D={...b,silo_id:parseInt(b.silo_id),cleaned:b.cleaned==="true",updated_at:new Date().toISOString()};r?await w.mutateAsync({id:r.id,updates:D}):await _.mutateAsync(D),t("/merce-in/list")},U=b=>{N(b)},E=()=>{t("/merce-in/list")},k={product:(b,{setValue:D,getValues:R})=>c.jsxs("select",{id:b.name,className:"w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-navy-800 focus:border-transparent text-[10px]",value:R(b.name)||"",onChange:z=>{const re=z.target.value;D(b.name,re),o(re),D("silo_id","select-product")},required:b.required,children:[c.jsx("option",{value:"",children:"Seleziona prodotto"}),f==null?void 0:f.map(z=>c.jsxs("option",{value:z.name,children:[z.name," (",z.unit||"Kg",")"]},z.id))]}),quantity_kg:(b,{setValue:D,getValues:R})=>c.jsx("input",{id:b.name,type:"number",className:"w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-navy-800 focus:border-transparent text-[10px]",value:R(b.name)||"",onChange:z=>{const re=z.target.value;D(b.name,re),u(re),D("silo_id","select-product")},placeholder:b.placeholder,required:b.required})},T={sections:[{title:"Informazioni Generali",fields:[{name:"ddt_number",label:"Numero DDT",type:"number",required:!0,placeholder:"Inserisci numero DDT"},{name:"product",label:"Prodotto",type:"product",required:!0},{name:"quantity_kg",label:"Quantit (Kg)",type:"quantity_kg",required:!0,placeholder:"Inserisci quantit in kg"},{name:"lot_supplier",label:"Fornitore",type:"select",required:!0,options:(v==null?void 0:v.map(b=>({value:b.name,label:b.name})))||[]},{name:"silo_id",label:"Silos Destinazione",type:"select",required:!0,options:(y==null?void 0:y.length)>0?y.map(b=>{const D=b.currentLevel||0,R=b.capacity_kg||0,z=R-D,re=R>0?D/R*100:0;return{value:String(b.id),label:`${b.name} (${z.toFixed(0)}kg disponibili, ${re.toFixed(1)}% utilizzato)`}}):s?[{value:"no-silos",label:l?"Nessun silos con capacit sufficiente":"Nessun silos compatibile con questo materiale"}]:[{value:"select-product",label:"Seleziona prima un prodotto"}],placeholder:s?(y==null?void 0:y.length)>0?"Seleziona silos compatibile":"Nessun silos disponibile":"Seleziona prima un prodotto",disabled:s&&(y==null?void 0:y.length)===0,helpText:s?(y==null?void 0:y.length)>0?`${y.length} silos compatibili con "${s}"${l?` e con capacit sufficiente per ${l}kg`:""}`:l?`Nessun silos con capacit sufficiente per ${l}kg di "${s}"`:`Nessun silos configurato per accettare "${s}"`:"Seleziona un prodotto per vedere i silos compatibili"}]},{title:"Dettagli Lotto",fields:[{name:"lot_tf",label:"Lotto TF",type:"text",placeholder:"Inserisci lotto TF"}]},{title:"Controlli Qualit",fields:[{name:"cleaned",label:"Pulizia Merce",type:"select",required:!0,options:[{value:"true",label:"Accettata"},{value:"false",label:"Non Accettata"}]},{name:"proteins",label:"Proteine Prodotto (%)",type:"number",placeholder:"Inserisci percentuale proteine"},{name:"humidity",label:"Umidit Prodotto (%)",type:"number",placeholder:"Inserisci percentuale umidit"}]},{title:"Operatore",fields:[{name:"operator_name",label:"Nome Operatore",type:"select",required:!0,options:(p==null?void 0:p.length)>0?p.map(b=>({value:b.name,label:`${b.name}${b.code?` (${b.code})`:""}`})):[{value:"loading",label:"Caricamento operatori..."}]}]}],addButtonText:"Aggiungi Movimento",editButtonText:"Aggiorna Movimento",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione movimento merce in entrata",editContext:"Aggiornamento movimento merce in entrata",addErrorMessage:"Errore durante la creazione del movimento",editErrorMessage:"Errore durante l'aggiornamento del movimento"};return a||h||g?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:r?"Modifica Movimento Merce IN":"Nuovo Movimento Merce IN"})}),c.jsx(ph,{config:T,initialData:r?{...r,silo_id:String(r.silo_id),cleaned:String(r.cleaned)}:{},onSubmit:U,onCancel:E,isEditMode:!!r,isLoading:r?w.isPending:_.isPending,customFieldRenderers:k})]})}function Pq({outbound:e,onClose:t,onEdit:r}){var k,T;const[n,a]=S.useState(!1),[i,s]=S.useState({silo_id:e.silo_id||"",quantity_kg:e.quantity_kg||"",operator_name:e.operator_name||"",items:e.items||[],notes:e.notes||""}),{data:o}=jl(),{data:l}=_h(),u=A4(),d=ot(),f=e.batch_id||((T=(k=e.items)==null?void 0:k[0])==null?void 0:T.batch_id),{data:h}=zt({queryKey:["outbound","batch",f],queryFn:async()=>{if(!f)return null;let{data:b,error:D}=await me.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("batch_id",f).order("created_at",{ascending:!0});if(D||!b||b.length===0){const{data:R,error:z}=await me.from("outbound").select(`
            *,
            silos!inner(name)
          `).order("created_at",{ascending:!0});if(z)throw z;b=(R==null?void 0:R.filter(re=>!!(re.items&&re.items.length>0&&re.items[0].batch_id===f)))||[]}return b},enabled:!!f}),m=st({mutationFn:async b=>{const{error:D}=await me.from("outbound").update(b).eq("id",e.id);if(D)throw D},onSuccess:()=>{d.invalidateQueries({queryKey:Re.outbound}),d.invalidateQueries({queryKey:[...Re.outbound,"with-silos"]}),d.invalidateQueries({queryKey:Re.silosWithLevels}),a(!1)}}),p=()=>{m.mutate(i)},g=()=>{s({silo_id:e.silo_id||"",quantity_kg:e.quantity_kg||"",operator_name:e.operator_name||"",items:e.items||[],notes:e.notes||""}),a(!1)},x=()=>{lo("Sei sicuro di voler eliminare questo prelievo?")&&u.mutate(e.id,{onSuccess:()=>{t()}})},v=b=>{const D=o==null?void 0:o.find(R=>R.id===b);return D?D.name:"N/A"},y=b=>l==null?void 0:l.find(D=>D.id===b),_=()=>{s(b=>({...b,items:[...b.items,{material_name:"",quantity_kg:"",supplier_lot:"",tf_lot:"",protein_content:"",moisture_content:""}]}))},w=(b,D,R)=>{s(z=>({...z,items:z.items.map((re,ie)=>ie===b?{...re,[D]:R}:re)}))},N=b=>{s(D=>({...D,items:D.items.filter((R,z)=>z!==b)}))},U=b=>new Date(b).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),E=f&&h&&h.length>1;return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:c.jsx(x$,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-foreground",children:["Movimento #",e.id]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:v(e.silo_id)})]})]}),c.jsx(Ae,{variant:"ghost",size:"sm",onClick:t,children:""})]}),E&&c.jsxs("div",{className:"p-3 bg-primary/10 border-b flex items-center gap-2",children:[c.jsx(R_,{className:"h-4 w-4 text-primary"}),c.jsxs("span",{className:"text-sm",children:["Parte di una miscela con ",c.jsxs("strong",{children:[h.length," silos"]})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Informazioni Movimento"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Data/Ora"}),c.jsx("span",{className:"font-medium",children:U(e.created_at)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Silos"}),n?c.jsxs("select",{value:i.silo_id,onChange:b=>s(D=>({...D,silo_id:b.target.value})),className:"px-2 py-1 border border-input rounded-md bg-background text-foreground text-sm",children:[c.jsx("option",{value:"",children:"Seleziona"}),o==null?void 0:o.map(b=>c.jsx("option",{value:b.id,children:b.name},b.id))]}):c.jsx("span",{className:"font-medium",children:v(e.silo_id)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Quantit"}),n?c.jsx(Ke,{type:"number",value:i.quantity_kg,onChange:b=>s(D=>({...D,quantity_kg:b.target.value})),className:"w-24 h-7 text-sm"}):c.jsxs("span",{className:"font-bold text-primary",children:[e.quantity_kg," kg"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Operatore"}),n?c.jsx(Ke,{value:i.operator_name,onChange:b=>s(D=>({...D,operator_name:b.target.value})),className:"w-32 h-7 text-sm"}):c.jsx("span",{className:"font-medium",children:e.operator_name||"N/A"})]})]})]}),E&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Altri Silos nella Miscela"}),c.jsxs("div",{className:"space-y-2",children:[h.filter(b=>b.id!==e.id).map(b=>{var D;return c.jsxs("div",{className:"p-2 bg-muted/30 rounded-lg flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-sm",children:b.silos.name}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[((D=b.items)==null?void 0:D.length)||0," lotti"]})]}),c.jsxs("span",{className:"font-semibold",children:[b.quantity_kg," kg"]})]},b.id)}),c.jsxs("div",{className:"pt-2 border-t flex justify-between",children:[c.jsx("span",{className:"font-medium",children:"Totale Miscela"}),c.jsxs("span",{className:"font-bold text-primary",children:[h.reduce((b,D)=>b+D.quantity_kg,0).toFixed(2)," kg"]})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Dettaglio Lotti"}),n?c.jsxs("div",{className:"space-y-3",children:[i.items.map((b,D)=>c.jsxs("div",{className:"p-3 border border-border rounded-lg space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium text-sm",children:["Lotto ",D+1]}),c.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>N(D),children:c.jsx(uo,{className:"h-3 w-3"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs",children:"Materiale"}),c.jsx(Ke,{value:b.material_name,onChange:R=>w(D,"material_name",R.target.value),className:"h-7 text-sm"})]}),c.jsxs("div",{children:[c.jsx(ke,{className:"text-xs",children:"Quantit (Kg)"}),c.jsx(Ke,{type:"number",value:b.quantity_kg,onChange:R=>w(D,"quantity_kg",R.target.value),className:"h-7 text-sm"})]})]})]},D)),c.jsx(Ae,{variant:"outline",size:"sm",onClick:_,className:"w-full",children:"+ Aggiungi Lotto"})]}):c.jsx("div",{className:"space-y-2",children:e.items&&e.items.length>0?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-2 bg-primary/10 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{children:"Totale prelevato:"}),c.jsxs("span",{className:"font-bold text-primary",children:[e.items.reduce((b,D)=>b+(D.quantity_kg||0),0).toFixed(2)," kg"]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.items.length," lotto",e.items.length!==1?"i":""]})]}),e.items.map((b,D)=>c.jsxs("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"font-medium",children:b.material_name}),c.jsxs("span",{className:"font-semibold",children:[b.quantity_kg," kg"]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[b.supplier_lot&&c.jsxs("div",{children:["Lotto: ",b.supplier_lot]}),b.tf_lot&&c.jsxs("div",{children:["TF: ",b.tf_lot]}),(b.protein_content||b.moisture_content)&&c.jsxs("div",{children:[b.protein_content&&`Prot: ${b.protein_content}%`,b.protein_content&&b.moisture_content&&"  ",b.moisture_content&&`Um: ${b.moisture_content}%`]}),b.entry_date&&c.jsxs("div",{children:["Entrata: ",new Date(b.entry_date).toLocaleDateString("it-IT")]})]})]},D))]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Nessun dettaglio disponibile"})})]}),!n&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Stato Silos Attuale"}),(()=>{var R;const b=y(e.silo_id);if(!b)return c.jsx("p",{className:"text-sm text-muted-foreground",children:"Dati non disponibili"});const D=b.currentLevel/b.capacity_kg*100;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Livello"}),c.jsxs("span",{className:"font-medium",children:[((R=b.currentLevel)==null?void 0:R.toFixed(2))||0," / ",b.capacity_kg," kg"]})]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Math.min(100,D)}%`}})}),c.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[D.toFixed(1),"% utilizzato"]})]})})()]}),(e.notes||n)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Note"}),n?c.jsx("textarea",{value:i.notes,onChange:b=>s(D=>({...D,notes:b.target.value})),placeholder:"Aggiungi note...",rows:3,className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground text-sm"}):c.jsx("p",{className:"text-sm text-muted-foreground",children:e.notes||"Nessuna nota"})]}),!n&&c.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t space-y-1",children:[c.jsxs("div",{children:["Creato: ",U(e.created_at)]}),e.updated_at!==e.created_at&&c.jsxs("div",{children:["Modificato: ",U(e.updated_at)]})]})]}),c.jsx("div",{className:"p-4 border-t flex gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",className:"flex-1",onClick:g,children:[c.jsx(uo,{className:"h-4 w-4 mr-2"}),"Annulla"]}),c.jsxs(Ae,{className:"flex-1",onClick:p,disabled:m.isPending,children:[c.jsx($u,{className:"h-4 w-4 mr-2"}),m.isPending?"Salvando...":"Salva"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{variant:"outline",className:"flex-1",onClick:()=>a(!0),children:[c.jsx(co,{className:"h-4 w-4 mr-2"}),"Modifica"]}),c.jsxs(Ae,{variant:"destructive",className:"flex-1",onClick:x,disabled:u.isPending,children:[c.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Elimina"]})]})})]})}function Uq(){const e=zr(),[t,r]=S.useState(null),[n,a]=S.useState(null),[i,s]=S.useState({}),[o,l]=S.useState([]),{data:u,isLoading:d}=zt({queryKey:[...Re.outbound,"with-silos"],queryFn:async()=>{const{data:T,error:b}=await me.from("outbound").select(`
          *,
          silos!inner(name)
        `).order("created_at",{ascending:!1});if(b)throw b;return T}}),f=T=>T.batch_id?T.batch_id:T.items&&T.items.length>0&&T.items[0].batch_id?T.items[0].batch_id:null,h=S.useMemo(()=>{if(!u)return[];const T={},b=[];u.forEach(R=>{const z=f(R);z?(T[z]||(T[z]={batch_id:z,isBatch:!0,records:[],created_at:R.created_at,operator_name:R.operator_name,total_quantity:0,silo_names:[]}),T[z].records.push(R),T[z].total_quantity+=R.quantity_kg,T[z].silo_names.includes(R.silos.name)||T[z].silo_names.push(R.silos.name),new Date(R.created_at)<new Date(T[z].created_at)&&(T[z].created_at=R.created_at)):b.push({...R,isBatch:!1})}),Object.entries(T).forEach(([R,z])=>{z.records.length===1&&(b.push({...z.records[0],isBatch:!1}),delete T[R])});const D=[...Object.values(T),...b];return D.sort((R,z)=>new Date(z.created_at)-new Date(R.created_at)),D},[u]),m=A4(),p=N4(),g=ot(),x=st({mutationFn:async T=>{const{error:b}=await me.from("outbound").delete().in("id",T);if(b)throw b},onSuccess:()=>{g.invalidateQueries([...Re.outbound,"with-silos"]),l([])}}),v=T=>{s(b=>({...b,[T]:!b[T]}))},y=T=>{T.isBatch?(a(T),r(null)):(r(T),a(null))},_=()=>{r(null),a(null)},w=T=>{T.isBatch||e(`/merce-out/edit/${T.id}`)},N=T=>{T.isBatch?p.mutate(T.batch_id):m.mutate(T.id)},U=T=>{if(T.isBatch){const b=T.records.map(R=>R.id),D=b.every(R=>o.includes(R));l(D?R=>R.filter(z=>!b.includes(z)):R=>[...new Set([...R,...b])])}else l(b=>b.includes(T.id)?b.filter(D=>D!==T.id):[...b,T.id])},E=T=>T.isBatch?T.records.every(b=>o.includes(b.id)):o.includes(T.id),k=T=>new Date(T).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return d?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsxs("div",{className:"h-full flex flex-col p-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Lista Movimenti OUT"}),c.jsxs("div",{className:"flex gap-2",children:[o.length>0&&c.jsxs(Ae,{variant:"destructive",onClick:()=>x.mutate(o),disabled:x.isPending,children:[c.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Elimina (",o.length,")"]}),c.jsxs(Ae,{onClick:()=>e("/merce-out/new"),children:[c.jsx(b4,{className:"h-4 w-4 mr-2"}),"Nuovo Prelievo"]})]})]}),c.jsxs("div",{className:"flex gap-4 flex-1 overflow-hidden",children:[c.jsx(vt,{className:"flex-1 overflow-hidden flex flex-col",children:c.jsx("div",{className:"overflow-auto flex-1",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-muted/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 text-left w-10",children:c.jsx("input",{type:"checkbox",checked:h.length>0&&o.length===(u==null?void 0:u.length),onChange:()=>{o.length===(u==null?void 0:u.length)?l([]):l((u==null?void 0:u.map(T=>T.id))||[])},className:"rounded border-input"})}),c.jsx("th",{className:"p-3 text-left w-10"}),c.jsx("th",{className:"p-3 text-left",children:"ID"}),c.jsx("th",{className:"p-3 text-left",children:"Data/Ora"}),c.jsx("th",{className:"p-3 text-left",children:"Silos"}),c.jsx("th",{className:"p-3 text-left",children:"Quantit (Kg)"}),c.jsx("th",{className:"p-3 text-left",children:"Operatore"}),c.jsx("th",{className:"p-3 text-left",children:"Lotti"}),c.jsx("th",{className:"p-3 text-left w-24",children:"Azioni"})]})}),c.jsxs("tbody",{children:[h.map(T=>{var b,D,R;return c.jsxs(ce.Fragment,{children:[c.jsxs("tr",{className:`border-b hover:bg-muted/30 cursor-pointer ${T.isBatch?"bg-primary/5":""} ${(t==null?void 0:t.id)===T.id||(n==null?void 0:n.batch_id)===T.batch_id?"bg-primary/10":""}`,onClick:()=>y(T),children:[c.jsx("td",{className:"p-3",onClick:z=>z.stopPropagation(),children:c.jsx("input",{type:"checkbox",checked:E(T),onChange:()=>U(T),className:"rounded border-input"})}),c.jsx("td",{className:"p-3",onClick:z=>{z.stopPropagation(),T.isBatch&&v(T.batch_id)},children:T.isBatch&&c.jsx("button",{className:"p-1 hover:bg-muted rounded",children:i[T.batch_id]?c.jsx(Ey,{className:"h-4 w-4"}):c.jsx(E$,{className:"h-4 w-4"})})}),c.jsx("td",{className:"p-3",children:T.isBatch?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R_,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-primary font-medium",children:"Miscela"})]}):`#${T.id}`}),c.jsx("td",{className:"p-3",children:k(T.created_at)}),c.jsx("td",{className:"p-3",children:T.isBatch?c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium",children:[T.silo_names.length," silos"]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:T.silo_names.join(", ")})]}):(b=T.silos)==null?void 0:b.name}),c.jsxs("td",{className:"p-3 font-medium",children:[T.isBatch?T.total_quantity.toFixed(2):T.quantity_kg," kg"]}),c.jsx("td",{className:"p-3",children:T.operator_name}),c.jsx("td",{className:"p-3",children:T.isBatch?c.jsxs("span",{className:"text-sm text-muted-foreground",children:[T.records.reduce((z,re)=>{var ie;return z+(((ie=re.items)==null?void 0:ie.length)||0)},0)," lotti"]}):c.jsx("div",{className:"text-sm",children:((D=T.items)==null?void 0:D.length)===1?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"font-medium",children:T.items[0].material_name}),c.jsx("div",{className:"text-muted-foreground",children:T.items[0].supplier_lot||T.items[0].tf_lot||"Senza lotto"})]}):((R=T.items)==null?void 0:R.length)>1?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-medium",children:[T.items.length," lotti"]}),c.jsx("div",{className:"text-muted-foreground",children:T.items.map(z=>z.material_name).filter((z,re,ie)=>ie.indexOf(z)===re).join(", ")})]}):c.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),c.jsx("td",{className:"p-3",onClick:z=>z.stopPropagation(),children:c.jsxs("div",{className:"flex gap-1",children:[!T.isBatch&&c.jsx(Ae,{size:"sm",variant:"ghost",onClick:()=>w(T),children:c.jsx(co,{className:"h-4 w-4"})}),c.jsx(Ae,{size:"sm",variant:"ghost",onClick:()=>N(T),disabled:m.isPending||p.isPending,children:c.jsx(Pa,{className:"h-4 w-4 text-destructive"})})]})})]}),T.isBatch&&i[T.batch_id]&&T.records.map(z=>{var re,ie,O;return c.jsxs("tr",{className:"border-b bg-muted/20 hover:bg-muted/40 cursor-pointer",onClick:()=>{r(z),a(null)},children:[c.jsx("td",{className:"p-3 pl-6",onClick:Q=>Q.stopPropagation(),children:c.jsx("input",{type:"checkbox",checked:o.includes(z.id),onChange:()=>U(z),className:"rounded border-input"})}),c.jsx("td",{className:"p-3"}),c.jsxs("td",{className:"p-3 text-muted-foreground",children:["#",z.id]}),c.jsx("td",{className:"p-3 text-muted-foreground",children:k(z.created_at)}),c.jsx("td",{className:"p-3",children:(re=z.silos)==null?void 0:re.name}),c.jsxs("td",{className:"p-3",children:[z.quantity_kg," kg"]}),c.jsx("td",{className:"p-3 text-muted-foreground",children:z.operator_name}),c.jsx("td",{className:"p-3",children:c.jsx("div",{className:"text-sm",children:((ie=z.items)==null?void 0:ie.length)===1?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"font-medium",children:z.items[0].material_name}),c.jsx("div",{className:"text-muted-foreground",children:z.items[0].supplier_lot||z.items[0].tf_lot||"Senza lotto"})]}):((O=z.items)==null?void 0:O.length)>1?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"font-medium",children:[z.items.length," lotti"]})}):c.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),c.jsx("td",{className:"p-3",onClick:Q=>Q.stopPropagation(),children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Ae,{size:"sm",variant:"ghost",onClick:()=>e(`/merce-out/edit/${z.id}`),children:c.jsx(co,{className:"h-4 w-4"})}),c.jsx(Ae,{size:"sm",variant:"ghost",onClick:()=>m.mutate(z.id),disabled:m.isPending,children:c.jsx(Pa,{className:"h-4 w-4 text-destructive"})})]})})]},z.id)})]},T.isBatch?T.batch_id:T.id)}),h.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:9,className:"p-8 text-center text-muted-foreground",children:"Nessun movimento OUT registrato"})})]})]})})}),(t||n)&&c.jsx(vt,{className:"w-96 flex-shrink-0 overflow-hidden",children:n?c.jsx(Bq,{batch:n,onClose:_}):c.jsx(Pq,{outbound:t,onClose:_})})]})]})}function Bq({batch:e,onClose:t}){const r=N4(),n=a=>new Date(a).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R_,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"font-semibold",children:"Dettaglio Miscela"})]}),c.jsx(Ae,{variant:"ghost",size:"sm",onClick:t,children:""})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Data/Ora"}),c.jsx("span",{className:"font-medium",children:n(e.created_at)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Operatore"}),c.jsx("span",{className:"font-medium",children:e.operator_name})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Silos Coinvolti"}),c.jsx("span",{className:"font-medium",children:e.silo_names.length})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Quantit Totale"}),c.jsxs("span",{className:"font-bold text-lg text-primary",children:[e.total_quantity.toFixed(2)," kg"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Composizione Miscela"}),c.jsx("div",{className:"space-y-3",children:e.records.map(a=>c.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:"font-medium",children:a.silos.name}),c.jsxs("span",{className:"font-semibold",children:[a.quantity_kg," kg"]})]}),a.items&&a.items.length>0&&c.jsx("div",{className:"space-y-1",children:a.items.map((i,s)=>c.jsxs("div",{className:"text-sm text-muted-foreground flex justify-between",children:[c.jsxs("span",{children:[i.material_name,i.supplier_lot&&` (${i.supplier_lot})`]}),c.jsxs("span",{children:[i.quantity_kg," kg"]})]},s))})]},a.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Percentuali"}),c.jsx("div",{className:"space-y-2",children:e.records.map(a=>{const i=(a.quantity_kg/e.total_quantity*100).toFixed(1);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsx("span",{children:a.silos.name}),c.jsxs("span",{children:[i,"%"]})]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${i}%`}})})]},a.id)})})]})]}),c.jsx("div",{className:"p-4 border-t",children:c.jsxs(Ae,{variant:"destructive",className:"w-full",onClick:()=>r.mutate(e.batch_id),disabled:r.isPending,children:[c.jsx(Pa,{className:"h-4 w-4 mr-2"}),r.isPending?"Eliminando...":"Elimina Miscela"]})})]})}function ME(){const{id:e}=ku(),t=zr(),[r,n]=S.useState(null),[a,i]=S.useState(!1),[s,o]=S.useState([]),[l,u]=S.useState(""),[d,f]=S.useState([]),[h,m]=S.useState({}),[p,g]=S.useState(!1);S.useEffect(()=>{e&&e!=="new"&&(i(!0),me.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("id",e).single().then(({data:M,error:K})=>{K?(console.error("Error fetching outbound data:",K),t("/merce-out/list")):(n(M),o([M.silo_id]),u(M.operator_name||"")),i(!1)}))},[e,t]),jl();const{data:x}=_h(),{data:v}=wh(),y=S.useMemo(()=>x?x.filter(M=>M.currentLevel>0&&M.availableItems&&M.availableItems.length>0):[],[x]),_=S.useMemo(()=>{if(!x||s.length===0)return{};const M={};return s.forEach(K=>{const J=x.find(Y=>Y.id===K);J&&J.availableItems&&J.availableItems.length>0&&(M[K]={siloName:J.name,currentLevel:J.currentLevel,items:J.availableItems.map(Y=>({...Y,silo_id:K,silo_name:J.name}))})}),M},[x,s]);S.useEffect(()=>{const M={};s.forEach(K=>{M[K]=!0}),m(M)},[s]);const w=oq(),N=cq(),U=lq(),E=async()=>{try{if(s.length===0)throw new Error("Seleziona almeno un silos");if(!l)throw new Error("Seleziona un operatore");if(d.length===0)throw new Error("Seleziona almeno un lotto da prelevare");for(const Y of d){if(!Y.withdrawQuantity||Y.withdrawQuantity<=0)throw new Error(`Inserisci una quantit valida per il lotto ${Y.lot_supplier||Y.lot_tf||"senza nome"}`);if(Y.withdrawQuantity>Y.available_quantity)throw new Error(`Quantit richiesta (${Y.withdrawQuantity}kg) supera quella disponibile (${Y.available_quantity}kg) per il lotto ${Y.lot_supplier||Y.lot_tf||"senza nome"}`)}const M={};d.forEach(Y=>{const P=Y.silo_id;M[P]||(M[P]=[]),M[P].push(Y)});const K=Object.keys(M),J=K.length>1;if(r){const Y=d.reduce((I,L)=>I+parseFloat(L.withdrawQuantity),0),P=d.map(I=>({inbound_id:I.id,quantity_kg:parseFloat(I.withdrawQuantity),material_name:I.product,supplier_lot:I.lot_supplier,tf_lot:I.lot_tf,protein_content:I.proteins,moisture_content:I.humidity,cleaning_status:I.cleaned,entry_date:I.created_at.split("T")[0]})),H={silo_id:r.silo_id,quantity_kg:Y,operator_name:l,items:P,updated_at:new Date().toISOString()};await U.mutateAsync({id:r.id,updates:H})}else if(J){const Y=crypto.randomUUID(),P=K.map(H=>{const I=M[H],L=I.reduce((se,fe)=>se+parseFloat(fe.withdrawQuantity),0),W=I.map(se=>({inbound_id:se.id,quantity_kg:parseFloat(se.withdrawQuantity),material_name:se.product,supplier_lot:se.lot_supplier,tf_lot:se.lot_tf,protein_content:se.proteins,moisture_content:se.humidity,cleaning_status:se.cleaned,entry_date:se.created_at.split("T")[0]}));return{silo_id:parseInt(H),quantity_kg:L,items:W}});await N.mutateAsync({siloWithdrawals:P,operatorName:l,batchId:Y})}else{const Y=K[0],P=M[Y],H=P.reduce((W,se)=>W+parseFloat(se.withdrawQuantity),0),I=P.map(W=>({inbound_id:W.id,quantity_kg:parseFloat(W.withdrawQuantity),material_name:W.product,supplier_lot:W.lot_supplier,tf_lot:W.lot_tf,protein_content:W.proteins,moisture_content:W.humidity,cleaning_status:W.cleaned,entry_date:W.created_at.split("T")[0]})),L={silo_id:parseInt(Y),quantity_kg:H,operator_name:l,items:I,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await w.mutateAsync(L)}t("/merce-out/list")}catch(M){throw console.error("Error submitting outbound:",M),M}},k=()=>{t("/merce-out/list")},T=M=>{r||o(K=>K.includes(M)?(f(J=>J.filter(Y=>Y.silo_id!==M)),K.filter(J=>J!==M)):[...K,M])},b=M=>{m(K=>({...K,[M]:!K[M]}))},D=M=>{d.find(K=>K.id===M.id)||f(K=>[...K,{...M,withdrawQuantity:""}])},R=M=>{f(K=>K.filter(J=>J.id!==M))},z=(M,K)=>{f(J=>J.map(Y=>Y.id===M?{...Y,withdrawQuantity:K}:Y))},re=()=>d.reduce((M,K)=>{const J=parseFloat(K.withdrawQuantity)||0;return M+J},0),ie=()=>new Set(d.map(K=>K.silo_id)).size,O=S.useMemo(()=>{const M={};return d.forEach(K=>{M[K.silo_id]||(M[K.silo_id]={siloName:K.silo_name,lots:[]}),M[K.silo_id].lots.push(K)}),M},[d]),Q=w.isPending||N.isPending||U.isPending;return a?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsxs("div",{className:"h-full flex flex-col p-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Modifica Prelievo Merce OUT":"Nuovo Prelievo Merce OUT (Miscela)"}),c.jsx(Ae,{variant:"outline",onClick:k,children:"Annulla"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 flex-1 overflow-hidden",children:[c.jsxs(vt,{className:"p-4 flex flex-col",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Informazioni Prelievo"}),c.jsxs("div",{className:"space-y-4 flex-1",children:[c.jsxs("div",{children:[c.jsxs(ke,{htmlFor:"silo_ids",children:["Silos di Prelievo ",!r&&"(seleziona multipli per miscela)"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>!r&&g(!p),disabled:r,className:`w-full px-3 py-2 border border-input rounded-md bg-background text-foreground text-left flex justify-between items-center ${r?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[c.jsx("span",{className:s.length===0?"text-muted-foreground":"",children:s.length===0?"Seleziona silos...":`${s.length} silos selezionati`}),c.jsx(Ey,{className:`h-4 w-4 transition-transform ${p?"rotate-180":""}`})]}),p&&!r&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border border-input rounded-md shadow-lg max-h-60 overflow-y-auto",children:y.length===0?c.jsx("div",{className:"p-3 text-muted-foreground text-sm",children:"Nessun silos con stock disponibile"}):y.map(M=>{var K;return c.jsxs("div",{onClick:()=>T(M.id),className:`p-3 cursor-pointer hover:bg-muted/50 flex justify-between items-center ${s.includes(M.id)?"bg-primary/10":""}`,children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:M.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Disponibile: ",(K=M.currentLevel)==null?void 0:K.toFixed(2)," kg"]})]}),s.includes(M.id)&&c.jsx("div",{className:"h-5 w-5 rounded-full bg-primary flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground text-xs",children:""})})]},M.id)})})]}),s.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.map(M=>{const K=y.find(J=>J.id===M);return K?c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-md text-sm",children:[K.name,!r&&c.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),T(M)},className:"hover:bg-primary/20 rounded-full p-0.5",children:c.jsx(uo,{className:"h-3 w-3"})})]},M):null})})]}),c.jsxs("div",{children:[c.jsx(ke,{htmlFor:"operator_name",children:"Operatore"}),c.jsxs("select",{id:"operator_name",value:l,onChange:M=>u(M.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[c.jsx("option",{value:"",children:"Seleziona operatore"}),v==null?void 0:v.map(M=>c.jsxs("option",{value:M.name,children:[M.name,M.code?` (${M.code})`:""]},M.id))]})]}),d.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ke,{children:"Silos Coinvolti"}),c.jsx("span",{className:"font-semibold",children:ie()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ke,{children:"Lotti Selezionati"}),c.jsx("span",{className:"font-semibold",children:d.length})]}),c.jsxs("div",{className:"flex justify-between border-t pt-2",children:[c.jsx(ke,{children:"Quantit Totale"}),c.jsxs("span",{className:"text-lg font-bold text-primary",children:[re().toFixed(2)," kg"]})]})]}),c.jsx(Ae,{onClick:E,disabled:s.length===0||!l||d.length===0||Q,className:"w-full",children:Q?"Registrando...":ie()>1?`Registra Miscela (${ie()} silos)`:"Registra Prelievo"})]})]}),c.jsxs(vt,{className:"p-4 flex flex-col overflow-hidden",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Selezione Lotti"}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:s.length===0?c.jsx("p",{className:"text-muted-foreground",children:"Seleziona uno o pi silos per vedere i lotti disponibili"}):Object.keys(_).length===0?c.jsx("p",{className:"text-muted-foreground",children:"Nessun lotto disponibile nei silos selezionati"}):c.jsxs("div",{className:"space-y-4",children:[Object.entries(_).map(([M,K])=>{var J;return c.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>b(parseInt(M)),className:"w-full p-3 bg-muted/30 flex justify-between items-center hover:bg-muted/50",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:K.siloName}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.items.length," lotti  ",(J=K.currentLevel)==null?void 0:J.toFixed(2)," kg disponibili"]})]}),h[parseInt(M)]?c.jsx(C$,{className:"h-4 w-4"}):c.jsx(Ey,{className:"h-4 w-4"})]}),h[parseInt(M)]&&c.jsx("div",{className:"p-2 space-y-2",children:K.items.map(Y=>{const P=d.find(H=>H.id===Y.id);return c.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${P?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>D(Y),children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-foreground",children:Y.product}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.lot_supplier&&`Lotto Fornitore: ${Y.lot_supplier}`,Y.lot_supplier&&Y.lot_tf&&"  ",Y.lot_tf&&`Lotto TF: ${Y.lot_tf}`]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Disponibile: ",c.jsxs("span",{className:"font-medium",children:[Y.available_quantity," kg"]})]}),(Y.proteins||Y.humidity)&&c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[Y.proteins&&`Proteine: ${Y.proteins}%`,Y.proteins&&Y.humidity&&"  ",Y.humidity&&`Umidit: ${Y.humidity}%`]})]}),c.jsx(Ae,{size:"sm",variant:P?"default":"outline",onClick:H=>{H.stopPropagation(),D(Y)},children:c.jsx(b4,{className:"h-4 w-4"})})]})},Y.id)})})]},M)}),d.length>0&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("h3",{className:"font-medium mb-2",children:["Lotti Selezionati (",d.length,")"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(O).map(([M,{siloName:K,lots:J}])=>c.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[c.jsx("div",{className:"font-medium text-sm text-primary mb-2",children:K}),c.jsx("div",{className:"space-y-2",children:J.map(Y=>c.jsxs("div",{className:"p-2 bg-background rounded border",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm text-foreground",children:Y.product}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[Y.lot_supplier&&`${Y.lot_supplier}`,Y.lot_supplier&&Y.lot_tf&&"  ",Y.lot_tf&&`${Y.lot_tf}`]})]}),c.jsx(Ae,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>R(Y.id),children:c.jsx(Pa,{className:"h-3 w-3 text-destructive"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ke,{htmlFor:`quantity-${Y.id}`,className:"text-xs whitespace-nowrap",children:"Kg:"}),c.jsx(Ke,{id:`quantity-${Y.id}`,type:"number",step:"0.1",min:"0",max:Y.available_quantity,value:Y.withdrawQuantity,onChange:P=>z(Y.id,P.target.value),placeholder:"0",className:"w-20 h-7 text-sm"}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",Y.available_quantity]})]})]},Y.id))})]},M))})]})]})})]})]}),p&&c.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>g(!1)})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Bm={};Bm.version="0.18.5";var D4=1252,zq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],M4=function(e){zq.indexOf(e)!=-1&&(D4=e)};function $q(){M4(1252)}var wf=function(e){M4(e)};function qq(){wf(1200),$q()}function Vq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var x0=function(t){return String.fromCharCode(t)},IE=function(t){return String.fromCharCode(t)},Uo,$s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bf(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=$s.charAt(i)+$s.charAt(s)+$s.charAt(o)+$s.charAt(l);return t}function Xi(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=$s.indexOf(e.charAt(u++)),s=$s.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=$s.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=$s.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var ut=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ts=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function yl(e){return ut?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function FE(e){return ut?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ia=function(t){return ut?ts(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function zg(e){if(typeof ArrayBuffer>"u")return Ia(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function bh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Hq(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ir=ut?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ts(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Gq(e){for(var t=[],r=0,n=e.length+250,a=yl(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=yl(65535),n=65530)}return t.push(a.slice(0,r)),Ir(t)}var zd=/\u0000/g,y0=/[\u0001-\u0006]/g;function kc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Fa(e,t){var r=""+e;return r.length>=t?r:Kt("0",t-r.length)+r}function N_(e,t){var r=""+e;return r.length>=t?r:Kt(" ",t-r.length)+r}function zm(e,t){var r=""+e;return r.length>=t?r:r+Kt(" ",t-r.length)}function Kq(e,t){var r=""+Math.round(e);return r.length>=t?r:Kt("0",t-r.length)+r}function Wq(e,t){var r=""+e;return r.length>=t?r:Kt("0",t-r.length)+r}var LE=Math.pow(2,32);function Xl(e,t){if(e>LE||e<-LE)return Kq(e,t);var r=Math.round(e);return Wq(r,t)}function $m(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var PE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],mv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Qq(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Qt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},UE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Yq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qm(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function _0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=nV(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var I4=new Date(1899,11,31,0,0,0),Xq=I4.getTime(),Zq=new Date(1900,2,1,0,0,0);function F4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Zq&&(r+=24*60*60*1e3),(r-(Xq+(e.getTimezoneOffset()-I4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function O_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jq(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function eV(e){var t=e<0?12:11,r=O_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function tV(e){var t=O_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function rV(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=eV(e):t===10?r=e.toFixed(10).substr(0,12):r=tV(e),O_(Jq(r.toUpperCase()))}function Ty(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):rV(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fo(14,F4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function nV(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function aV(e,t,r,n){var a="",i=0,s=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return mv[r.m-1][1];case 5:return mv[r.m-1][0];default:return mv[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return PE[r.q][0];default:return PE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Fa(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Fa(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Fa(l,u):"";return d}function qs(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var L4=/%/g;function iV(e,t,r){var n=t.replace(L4,""),a=t.length-n.length;return zi(e,n,r*Math.pow(10,2*a))+Kt("%",a)}function sV(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function P4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+P4(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var U4=/# (\?+)( ?)\/( ?)(\d+)/;function oV(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Kt(" ",e[1].length+1+e[4].length):N_(s,e[1].length)+e[2]+"/"+e[3]+Fa(o,e[4].length))}function lV(e,t,r){return r+(t===0?"":""+t)+Kt(" ",e[1].length+2+e[4].length)}var B4=/^#*0*\.([0#]+)/,z4=/\).*[0#]/,$4=/\(###\) ###\\?-####/;function en(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function BE(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function zE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function cV(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function uV(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ea(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ea("n",n,r):"("+ea("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sV(e,t,r);if(t.indexOf("%")!==-1)return iV(e,t,r);if(t.indexOf("E")!==-1)return P4(t,r);if(t.charCodeAt(0)===36)return"$"+ea(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Xl(l,t.length);if(t.match(/^[#?]+$/))return a=Xl(r,0),a==="0"&&(a=""),a.length>t.length?a:en(t.substr(0,t.length-a.length))+a;if(i=t.match(U4))return oV(i,l,u);if(t.match(/^#+0+$/))return u+Xl(l,t.length-t.indexOf("0"));if(i=t.match(B4))return a=BE(r,i[1].length).replace(/^([^\.]+)$/,"$1."+en(i[1])).replace(/\.$/,"."+en(i[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Kt("0",en(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+BE(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+qs(Xl(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ea(e,t,-r):qs(""+(Math.floor(r)+cV(r,i[1].length)))+"."+Fa(zE(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ea(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kc(ea(e,t.replace(/[\\-]/g,""),r)),s=0,kc(kc(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match($4))return a=ea(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=qm(l,Math.pow(10,s)-1,!1),a=""+u,d=zi("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=zm(o[2],s),d.length<i[4].length&&(d=en(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=qm(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?N_(o[1],s)+i[2]+"/"+i[3]+zm(o[2],s):Kt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Xl(r,0),t.length<=a.length?a:en(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return en(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=zE(r,i[1].length),r<0?"-"+ea(e,t,-r):qs(uV(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fa(0,3-p.length):"")+p})+"."+Fa(s,i[1].length);switch(t){case"###,##0.00":return ea(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=qs(Xl(l,0));return m!=="0"?u+m:"";case"###,###.00":return ea(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ea(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function dV(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function fV(e,t,r){var n=t.replace(L4,""),a=t.length-n.length;return zi(e,n,r*Math.pow(10,2*a))+Kt("%",a)}function q4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+q4(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ha(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ha("n",n,r):"("+Ha("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return dV(e,t,r);if(t.indexOf("%")!==-1)return fV(e,t,r);if(t.indexOf("E")!==-1)return q4(t,r);if(t.charCodeAt(0)===36)return"$"+Ha(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Fa(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:en(t.substr(0,t.length-a.length))+a;if(i=t.match(U4))return lV(i,l,u);if(t.match(/^#+0+$/))return u+Fa(l,t.length-t.indexOf("0"));if(i=t.match(B4))return a=(""+r).replace(/^([^\.]+)$/,"$1."+en(i[1])).replace(/\.$/,"."+en(i[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+Kt("0",en(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+qs(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ha(e,t,-r):qs(""+r)+"."+Kt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ha(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kc(Ha(e,t.replace(/[\\-]/g,""),r)),s=0,kc(kc(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match($4))return a=Ha(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=qm(l,Math.pow(10,s)-1,!1),a=""+u,d=zi("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=zm(o[2],s),d.length<i[4].length&&(d=en(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=qm(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?N_(o[1],s)+i[2]+"/"+i[3]+zm(o[2],s):Kt(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:en(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return en(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ha(e,t,-r):qs(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fa(0,3-p.length):"")+p})+"."+Fa(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=qs(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Ha(e,t.slice(0,t.lastIndexOf(".")),r)+en(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zi(e,t,r){return(r|0)===r?Ha(e,t,r):ea(e,t,r)}function hV(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var V4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function H4(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":$m(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(V4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function mV(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!$m(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=_0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=_0(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=_0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",s+=5,h="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(V4)){if(u==null&&(u=_0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",H4(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,v=0,y;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",x<1&&(x=1);break;case"s":(y=a[s].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",w;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=aV(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(w=s+1;a[w]!=null&&((o=a[w].t)==="?"||o==="D"||(o===" "||o==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[s].v+=a[w].v,a[w]={v:"",t:";"},++w;_+=a[s].v,s=w-1;break;case"G":a[s].t="t",a[s].v=Ty(t,r);break}var N="",U,E;if(_.length>0){_.charCodeAt(0)==40?(U=t<0&&_.charCodeAt(0)===45?-t:t,E=zi("n",_,U)):(U=t<0&&n>1?-t:t,E=zi("n",_,U),U<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),w=E.length-1;var k=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){k=s;break}var T=a.length;if(k===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(w>=a[s].v.length-1?(w-=a[s].v.length,a[s].v=E.substr(w+1,a[s].v.length)):w<0?a[s].v="":(a[s].v=E.substr(0,w+1),w=-1),a[s].t="t",T=s);w>=0&&T<a.length&&(a[T].v=E.substr(0,w+1)+a[T].v)}else if(k!==a.length&&E.indexOf("E")===-1){for(w=E.indexOf(".")-1,s=k;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===k?a[s].v.indexOf(".")-1:a[s].v.length-1,N=a[s].v.substr(d+1);d>=0;--d)w>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(N=E.charAt(w--)+N);a[s].v=N,a[s].t="t",T=s}for(w>=0&&T<a.length&&(a[T].v=E.substr(0,w+1)+a[T].v),w=E.indexOf(".")+1,s=k;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==k)){for(d=a[s].v.indexOf(".")>-1&&s===k?a[s].v.indexOf(".")+1:0,N=a[s].v.substr(0,d);d<a[s].v.length;++d)w<E.length&&(N+=E.charAt(w++));a[s].v=N,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(U=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=zi(a[s].t,a[s].v,U),a[s].t="t");var b="";for(s=0;s!==a.length;++s)a[s]!=null&&(b+=a[s].v);return b}var $E=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function gV(e,t){var r=hV(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match($E),o=r[1].match($E);return qE(t,s)?[n,r[0]]:qE(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function fo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qt)[e],n==null&&(n=r.table&&r.table[UE[e]]||Qt[UE[e]]),n==null&&(n=Yq[e]||"General");break}if($m(n,0))return Ty(t,r);t instanceof Date&&(t=F4(t,r.date1904));var a=gV(n,t);if($m(a[1]))return Ty(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return mV(a[1],t,r,a[0])}function G4(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Qt[r]==null){t<0&&(t=r);continue}if(Qt[r]==e){t=r;break}}t<0&&(t=391)}return Qt[t]=e,t}function $g(e){for(var t=0;t!=392;++t)e[t]!==void 0&&G4(e[t],t)}function qg(){Qt=Qq()}var K4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pV(e){var t=typeof e=="number"?Qt[e]:e;return t=t.replace(K4,"(\\d+)"),new RegExp("^"+t+"$")}function vV(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(K4)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var xV=function(){var e={};e.version="1.2.0";function t(){for(var E=0,k=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,k[T]=E;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(E){var k=0,T=0,b=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(b=0;b!=256;++b)D[b]=E[b];for(b=0;b!=256;++b)for(T=E[b],k=256+b;k<4096;k+=256)T=D[k]=T>>>8^E[T&255];var R=[];for(b=1;b!=16;++b)R[b-1]=typeof Int32Array<"u"?D.subarray(b*256,b*256+256):D.slice(b*256,b*256+256);return R}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],x=a[11],v=a[12],y=a[13],_=a[14];function w(E,k){for(var T=k^-1,b=0,D=E.length;b<D;)T=T>>>8^r[(T^E.charCodeAt(b++))&255];return~T}function N(E,k){for(var T=k^-1,b=E.length-15,D=0;D<b;)T=_[E[D++]^T&255]^y[E[D++]^T>>8&255]^v[E[D++]^T>>16&255]^x[E[D++]^T>>>24]^g[E[D++]]^p[E[D++]]^m[E[D++]]^h[E[D++]]^f[E[D++]]^d[E[D++]]^u[E[D++]]^l[E[D++]]^o[E[D++]]^s[E[D++]]^i[E[D++]]^r[E[D++]];for(b+=15;D<b;)T=T>>>8^r[(T^E[D++])&255];return~T}function U(E,k){for(var T=k^-1,b=0,D=E.length,R=0,z=0;b<D;)R=E.charCodeAt(b++),R<128?T=T>>>8^r[(T^R)&255]:R<2048?(T=T>>>8^r[(T^(192|R>>6&31))&255],T=T>>>8^r[(T^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,z=E.charCodeAt(b++)&1023,T=T>>>8^r[(T^(240|R>>8&7))&255],T=T>>>8^r[(T^(128|R>>2&63))&255],T=T>>>8^r[(T^(128|z>>6&15|(R&3)<<4))&255],T=T>>>8^r[(T^(128|z&63))&255]):(T=T>>>8^r[(T^(224|R>>12&15))&255],T=T>>>8^r[(T^(128|R>>6&63))&255],T=T>>>8^r[(T^(128|R&63))&255]);return~T}return e.table=r,e.bstr=w,e.buf=N,e.str=U,e}(),St=function(){var t={};t.version="1.2.1";function r(C,B){for(var j=C.split("/"),F=B.split("/"),q=0,V=0,ee=Math.min(j.length,F.length);q<ee;++q){if(V=j[q].length-F[q].length)return V;if(j[q]!=F[q])return j[q]<F[q]?-1:1}return j.length-F.length}function n(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:n(C.slice(0,-1));var B=C.lastIndexOf("/");return B===-1?C:C.slice(0,B+1)}function a(C){if(C.charAt(C.length-1)=="/")return a(C.slice(0,-1));var B=C.lastIndexOf("/");return B===-1?C:C.slice(B+1)}function i(C,B){typeof B=="string"&&(B=new Date(B));var j=B.getHours();j=j<<6|B.getMinutes(),j=j<<5|B.getSeconds()>>>1,C.write_shift(2,j);var F=B.getFullYear()-1980;F=F<<4|B.getMonth()+1,F=F<<5|B.getDate(),C.write_shift(2,F)}function s(C){var B=C.read_shift(2)&65535,j=C.read_shift(2)&65535,F=new Date,q=j&31;j>>>=5;var V=j&15;j>>>=4,F.setMilliseconds(0),F.setFullYear(j+1980),F.setMonth(V-1),F.setDate(q);var ee=B&31;B>>>=5;var le=B&63;return B>>>=6,F.setHours(B),F.setMinutes(le),F.setSeconds(ee<<1),F}function o(C){Mn(C,0);for(var B={},j=0;C.l<=C.length-4;){var F=C.read_shift(2),q=C.read_shift(2),V=C.l+q,ee={};switch(F){case 21589:j=C.read_shift(1),j&1&&(ee.mtime=C.read_shift(4)),q>5&&(j&2&&(ee.atime=C.read_shift(4)),j&4&&(ee.ctime=C.read_shift(4))),ee.mtime&&(ee.mt=new Date(ee.mtime*1e3));break}C.l=V,B[F]=ee}return B}var l;function u(){return l||(l={})}function d(C,B){if(C[0]==80&&C[1]==75)return Ah(C,B);if((C[0]|32)==109&&(C[1]|32)==105)return dr(C,B);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var j=3,F=512,q=0,V=0,ee=0,le=0,Z=0,te=[],ne=C.slice(0,512);Mn(ne,0);var xe=f(ne);switch(j=xe[0],j){case 3:F=512;break;case 4:F=4096;break;case 0:if(xe[1]==0)return Ah(C,B);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}F!==512&&(ne=C.slice(0,F),Mn(ne,28));var Ce=C.slice(0,F);h(ne,j);var je=ne.read_shift(4,"i");if(j===3&&je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+je);ne.l+=4,ee=ne.read_shift(4,"i"),ne.l+=4,ne.chk("00100000","Mini Stream Cutoff Size: "),le=ne.read_shift(4,"i"),q=ne.read_shift(4,"i"),Z=ne.read_shift(4,"i"),V=ne.read_shift(4,"i");for(var we=-1,Oe=0;Oe<109&&(we=ne.read_shift(4,"i"),!(we<0));++Oe)te[Oe]=we;var He=m(C,F);x(Z,V,He,F,te);var $t=y(He,ee,te,F);$t[ee].name="!Directory",q>0&&le!==z&&($t[le].name="!MiniFAT"),$t[te[0]].name="!FAT",$t.fat_addrs=te,$t.ssz=F;var qt={},qr=[],Wu=[],Qu=[];_(ee,$t,He,qr,q,qt,Wu,le),p(Wu,Qu,qr),qr.shift();var Yu={FileIndex:Wu,FullPaths:Qu};return B&&B.raw&&(Yu.raw={header:Ce,sectors:He}),Yu}function f(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(re,"Header Signature: "),C.l+=16;var B=C.read_shift(2,"u");return[C.read_shift(2,"u"),B]}function h(C,B){var j=9;switch(C.l+=2,j=C.read_shift(2)){case 9:if(B!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(B!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function m(C,B){for(var j=Math.ceil(C.length/B)-1,F=[],q=1;q<j;++q)F[q-1]=C.slice(q*B,(q+1)*B);return F[j-1]=C.slice(j*B),F}function p(C,B,j){for(var F=0,q=0,V=0,ee=0,le=0,Z=j.length,te=[],ne=[];F<Z;++F)te[F]=ne[F]=F,B[F]=j[F];for(;le<ne.length;++le)F=ne[le],q=C[F].L,V=C[F].R,ee=C[F].C,te[F]===F&&(q!==-1&&te[q]!==q&&(te[F]=te[q]),V!==-1&&te[V]!==V&&(te[F]=te[V])),ee!==-1&&(te[ee]=F),q!==-1&&F!=te[F]&&(te[q]=te[F],ne.lastIndexOf(q)<le&&ne.push(q)),V!==-1&&F!=te[F]&&(te[V]=te[F],ne.lastIndexOf(V)<le&&ne.push(V));for(F=1;F<Z;++F)te[F]===F&&(V!==-1&&te[V]!==V?te[F]=te[V]:q!==-1&&te[q]!==q&&(te[F]=te[q]));for(F=1;F<Z;++F)if(C[F].type!==0){if(le=F,le!=te[le])do le=te[le],B[F]=B[le]+"/"+B[F];while(le!==0&&te[le]!==-1&&le!=te[le]);te[F]=-1}for(B[0]+="/",F=1;F<Z;++F)C[F].type!==2&&(B[F]+="/")}function g(C,B,j){for(var F=C.start,q=C.size,V=[],ee=F;j&&q>0&&ee>=0;)V.push(B.slice(ee*R,ee*R+R)),q-=R,ee=Bo(j,ee*4);return V.length===0?oe(0):Ir(V).slice(0,C.size)}function x(C,B,j,F,q){var V=z;if(C===z){if(B!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var ee=j[C],le=(F>>>2)-1;if(!ee)return;for(var Z=0;Z<le&&(V=Bo(ee,Z*4))!==z;++Z)q.push(V);x(Bo(ee,F-4),B-1,j,F,q)}}function v(C,B,j,F,q){var V=[],ee=[];q||(q=[]);var le=F-1,Z=0,te=0;for(Z=B;Z>=0;){q[Z]=!0,V[V.length]=Z,ee.push(C[Z]);var ne=j[Math.floor(Z*4/F)];if(te=Z*4&le,F<4+te)throw new Error("FAT boundary crossed: "+Z+" 4 "+F);if(!C[ne])break;Z=Bo(C[ne],te)}return{nodes:V,data:XE([ee])}}function y(C,B,j,F){var q=C.length,V=[],ee=[],le=[],Z=[],te=F-1,ne=0,xe=0,Ce=0,je=0;for(ne=0;ne<q;++ne)if(le=[],Ce=ne+B,Ce>=q&&(Ce-=q),!ee[Ce]){Z=[];var we=[];for(xe=Ce;xe>=0;){we[xe]=!0,ee[xe]=!0,le[le.length]=xe,Z.push(C[xe]);var Oe=j[Math.floor(xe*4/F)];if(je=xe*4&te,F<4+je)throw new Error("FAT boundary crossed: "+xe+" 4 "+F);if(!C[Oe]||(xe=Bo(C[Oe],je),we[xe]))break}V[Ce]={nodes:le,data:XE([Z])}}return V}function _(C,B,j,F,q,V,ee,le){for(var Z=0,te=F.length?2:0,ne=B[C].data,xe=0,Ce=0,je;xe<ne.length;xe+=128){var we=ne.slice(xe,xe+128);Mn(we,64),Ce=we.read_shift(2),je=I_(we,0,Ce-te),F.push(je);var Oe={name:je,type:we.read_shift(1),color:we.read_shift(1),L:we.read_shift(4,"i"),R:we.read_shift(4,"i"),C:we.read_shift(4,"i"),clsid:we.read_shift(16),state:we.read_shift(4,"i"),start:0,size:0},He=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);He!==0&&(Oe.ct=w(we,we.l-8));var $t=we.read_shift(2)+we.read_shift(2)+we.read_shift(2)+we.read_shift(2);$t!==0&&(Oe.mt=w(we,we.l-8)),Oe.start=we.read_shift(4,"i"),Oe.size=we.read_shift(4,"i"),Oe.size<0&&Oe.start<0&&(Oe.size=Oe.type=0,Oe.start=z,Oe.name=""),Oe.type===5?(Z=Oe.start,q>0&&Z!==z&&(B[Z].name="!StreamData")):Oe.size>=4096?(Oe.storage="fat",B[Oe.start]===void 0&&(B[Oe.start]=v(j,Oe.start,B.fat_addrs,B.ssz)),B[Oe.start].name=Oe.name,Oe.content=B[Oe.start].data.slice(0,Oe.size)):(Oe.storage="minifat",Oe.size<0?Oe.size=0:Z!==z&&Oe.start!==z&&B[Z]&&(Oe.content=g(Oe,B[Z].data,(B[le]||{}).data))),Oe.content&&Mn(Oe.content,0),V[je]=Oe,ee.push(Oe)}}function w(C,B){return new Date((Pn(C,B+4)/1e7*Math.pow(2,32)+Pn(C,B)/1e7-11644473600)*1e3)}function N(C,B){return u(),d(l.readFileSync(C),B)}function U(C,B){var j=B&&B.type;switch(j||ut&&Buffer.isBuffer(C)&&(j="buffer"),j||"base64"){case"file":return N(C,B);case"base64":return d(Ia(Xi(C)),B);case"binary":return d(Ia(C),B)}return d(C,B)}function E(C,B){var j=B||{},F=j.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=F+"/",C.FileIndex[0]={name:F,type:5}),j.CLSID&&(C.FileIndex[0].clsid=j.CLSID),k(C)}function k(C){var B="Sh33tJ5";if(!St.find(C,"/"+B)){var j=oe(4);j[0]=55,j[1]=j[3]=50,j[2]=54,C.FileIndex.push({name:B,type:2,content:j,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+B),T(C)}}function T(C,B){E(C);for(var j=!1,F=!1,q=C.FullPaths.length-1;q>=0;--q){var V=C.FileIndex[q];switch(V.type){case 0:F?j=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(V.R*V.L*V.C)&&(j=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!B)){var ee=new Date(1987,1,19),le=0,Z=Object.create?Object.create(null):{},te=[];for(q=0;q<C.FullPaths.length;++q)Z[C.FullPaths[q]]=!0,C.FileIndex[q].type!==0&&te.push([C.FullPaths[q],C.FileIndex[q]]);for(q=0;q<te.length;++q){var ne=n(te[q][0]);F=Z[ne],F||(te.push([ne,{name:a(ne).replace("/",""),type:1,clsid:O,ct:ee,mt:ee,content:null}]),Z[ne]=!0)}for(te.sort(function(je,we){return r(je[0],we[0])}),C.FullPaths=[],C.FileIndex=[],q=0;q<te.length;++q)C.FullPaths[q]=te[q][0],C.FileIndex[q]=te[q][1];for(q=0;q<te.length;++q){var xe=C.FileIndex[q],Ce=C.FullPaths[q];if(xe.name=a(Ce).replace("/",""),xe.L=xe.R=xe.C=-(xe.color=1),xe.size=xe.content?xe.content.length:0,xe.start=0,xe.clsid=xe.clsid||O,q===0)xe.C=te.length>1?1:-1,xe.size=0,xe.type=5;else if(Ce.slice(-1)=="/"){for(le=q+1;le<te.length&&n(C.FullPaths[le])!=Ce;++le);for(xe.C=le>=te.length?-1:le,le=q+1;le<te.length&&n(C.FullPaths[le])!=n(Ce);++le);xe.R=le>=te.length?-1:le,xe.type=1}else n(C.FullPaths[q+1]||"")==n(Ce)&&(xe.R=q+1),xe.type=2}}}function b(C,B){var j=B||{};if(j.fileType=="mad")return cn(C,j);switch(T(C),j.fileType){case"zip":return Nh(C,j)}var F=function(je){for(var we=0,Oe=0,He=0;He<je.FileIndex.length;++He){var $t=je.FileIndex[He];if($t.content){var qt=$t.content.length;qt>0&&(qt<4096?we+=qt+63>>6:Oe+=qt+511>>9)}}for(var qr=je.FullPaths.length+3>>2,Wu=we+7>>3,Qu=we+127>>7,Yu=Wu+Oe+qr+Qu,Eo=Yu+127>>7,Yg=Eo<=109?0:Math.ceil((Eo-109)/127);Yu+Eo+Yg+127>>7>Eo;)Yg=++Eo<=109?0:Math.ceil((Eo-109)/127);var hi=[1,Yg,Eo,Qu,qr,Oe,we,0];return je.FileIndex[0].size=we<<6,hi[7]=(je.FileIndex[0].start=hi[0]+hi[1]+hi[2]+hi[3]+hi[4]+hi[5])+(hi[6]+7>>3),hi}(C),q=oe(F[7]<<9),V=0,ee=0;{for(V=0;V<8;++V)q.write_shift(1,ie[V]);for(V=0;V<8;++V)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),V=0;V<3;++V)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,F[2]),q.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:z),q.write_shift(4,F[3]),q.write_shift(-4,F[1]?F[0]-1:z),q.write_shift(4,F[1]),V=0;V<109;++V)q.write_shift(-4,V<F[2]?F[1]+V:-1)}if(F[1])for(ee=0;ee<F[1];++ee){for(;V<236+ee*127;++V)q.write_shift(-4,V<F[2]?F[1]+V:-1);q.write_shift(-4,ee===F[1]-1?z:ee+1)}var le=function(je){for(ee+=je;V<ee-1;++V)q.write_shift(-4,V+1);je&&(++V,q.write_shift(-4,z))};for(ee=V=0,ee+=F[1];V<ee;++V)q.write_shift(-4,Q.DIFSECT);for(ee+=F[2];V<ee;++V)q.write_shift(-4,Q.FATSECT);le(F[3]),le(F[4]);for(var Z=0,te=0,ne=C.FileIndex[0];Z<C.FileIndex.length;++Z)ne=C.FileIndex[Z],ne.content&&(te=ne.content.length,!(te<4096)&&(ne.start=ee,le(te+511>>9)));for(le(F[6]+7>>3);q.l&511;)q.write_shift(-4,Q.ENDOFCHAIN);for(ee=V=0,Z=0;Z<C.FileIndex.length;++Z)ne=C.FileIndex[Z],ne.content&&(te=ne.content.length,!(!te||te>=4096)&&(ne.start=ee,le(te+63>>6)));for(;q.l&511;)q.write_shift(-4,Q.ENDOFCHAIN);for(V=0;V<F[4]<<2;++V){var xe=C.FullPaths[V];if(!xe||xe.length===0){for(Z=0;Z<17;++Z)q.write_shift(4,0);for(Z=0;Z<3;++Z)q.write_shift(4,-1);for(Z=0;Z<12;++Z)q.write_shift(4,0);continue}ne=C.FileIndex[V],V===0&&(ne.start=ne.size?ne.start-1:z);var Ce=V===0&&j.root||ne.name;if(te=2*(Ce.length+1),q.write_shift(64,Ce,"utf16le"),q.write_shift(2,te),q.write_shift(1,ne.type),q.write_shift(1,ne.color),q.write_shift(-4,ne.L),q.write_shift(-4,ne.R),q.write_shift(-4,ne.C),ne.clsid)q.write_shift(16,ne.clsid,"hex");else for(Z=0;Z<4;++Z)q.write_shift(4,0);q.write_shift(4,ne.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,ne.start),q.write_shift(4,ne.size),q.write_shift(4,0)}for(V=1;V<C.FileIndex.length;++V)if(ne=C.FileIndex[V],ne.size>=4096)if(q.l=ne.start+1<<9,ut&&Buffer.isBuffer(ne.content))ne.content.copy(q,q.l,0,ne.size),q.l+=ne.size+511&-512;else{for(Z=0;Z<ne.size;++Z)q.write_shift(1,ne.content[Z]);for(;Z&511;++Z)q.write_shift(1,0)}for(V=1;V<C.FileIndex.length;++V)if(ne=C.FileIndex[V],ne.size>0&&ne.size<4096)if(ut&&Buffer.isBuffer(ne.content))ne.content.copy(q,q.l,0,ne.size),q.l+=ne.size+63&-64;else{for(Z=0;Z<ne.size;++Z)q.write_shift(1,ne.content[Z]);for(;Z&63;++Z)q.write_shift(1,0)}if(ut)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function D(C,B){var j=C.FullPaths.map(function(Z){return Z.toUpperCase()}),F=j.map(function(Z){var te=Z.split("/");return te[te.length-(Z.slice(-1)=="/"?2:1)]}),q=!1;B.charCodeAt(0)===47?(q=!0,B=j[0].slice(0,-1)+B):q=B.indexOf("/")!==-1;var V=B.toUpperCase(),ee=q===!0?j.indexOf(V):F.indexOf(V);if(ee!==-1)return C.FileIndex[ee];var le=!V.match(y0);for(V=V.replace(zd,""),le&&(V=V.replace(y0,"!")),ee=0;ee<j.length;++ee)if((le?j[ee].replace(y0,"!"):j[ee]).replace(zd,"")==V||(le?F[ee].replace(y0,"!"):F[ee]).replace(zd,"")==V)return C.FileIndex[ee];return null}var R=64,z=-2,re="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],O="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:O,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(C,B,j){u();var F=b(C,j);l.writeFileSync(B,F)}function K(C){for(var B=new Array(C.length),j=0;j<C.length;++j)B[j]=String.fromCharCode(C[j]);return B.join("")}function J(C,B){var j=b(C,B);switch(B&&B.type||"buffer"){case"file":return u(),l.writeFileSync(B.filename,j),j;case"binary":return typeof j=="string"?j:K(j);case"base64":return bf(typeof j=="string"?j:K(j));case"buffer":if(ut)return Buffer.isBuffer(j)?j:ts(j);case"array":return typeof j=="string"?Ia(j):j}return j}var Y;function P(C){try{var B=C.InflateRaw,j=new B;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)Y=C;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function H(C,B){if(!Y)return di(C,B);var j=Y.InflateRaw,F=new j,q=F._processChunk(C.slice(C.l),F._finishFlushFlag);return C.l+=F.bytesRead,q}function I(C){return Y?Y.deflateRawSync(C):on(C)}var L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(C){var B=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(B>>16|B>>8|B)&255}for(var ve=typeof Uint8Array<"u",ge=ve?new Uint8Array(256):[],Le=0;Le<256;++Le)ge[Le]=fe(Le);function Ue(C,B){var j=ge[C&255];return B<=8?j>>>8-B:(j=j<<8|ge[C>>8&255],B<=16?j>>>16-B:(j=j<<8|ge[C>>16&255],j>>>24-B))}function Ot(C,B){var j=B&7,F=B>>>3;return(C[F]|(j<=6?0:C[F+1]<<8))>>>j&3}function Ye(C,B){var j=B&7,F=B>>>3;return(C[F]|(j<=5?0:C[F+1]<<8))>>>j&7}function $r(C,B){var j=B&7,F=B>>>3;return(C[F]|(j<=4?0:C[F+1]<<8))>>>j&15}function ht(C,B){var j=B&7,F=B>>>3;return(C[F]|(j<=3?0:C[F+1]<<8))>>>j&31}function Ne(C,B){var j=B&7,F=B>>>3;return(C[F]|(j<=1?0:C[F+1]<<8))>>>j&127}function vr(C,B,j){var F=B&7,q=B>>>3,V=(1<<j)-1,ee=C[q]>>>F;return j<8-F||(ee|=C[q+1]<<8-F,j<16-F)||(ee|=C[q+2]<<16-F,j<24-F)||(ee|=C[q+3]<<24-F),ee&V}function Tt(C,B,j){var F=B&7,q=B>>>3;return F<=5?C[q]|=(j&7)<<F:(C[q]|=j<<F&255,C[q+1]=(j&7)>>8-F),B+3}function G(C,B,j){var F=B&7,q=B>>>3;return j=(j&1)<<F,C[q]|=j,B+1}function X(C,B,j){var F=B&7,q=B>>>3;return j<<=F,C[q]|=j&255,j>>>=8,C[q+1]=j,B+8}function ae(C,B,j){var F=B&7,q=B>>>3;return j<<=F,C[q]|=j&255,j>>>=8,C[q+1]=j&255,C[q+2]=j>>>8,B+16}function Ee(C,B){var j=C.length,F=2*j>B?2*j:B+5,q=0;if(j>=B)return C;if(ut){var V=FE(F);if(C.copy)C.copy(V);else for(;q<C.length;++q)V[q]=C[q];return V}else if(ve){var ee=new Uint8Array(F);if(ee.set)ee.set(C);else for(;q<j;++q)ee[q]=C[q];return ee}return C.length=F,C}function _e(C){for(var B=new Array(C),j=0;j<C;++j)B[j]=0;return B}function ye(C,B,j){var F=1,q=0,V=0,ee=0,le=0,Z=C.length,te=ve?new Uint16Array(32):_e(32);for(V=0;V<32;++V)te[V]=0;for(V=Z;V<j;++V)C[V]=0;Z=C.length;var ne=ve?new Uint16Array(Z):_e(Z);for(V=0;V<Z;++V)te[q=C[V]]++,F<q&&(F=q),ne[V]=0;for(te[0]=0,V=1;V<=F;++V)te[V+16]=le=le+te[V-1]<<1;for(V=0;V<Z;++V)le=C[V],le!=0&&(ne[V]=te[le+16]++);var xe=0;for(V=0;V<Z;++V)if(xe=C[V],xe!=0)for(le=Ue(ne[V],F)>>F-xe,ee=(1<<F+4-xe)-1;ee>=0;--ee)B[le|ee<<xe]=xe&15|V<<4;return F}var Me=ve?new Uint16Array(512):_e(512),rt=ve?new Uint16Array(32):_e(32);if(!ve){for(var Ze=0;Ze<512;++Ze)Me[Ze]=0;for(Ze=0;Ze<32;++Ze)rt[Ze]=0}(function(){for(var C=[],B=0;B<32;B++)C.push(5);ye(C,rt,32);var j=[];for(B=0;B<=143;B++)j.push(8);for(;B<=255;B++)j.push(9);for(;B<=279;B++)j.push(7);for(;B<=287;B++)j.push(8);ye(j,Me,288)})();var xr=function(){for(var B=ve?new Uint8Array(32768):[],j=0,F=0;j<se.length-1;++j)for(;F<se[j+1];++F)B[F]=j;for(;F<32768;++F)B[F]=29;var q=ve?new Uint8Array(259):[];for(j=0,F=0;j<W.length-1;++j)for(;F<W[j+1];++F)q[F]=j;function V(le,Z){for(var te=0;te<le.length;){var ne=Math.min(65535,le.length-te),xe=te+ne==le.length;for(Z.write_shift(1,+xe),Z.write_shift(2,ne),Z.write_shift(2,~ne&65535);ne-- >0;)Z[Z.l++]=le[te++]}return Z.l}function ee(le,Z){for(var te=0,ne=0,xe=ve?new Uint16Array(32768):[];ne<le.length;){var Ce=Math.min(65535,le.length-ne);if(Ce<10){for(te=Tt(Z,te,+(ne+Ce==le.length)),te&7&&(te+=8-(te&7)),Z.l=te/8|0,Z.write_shift(2,Ce),Z.write_shift(2,~Ce&65535);Ce-- >0;)Z[Z.l++]=le[ne++];te=Z.l*8;continue}te=Tt(Z,te,+(ne+Ce==le.length)+2);for(var je=0;Ce-- >0;){var we=le[ne];je=(je<<5^we)&32767;var Oe=-1,He=0;if((Oe=xe[je])&&(Oe|=ne&-32768,Oe>ne&&(Oe-=32768),Oe<ne))for(;le[Oe+He]==le[ne+He]&&He<250;)++He;if(He>2){we=q[He],we<=22?te=X(Z,te,ge[we+1]>>1)-1:(X(Z,te,3),te+=5,X(Z,te,ge[we-23]>>5),te+=3);var $t=we<8?0:we-4>>2;$t>0&&(ae(Z,te,He-W[we]),te+=$t),we=B[ne-Oe],te=X(Z,te,ge[we]>>3),te-=3;var qt=we<4?0:we-2>>1;qt>0&&(ae(Z,te,ne-Oe-se[we]),te+=qt);for(var qr=0;qr<He;++qr)xe[je]=ne&32767,je=(je<<5^le[ne])&32767,++ne;Ce-=He-1}else we<=143?we=we+48:te=G(Z,te,1),te=X(Z,te,ge[we]),xe[je]=ne&32767,++ne}te=X(Z,te,0)-1}return Z.l=(te+7)/8|0,Z.l}return function(Z,te){return Z.length<8?V(Z,te):ee(Z,te)}}();function on(C){var B=oe(50+Math.floor(C.length*1.1)),j=xr(C,B);return B.slice(0,j)}var ln=ve?new Uint16Array(32768):_e(32768),wa=ve?new Uint16Array(32768):_e(32768),rs=ve?new Uint16Array(128):_e(128),ns=1,wo=1;function bo(C,B){var j=ht(C,B)+257;B+=5;var F=ht(C,B)+1;B+=5;var q=$r(C,B)+4;B+=4;for(var V=0,ee=ve?new Uint8Array(19):_e(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Z=1,te=ve?new Uint8Array(8):_e(8),ne=ve?new Uint8Array(8):_e(8),xe=ee.length,Ce=0;Ce<q;++Ce)ee[L[Ce]]=V=Ye(C,B),Z<V&&(Z=V),te[V]++,B+=3;var je=0;for(te[0]=0,Ce=1;Ce<=Z;++Ce)ne[Ce]=je=je+te[Ce-1]<<1;for(Ce=0;Ce<xe;++Ce)(je=ee[Ce])!=0&&(le[Ce]=ne[je]++);var we=0;for(Ce=0;Ce<xe;++Ce)if(we=ee[Ce],we!=0){je=ge[le[Ce]]>>8-we;for(var Oe=(1<<7-we)-1;Oe>=0;--Oe)rs[je|Oe<<we]=we&7|Ce<<3}var He=[];for(Z=1;He.length<j+F;)switch(je=rs[Ne(C,B)],B+=je&7,je>>>=3){case 16:for(V=3+Ot(C,B),B+=2,je=He[He.length-1];V-- >0;)He.push(je);break;case 17:for(V=3+Ye(C,B),B+=3;V-- >0;)He.push(0);break;case 18:for(V=11+Ne(C,B),B+=7;V-- >0;)He.push(0);break;default:He.push(je),Z<je&&(Z=je);break}var $t=He.slice(0,j),qt=He.slice(j);for(Ce=j;Ce<286;++Ce)$t[Ce]=0;for(Ce=F;Ce<30;++Ce)qt[Ce]=0;return ns=ye($t,ln,286),wo=ye(qt,wa,30),B}function Ku(C,B){if(C[0]==3&&!(C[1]&3))return[yl(B),2];for(var j=0,F=0,q=FE(B||1<<18),V=0,ee=q.length>>>0,le=0,Z=0;!(F&1);){if(F=Ye(C,j),j+=3,F>>>1)F>>1==1?(le=9,Z=5):(j=bo(C,j),le=ns,Z=wo);else{j&7&&(j+=8-(j&7));var te=C[j>>>3]|C[(j>>>3)+1]<<8;if(j+=32,te>0)for(!B&&ee<V+te&&(q=Ee(q,V+te),ee=q.length);te-- >0;)q[V++]=C[j>>>3],j+=8;continue}for(;;){!B&&ee<V+32767&&(q=Ee(q,V+32767),ee=q.length);var ne=vr(C,j,le),xe=F>>>1==1?Me[ne]:ln[ne];if(j+=xe&15,xe>>>=4,!(xe>>>8&255))q[V++]=xe;else{if(xe==256)break;xe-=257;var Ce=xe<8?0:xe-4>>2;Ce>5&&(Ce=0);var je=V+W[xe];Ce>0&&(je+=vr(C,j,Ce),j+=Ce),ne=vr(C,j,Z),xe=F>>>1==1?rt[ne]:wa[ne],j+=xe&15,xe>>>=4;var we=xe<4?0:xe-2>>1,Oe=se[xe];for(we>0&&(Oe+=vr(C,j,we),j+=we),!B&&ee<je&&(q=Ee(q,je+100),ee=q.length);V<je;)q[V]=q[V-Oe],++V}}}return B?[q,j+7>>>3]:[q.slice(0,V),j+7>>>3]}function di(C,B){var j=C.slice(C.l||0),F=Ku(j,B);return C.l+=F[1],F[0]}function ba(C,B){if(C)typeof console<"u"&&console.error(B);else throw new Error(B)}function Ah(C,B){var j=C;Mn(j,0);var F=[],q=[],V={FileIndex:F,FullPaths:q};E(V,{root:B.root});for(var ee=j.length-4;(j[ee]!=80||j[ee+1]!=75||j[ee+2]!=5||j[ee+3]!=6)&&ee>=0;)--ee;j.l=ee+4,j.l+=4;var le=j.read_shift(2);j.l+=6;var Z=j.read_shift(4);for(j.l=Z,ee=0;ee<le;++ee){j.l+=20;var te=j.read_shift(4),ne=j.read_shift(4),xe=j.read_shift(2),Ce=j.read_shift(2),je=j.read_shift(2);j.l+=8;var we=j.read_shift(4),Oe=o(j.slice(j.l+xe,j.l+xe+Ce));j.l+=xe+Ce+je;var He=j.l;j.l=we+4,Qg(j,te,ne,V,Oe),j.l=He}return V}function Qg(C,B,j,F,q){C.l+=2;var V=C.read_shift(2),ee=C.read_shift(2),le=s(C);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var Z=C.read_shift(4),te=C.read_shift(4),ne=C.read_shift(4),xe=C.read_shift(2),Ce=C.read_shift(2),je="",we=0;we<xe;++we)je+=String.fromCharCode(C[C.l++]);if(Ce){var Oe=o(C.slice(C.l,C.l+Ce));(Oe[21589]||{}).mt&&(le=Oe[21589].mt),((q||{})[21589]||{}).mt&&(le=q[21589].mt)}C.l+=Ce;var He=C.slice(C.l,C.l+te);switch(ee){case 8:He=H(C,ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ee)}var $t=!1;V&8&&(Z=C.read_shift(4),Z==134695760&&(Z=C.read_shift(4),$t=!0),te=C.read_shift(4),ne=C.read_shift(4)),te!=B&&ba($t,"Bad compressed size: "+B+" != "+te),ne!=j&&ba($t,"Bad uncompressed size: "+j+" != "+ne),Wr(F,je,He,{unsafe:!0,mt:le})}function Nh(C,B){var j=B||{},F=[],q=[],V=oe(1),ee=j.compression?8:0,le=0,Z=0,te=0,ne=0,xe=0,Ce=C.FullPaths[0],je=Ce,we=C.FileIndex[0],Oe=[],He=0;for(Z=1;Z<C.FullPaths.length;++Z)if(je=C.FullPaths[Z].slice(Ce.length),we=C.FileIndex[Z],!(!we.size||!we.content||je=="Sh33tJ5")){var $t=ne,qt=oe(je.length);for(te=0;te<je.length;++te)qt.write_shift(1,je.charCodeAt(te)&127);qt=qt.slice(0,qt.l),Oe[xe]=xV.buf(we.content,0);var qr=we.content;ee==8&&(qr=I(qr)),V=oe(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,le),V.write_shift(2,ee),we.mt?i(V,we.mt):V.write_shift(4,0),V.write_shift(-4,Oe[xe]),V.write_shift(4,qr.length),V.write_shift(4,we.content.length),V.write_shift(2,qt.length),V.write_shift(2,0),ne+=V.length,F.push(V),ne+=qt.length,F.push(qt),ne+=qr.length,F.push(qr),V=oe(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,le),V.write_shift(2,ee),V.write_shift(4,0),V.write_shift(-4,Oe[xe]),V.write_shift(4,qr.length),V.write_shift(4,we.content.length),V.write_shift(2,qt.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,$t),He+=V.l,q.push(V),He+=qt.length,q.push(qt),++xe}return V=oe(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,xe),V.write_shift(2,xe),V.write_shift(4,He),V.write_shift(4,ne),V.write_shift(2,0),Ir([Ir(F),Ir(q),V])}var So={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ve(C,B){if(C.ctype)return C.ctype;var j=C.name||"",F=j.match(/\.([^\.]+)$/);return F&&So[F[1]]||B&&(F=(j=B).match(/[\.\\]([^\.\\])+$/),F&&So[F[1]])?So[F[1]]:"application/octet-stream"}function er(C){for(var B=bf(C),j=[],F=0;F<B.length;F+=76)j.push(B.slice(F,F+76));return j.join(`\r
`)+`\r
`}function yr(C){var B=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(te){var ne=te.charCodeAt(0).toString(16).toUpperCase();return"="+(ne.length==1?"0"+ne:ne)});B=B.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),B.charAt(0)==`
`&&(B="=0D"+B.slice(1)),B=B.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],F=B.split(`\r
`),q=0;q<F.length;++q){var V=F[q];if(V.length==0){j.push("");continue}for(var ee=0;ee<V.length;){var le=76,Z=V.slice(ee,ee+le);Z.charAt(le-1)=="="?le--:Z.charAt(le-2)=="="?le-=2:Z.charAt(le-3)=="="&&(le-=3),Z=V.slice(ee,ee+le),ee+=le,ee<V.length&&(Z+="="),j.push(Z)}}return j.join(`\r
`)}function Kr(C){for(var B=[],j=0;j<C.length;++j){for(var F=C[j];j<=C.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+C[++j];B.push(F)}for(var q=0;q<B.length;++q)B[q]=B[q].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return Ia(B.join(`\r
`))}function Ll(C,B,j){for(var F="",q="",V="",ee,le=0;le<10;++le){var Z=B[le];if(!Z||Z.match(/^\s*$/))break;var te=Z.match(/^(.*?):\s*([^\s].*)$/);if(te)switch(te[1].toLowerCase()){case"content-location":F=te[2].trim();break;case"content-type":V=te[2].trim();break;case"content-transfer-encoding":q=te[2].trim();break}}switch(++le,q.toLowerCase()){case"base64":ee=Ia(Xi(B.slice(le).join("")));break;case"quoted-printable":ee=Kr(B.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var ne=Wr(C,F.slice(j.length),ee,{unsafe:!0});V&&(ne.ctype=V)}function dr(C,B){if(K(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=B&&B.root||"",F=(ut&&Buffer.isBuffer(C)?C.toString("binary"):K(C)).split(`\r
`),q=0,V="";for(q=0;q<F.length;++q)if(V=F[q],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),j||(j=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),V.slice(0,j.length)!=j););var ee=(F[1]||"").match(/boundary="(.*?)"/);if(!ee)throw new Error("MAD cannot find boundary");var le="--"+(ee[1]||""),Z=[],te=[],ne={FileIndex:Z,FullPaths:te};E(ne);var xe,Ce=0;for(q=0;q<F.length;++q){var je=F[q];je!==le&&je!==le+"--"||(Ce++&&Ll(ne,F.slice(xe,q),j),xe=q)}return ne}function cn(C,B){var j=B||{},F=j.boundary||"SheetJS";F="------="+F;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],V=C.FullPaths[0],ee=V,le=C.FileIndex[0],Z=1;Z<C.FullPaths.length;++Z)if(ee=C.FullPaths[Z].slice(V.length),le=C.FileIndex[Z],!(!le.size||!le.content||ee=="Sh33tJ5")){ee=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var te=le.content,ne=ut&&Buffer.isBuffer(te)?te.toString("binary"):K(te),xe=0,Ce=Math.min(1024,ne.length),je=0,we=0;we<=Ce;++we)(je=ne.charCodeAt(we))>=32&&je<128&&++xe;var Oe=xe>=Ce*4/5;q.push(F),q.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+ee),q.push("Content-Transfer-Encoding: "+(Oe?"quoted-printable":"base64")),q.push("Content-Type: "+Ve(le,ee)),q.push(""),q.push(Oe?yr(ne):er(ne))}return q.push(F+`--\r
`),q.join(`\r
`)}function Pl(C){var B={};return E(B,C),B}function Wr(C,B,j,F){var q=F&&F.unsafe;q||E(C);var V=!q&&St.find(C,B);if(!V){var ee=C.FullPaths[0];B.slice(0,ee.length)==ee?ee=B:(ee.slice(-1)!="/"&&(ee+="/"),ee=(ee+B).replace("//","/")),V={name:a(B),type:2},C.FileIndex.push(V),C.FullPaths.push(ee),q||St.utils.cfb_gc(C)}return V.content=j,V.size=j?j.length:0,F&&(F.CLSID&&(V.clsid=F.CLSID),F.mt&&(V.mt=F.mt),F.ct&&(V.ct=F.ct)),V}function Nn(C,B){E(C);var j=St.find(C,B);if(j){for(var F=0;F<C.FileIndex.length;++F)if(C.FileIndex[F]==j)return C.FileIndex.splice(F,1),C.FullPaths.splice(F,1),!0}return!1}function Oh(C,B,j){E(C);var F=St.find(C,B);if(F){for(var q=0;q<C.FileIndex.length;++q)if(C.FileIndex[q]==F)return C.FileIndex[q].name=a(j),C.FullPaths[q]=j,!0}return!1}function fi(C){T(C,!0)}return t.find=D,t.read=U,t.parse=d,t.write=J,t.writeFile=M,t.utils={cfb_new:Pl,cfb_add:Wr,cfb_del:Nn,cfb_mov:Oh,cfb_gc:fi,ReadShift:qd,CheckField:dj,prep_blob:Mn,bconcat:Ir,use_zlib:P,_deflateRaw:on,_inflateRaw:di,consts:Q},t}();function yV(e){return typeof e=="string"?zg(e):Array.isArray(e)?Hq(e):e}function Sh(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=zg(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Fi(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([yV(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=bh(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Br(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VE(e,t){for(var r=[],n=Br(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function j_(e){for(var t=[],r=Br(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Vg(e){for(var t=[],r=Br(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function _V(e){for(var t=[],r=Br(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Vm=new Date(1899,11,30,0,0,0);function Cn(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=Vm.getTime()+(e.getTimezoneOffset()-Vm.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var W4=new Date,wV=Vm.getTime()+(W4.getTimezoneOffset()-Vm.getTimezoneOffset())*6e4,HE=W4.getTimezoneOffset();function Q4(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wV),t.getTimezoneOffset()!==HE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-HE)*6e4),t}var GE=new Date("2017-02-19T19:06:09.000Z"),Y4=isNaN(GE.getFullYear())?new Date("2/19/17"):GE,bV=Y4.getFullYear()==2017;function nn(e,t){var r=new Date(e);if(bV)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Y4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Hg(e,t){if(ut&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Fi(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Fi(Vq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Fi(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Fi(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Rn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Rn(e[r]));return t}function Kt(e,t){for(var r="";r.length<t;)r+=e;return r}function $i(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var SV=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sf(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&SV.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Xe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ut?n=ts(r):n=Gq(r),St.utils.cfb_add(e,t,n)}St.utils.cfb_add(e,t,r)}else e.file(t,r)}function k_(){return St.utils.cfb_new()}var ur=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EV={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},D_=j_(EV),M_=/[&<>'"]/g,TV=/[\u0000-\u0008\u000b-\u001f]/g;function yt(e){var t=e+"";return t.replace(M_,function(r){return D_[r]}).replace(TV,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function KE(e){return yt(e).replace(/ /g,"_x0020_")}var X4=/[\u0000-\u001f]/g;function CV(e){var t=e+"";return t.replace(M_,function(r){return D_[r]}).replace(/\n/g,"<br/>").replace(X4,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function RV(e){var t=e+"";return t.replace(M_,function(r){return D_[r]}).replace(X4,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function AV(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function NV(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gv(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function WE(e){var t=yl(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function QE(e){return ts(e,"binary").toString("utf8")}var w0="foo bar baz",$d=ut&&(QE(w0)==gv(w0)&&QE||WE(w0)==gv(w0)&&WE)||gv,Fi=ut?function(e){return ts(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},OV=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Z4=/(^\s|\s$|\n)/;function Fr(e,t){return"<"+e+(t.match(Z4)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ef(e){return Br(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function be(e,t,r){return"<"+e+(r!=null?Ef(r):"")+(t!=null?(t.match(Z4)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Cy(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function jV(e,t){switch(typeof e){case"string":var r=be("vt:lpwstr",yt(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return be((e|0)==e?"vt:i4":"vt:r8",yt(String(e)));case"boolean":return be("vt:bool",e?"true":"false")}if(e instanceof Date)return be("vt:filetime",Cy(e));throw new Error("Unable to serialize "+e)}var Er={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},qu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ln={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function kV(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function DV(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var YE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},XE=ut?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ts(t)})):YE(e)}:YE,ZE=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(yd(e,a)));return n.join("").replace(zd,"")},I_=ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(zd,""):ZE(e,t,r)}:ZE,JE=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},J4=ut?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JE(e,t,r)}:JE,e2=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(sc(e,a)));return n.join("")},Eh=ut?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):e2(t,r,n)}:e2,ej=function(e,t){var r=Pn(e,t);return r>0?Eh(e,t+4,t+4+r-1):""},tj=ej,rj=function(e,t){var r=Pn(e,t);return r>0?Eh(e,t+4,t+4+r-1):""},nj=rj,aj=function(e,t){var r=2*Pn(e,t);return r>0?Eh(e,t+4,t+4+r-1):""},ij=aj,sj=function(t,r){var n=Pn(t,r);return n>0?I_(t,r+4,r+4+n):""},oj=sj,lj=function(e,t){var r=Pn(e,t);return r>0?Eh(e,t+4,t+4+r):""},cj=lj,uj=function(e,t){return kV(e,t)},Hm=uj,F_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ut&&(tj=function(t,r){if(!Buffer.isBuffer(t))return ej(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},nj=function(t,r){if(!Buffer.isBuffer(t))return rj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ij=function(t,r){if(!Buffer.isBuffer(t))return aj(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},oj=function(t,r){if(!Buffer.isBuffer(t))return sj(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},cj=function(t,r){if(!Buffer.isBuffer(t))return lj(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Hm=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):uj(t,r)},F_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var sc=function(e,t){return e[t]},yd=function(e,t){return e[t+1]*256+e[t]},MV=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Pn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Bo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},IV=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function qd(e,t){var r="",n,a,i=[],s,o,l,u;switch(t){case"dbcs":if(u=this.l,ut&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(yd(this,u)),u+=2;e*=2;break;case"utf8":r=Eh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=I_(this,this.l,this.l+e);break;case"wstr":return qd.call(this,e,"dbcs");case"lpstr-ansi":r=tj(this,this.l),e=4+Pn(this,this.l);break;case"lpstr-cp":r=nj(this,this.l),e=4+Pn(this,this.l);break;case"lpwstr":r=ij(this,this.l),e=4+2*Pn(this,this.l);break;case"lpp4":e=4+Pn(this,this.l),r=oj(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Pn(this,this.l),r=cj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=sc(this,this.l+e++))!==0;)i.push(x0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=yd(this,this.l+e))!==0;)i.push(x0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=sc(this,u),this.l=u+1,o=qd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(x0(yd(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=sc(this,u),this.l=u+1,o=qd.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(x0(sc(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=sc(this,this.l),this.l++,n;case 2:return n=(t==="i"?MV:yd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Bo:IV)(this,this.l),this.l+=4,n):(a=Pn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Hm(this,this.l):a=Hm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=J4(this,this.l,e);break}}return this.l+=e,r}var FV=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},LV=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},PV=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function UV(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)PV(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,FV(this,t,this.l);break;case 8:if(n=8,r==="f"){DV(this,t,this.l);break}case 16:break;case-4:n=4,LV(this,t,this.l);break}return this.l+=n,this}function dj(e,t){var r=J4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Mn(e,t){e.l=t,e.read_shift=qd,e.chk=dj,e.write_shift=UV}function si(e,t){e.l+=t}function oe(e){var t=yl(e);return Mn(t,0),t}function Sn(){var e=[],t=ut?256:2048,r=function(u){var d=oe(u);return Mn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Ir(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function he(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=kY[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&F_(r)&&e.push(r)}}function Vd(e,t,r){var n=Rn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function t2(e,t,r){var n=Rn(e);return n.s=Vd(n.s,t.s,r),n.e=Vd(n.e,t.s,r),n}function Hd(e,t){if(e.cRel&&e.c<0)for(e=Rn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Rn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=_t(e);return!e.cRel&&e.cRel!=null&&(r=$V(r)),!e.rRel&&e.rRel!=null&&(r=BV(r)),r}function pv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Hr(e.s.c)+":"+(e.e.cRel?"":"$")+Hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ur(e.s.r)+":"+(e.e.rRel?"":"$")+Ur(e.e.r):Hd(e.s,t.biff)+":"+Hd(e.e,t.biff)}function L_(e){return parseInt(zV(e),10)-1}function Ur(e){return""+(e+1)}function BV(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zV(e){return e.replace(/\$(\d+)$/,"$1")}function P_(e){for(var t=qV(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function $V(e){return e.replace(/^([A-Z])/,"$$$1")}function qV(e){return e.replace(/^\$([A-Z])/,"$1")}function VV(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Tr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function _t(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Jn(e){var t=e.indexOf(":");return t==-1?{s:Tr(e),e:Tr(e)}:{s:Tr(e.slice(0,t)),e:Tr(e.slice(t+1))}}function cr(e,t){return typeof t>"u"||typeof t=="number"?cr(e.s,e.e):(typeof e!="string"&&(e=_t(e)),typeof t!="string"&&(t=_t(t)),e==t?e:e+":"+t)}function Lt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function r2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fo(e.z,r?Cn(t):t)}catch{}try{return e.w=fo((e.XF||{}).numFmtId||(r?14:0),r?Cn(t):t)}catch{return""+t}}function Zi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Th[e.v]||e.v:t==null?r2(e,e.v):r2(e,t))}function kl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function fj(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Tr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Lt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=s+f,g=o+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Qt[14],n.cellDates?(m.t="d",m.w=fo(m.z,Cn(m.v))):(m.t="n",m.v=Cn(m.v),m.w=fo(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(m.z=i[p][g].z),i[p][g]=m;else{var x=_t({c:g,r:p});i[x]&&i[x].z&&(m.z=i[x].z),i[x]=m}}}return u.s.c<1e7&&(i["!ref"]=cr(u)),i}function Vu(e,t){return fj(null,e,t)}function HV(e){return e.read_shift(4,"i")}function Ua(e,t){return t||(t=oe(4)),t.write_shift(4,e),t}function Gr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Cr(e,t){var r=!1;return t==null&&(r=!0,t=oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function GV(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function KV(e,t){return t||(t=oe(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function U_(e,t){var r=e.l,n=e.read_shift(1),a=Gr(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(GV(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function WV(e,t){var r=!1;return t==null&&(r=!0,t=oe(15+4*e.t.length)),t.write_shift(1,0),Cr(e.t,t),r?t.slice(0,t.l):t}var QV=U_;function YV(e,t){var r=!1;return t==null&&(r=!0,t=oe(23+4*e.t.length)),t.write_shift(1,1),Cr(e.t,t),t.write_shift(4,1),KV({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function _a(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Dl(e,t){return t==null&&(t=oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ml(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Il(e,t){return t==null&&(t=oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var XV=Gr,hj=Cr;function B_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Gm(e,t){var r=!1;return t==null&&(r=!0,t=oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var ZV=Gr,Ry=B_,z_=Gm;function mj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Hm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Bo(t,0)>>2;return r?a/100:a}function gj(e,t){t==null&&(t=oe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function pj(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function JV(e,t){return t||(t=oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Fl=pj,Hu=JV;function Gu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _l(e,t){return(t||oe(8)).write_shift(8,e,"f")}function eH(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=cH[a];u&&(t.rgb=h2(u));break;case 2:t.rgb=h2([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Km(e,t){if(t||(t=oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function tH(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function rH(e,t){t||(t=oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var vj=2,jn=3,b0=11,Wm=19,S0=64,nH=65,aH=71,iH=4108,sH=4126,kr=80,n2={1:{n:"CodePage",t:vj},2:{n:"Category",t:kr},3:{n:"PresentationFormat",t:kr},4:{n:"ByteCount",t:jn},5:{n:"LineCount",t:jn},6:{n:"ParagraphCount",t:jn},7:{n:"SlideCount",t:jn},8:{n:"NoteCount",t:jn},9:{n:"HiddenCount",t:jn},10:{n:"MultimediaClipCount",t:jn},11:{n:"ScaleCrop",t:b0},12:{n:"HeadingPairs",t:iH},13:{n:"TitlesOfParts",t:sH},14:{n:"Manager",t:kr},15:{n:"Company",t:kr},16:{n:"LinksUpToDate",t:b0},17:{n:"CharacterCount",t:jn},19:{n:"SharedDoc",t:b0},22:{n:"HyperlinksChanged",t:b0},23:{n:"AppVersion",t:jn,p:"version"},24:{n:"DigSig",t:nH},26:{n:"ContentType",t:kr},27:{n:"ContentStatus",t:kr},28:{n:"Language",t:kr},29:{n:"Version",t:kr},255:{},2147483648:{n:"Locale",t:Wm},2147483651:{n:"Behavior",t:Wm},1919054434:{}},a2={1:{n:"CodePage",t:vj},2:{n:"Title",t:kr},3:{n:"Subject",t:kr},4:{n:"Author",t:kr},5:{n:"Keywords",t:kr},6:{n:"Comments",t:kr},7:{n:"Template",t:kr},8:{n:"LastAuthor",t:kr},9:{n:"RevNumber",t:kr},10:{n:"EditTime",t:S0},11:{n:"LastPrinted",t:S0},12:{n:"CreatedDate",t:S0},13:{n:"ModifiedDate",t:S0},14:{n:"PageCount",t:jn},15:{n:"WordCount",t:jn},16:{n:"CharCount",t:jn},17:{n:"Thumbnail",t:aH},18:{n:"Application",t:kr},19:{n:"DocSecurity",t:jn},255:{},2147483648:{n:"Locale",t:Wm},2147483651:{n:"Behavior",t:Wm},1919054434:{}};function oH(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var lH=oH([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cH=Rn(lH),Th={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},uH={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},E0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xj(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yj(e,t){var r=_V(uH),n=[],a;n[n.length]=ur,n[n.length]=be("Types",null,{xmlns:Er.CT,"xmlns:xsd":Er.xsd,"xmlns:xsi":Er.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return be("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=be("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:E0[l][t.bookType]||E0[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(u){n[n.length]=be("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:E0[l][t.bookType]||E0[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(u){n[n.length]=be("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ct={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _j(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Dc(e){var t=[ur,be("Relationships",null,{xmlns:Er.RELS})];return Br(e["!id"]).forEach(function(r){t[t.length]=be("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function pt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[ct.HLINK,ct.XPATH,ct.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function dH(e){var t=[ur];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function i2(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function fH(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function hH(e){var t=[ur];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(i2(e[r][0],e[r][1])),t.push(fH("",e[r][0]));return t.push(i2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function wj(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bm.version+"</meta:generator></office:meta></office:document-meta>"}var ul=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function vv(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=yt(t),n[n.length]=r?be(e,t,r):Fr(e,t))}function bj(e,t){var r=t||{},n=[ur,be("cp:coreProperties",null,{"xmlns:cp":Er.CORE_PROPS,"xmlns:dc":Er.dc,"xmlns:dcterms":Er.dcterms,"xmlns:dcmitype":Er.dcmitype,"xmlns:xsi":Er.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&vv("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Cy(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&vv("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Cy(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=ul.length;++i){var s=ul[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&vv(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Mc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Sj=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ej(e){var t=[],r=be;return e||(e={}),e.Application="SheetJS",t[t.length]=ur,t[t.length]=be("Properties",null,{xmlns:Er.EXT_PROPS,"xmlns:vt":Er.vt}),Mc.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=yt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+yt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Tj(e){var t=[ur,be("Properties",null,{xmlns:Er.CUST_PROPS,"xmlns:vt":Er.vt})];if(!e)return t.join("");var r=1;return Br(e).forEach(function(a){++r,t[t.length]=be("property",jV(e[a],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:yt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var s2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function mH(e,t){var r=[];return Br(s2).map(function(n){for(var a=0;a<ul.length;++a)if(ul[a][1]==n)return ul[a];for(a=0;a<Mc.length;++a)if(Mc[a][1]==n)return Mc[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Fr(s2[n[1]]||n[1],a))}}),be("DocumentProperties",r.join(""),{xmlns:Ln.o})}function gH(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Br(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<ul.length;++s)if(i==ul[s][1])return;for(s=0;s<Mc.length;++s)if(i==Mc[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(be(KE(i),o,{"dt:dt":l}))}}),t&&Br(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(be(KE(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ln.o+'">'+a.join("")+"</"+n+">"}function pH(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=oe(8);return s.write_shift(4,n),s.write_shift(4,a),s}function o2(e,t){var r=oe(4),n=oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=oe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=pH(t);break;case 31:case 80:for(n=oe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ir([r,n])}var Cj=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vH(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function l2(e,t,r){var n=oe(8),a=[],i=[],s=8,o=0,l=oe(8),u=oe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),s+=8+l.length,!t){u=oe(8),u.write_shift(4,0),a.unshift(u);var d=[oe(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=oe(4+4+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Ir(d),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(Cj.indexOf(e[o][0])>-1||Sj.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=o2(p.t,h)}else{var x=vH(h);x==-1&&(x=31,h=String(h)),l=o2(x,h)}i.push(l),u=oe(8),u.write_shift(4,t?m:2+o),a.push(u),s+=8+l.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Ir([n].concat(a).concat(i))}function c2(e,t,r,n,a,i){var s=oe(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,St.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=l2(e,r,n);if(o.push(l),a){var u=l2(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(u)}return Ir(o)}function xH(e,t){t||(t=oe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function yH(e,t){return e.read_shift(t)===1}function tn(e,t){return t||(t=oe(2)),t.write_shift(2,+!!e),t}function Rj(e){return e.read_shift(2,"u")}function sa(e,t){return t||(t=oe(2)),t.write_shift(2,e),t}function Aj(e,t,r){return r||(r=oe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Nj(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function _H(e){var t=e.t||"",r=oe(3+0);r.write_shift(2,t.length),r.write_shift(1,1);var n=oe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ir(a)}function wH(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function bH(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):wH(e,n,r)}function SH(e,t,r){if(r.biff>5)return bH(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Oj(e,t,r){return r||(r=oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function u2(e,t){t||(t=oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function EH(e){var t=oe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),u2(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&u2(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function wl(e,t,r,n){return n||(n=oe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function TH(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function CH(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function jj(e,t){return t||(t=oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function $_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=oe(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function RH(e,t){var r=!t||t.biff==8,n=oe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function AH(e,t){var r=!t||t.biff>=8?2:1,n=oe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function NH(e,t){var r=oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=_H(e[a]);var i=Ir([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function OH(){var e=oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function jH(e){var t=oe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function kH(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=oe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function DH(e,t,r,n){var a=oe(10);return wl(e,t,n,a),a.write_shift(4,r),a}function MH(e,t,r,n,a){var i=!a||a.biff==8,s=oe(6+2+ +i+(1+i)*r.length);return wl(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function IH(e,t,r,n){var a=r&&r.biff==5;n||(n=oe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function FH(e,t){var r=t.biff==8||!t.biff?4:2,n=oe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function d2(e,t,r,n){var a=r&&r.biff==5;n||(n=oe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function LH(e){var t=oe(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function PH(e,t,r,n,a,i){var s=oe(8);return wl(e,t,n,s),Aj(r,i,s),s}function UH(e,t,r,n){var a=oe(14);return wl(e,t,n,a),_l(r,a),a}function BH(e,t,r){if(r.biff<8)return zH(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(TH(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function zH(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Nj(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function $H(e){var t=oe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)jj(e[r],t);return t}function qH(e){var t=oe(24),r=Tr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ir([t,EH(e[1])])}function VH(e){var t=e[1].Tooltip,r=oe(10+2*(t.length+1));r.write_shift(2,2048);var n=Tr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function HH(e){return e||(e=oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function GH(e,t,r){if(!r.cellStyles)return si(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function KH(e,t){var r=oe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function WH(e){for(var t=oe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function QH(e,t,r){var n=oe(15);return Rh(n,e,t),n.write_shift(8,r,"f"),n}function YH(e,t,r){var n=oe(9);return Rh(n,e,t),n.write_shift(2,r),n}var XH=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=j_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=yl(1);switch(l.type){case"base64":d=Ia(Xi(o));break;case"binary":d=Ia(o);break;case"buffer":case"array":d=o;break}Mn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,x=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var _=[],w={},N=Math.min(d.length,f==2?521:x-10-(m?264:0)),U=p?32:11;d.l<N&&d[d.l]!=13;)switch(w={},w.name=Uo.utils.decode(y,d.slice(d.l,d.l+U)).replace(/[\u0000\r\n].*$/g,""),d.l+=U,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&_.push(w),f!=2&&(d.l+=p?13:14),w.type){case"B":(!m||w.len!=8)&&l.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var E=0,k=0;for(u[0]=[],k=0;k!=_.length;++k)u[0][k]=_[k].name;for(;g-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++E]=[],k=0,k=0;k!=_.length;++k){var T=d.slice(d.l,d.l+_[k].len);d.l+=_[k].len,Mn(T,0);var b=Uo.utils.decode(y,T);switch(_[k].type){case"C":b.trim().length&&(u[E][k]=b.replace(/\s+$/,""));break;case"D":b.length===8?u[E][k]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):u[E][k]=b;break;case"F":u[E][k]=parseFloat(b.trim());break;case"+":case"I":u[E][k]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":u[E][k]=!0;break;case"N":case"F":u[E][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][k]="##MEMO##"+(p?parseInt(b.trim(),10):T.read_shift(4));break;case"N":b=b.replace(/\u0000/g,"").trim(),b&&b!="."&&(u[E][k]=+b||0);break;case"@":u[E][k]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[E][k]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[E][k]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][k]=-T.read_shift(-8,"f");break;case"B":if(m&&_[k].len==8){u[E][k]=T.read_shift(8,"f");break}case"G":case"P":T.l+=_[k].len;break;case"0":if(_[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=_,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Vu(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return kl(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&wf(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Sn(),f=Jm(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],g=0,x=0,v=0,y=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++v;continue}if(h[g]!=null){if(++v,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(x=0;x<1024;++x)if(h.indexOf(h[g]+"_"+x)==-1){h[g]+="_"+x;break}}}}var _=Lt(o["!ref"]),w=[],N=[],U=[];for(g=0;g<=_.e.c-_.s.c;++g){var E="",k="",T=0,b=[];for(x=0;x<m.length;++x)m[x][g]!=null&&b.push(m[x][g]);if(b.length==0||h[g]==null){w[g]="?";continue}for(x=0;x<b.length;++x){switch(typeof b[x]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=b[x]instanceof Date?"D":"C";break;default:k="C"}T=Math.max(T,String(b[x]).length),E=E&&E!=k?"C":k}T>250&&(T=250),k=((p[g]||{}).DBF||{}).type,k=="C"&&p[g].DBF.len>T&&(T=p[g].DBF.len),E=="B"&&k=="N"&&(E="N",U[g]=p[g].DBF.dec,T=p[g].DBF.len),N[g]=E=="C"||k=="N"?T:i[E]||0,y+=N[g],w[g]=E}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,m.length),D.write_shift(2,296+32*v),D.write_shift(2,y),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+t[D4]||3)<<8),g=0,x=0;g<h.length;++g)if(h[g]!=null){var R=d.next(32),z=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,z,"sbcs"),R.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),R.write_shift(4,x),R.write_shift(1,N[g]||i[w[g]]||0),R.write_shift(1,U[g]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),x+=N[g]||i[w[g]]||0}var re=d.next(264);for(re.write_shift(4,13),g=0;g<65;++g)re.write_shift(4,0);for(g=0;g<m.length;++g){var ie=d.next(y);for(ie.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(w[x]){case"L":ie.write_shift(1,m[g][x]==null?63:m[g][x]?84:70);break;case"B":ie.write_shift(8,m[g][x]||0,"f");break;case"N":var O="0";for(typeof m[g][x]=="number"&&(O=m[g][x].toFixed(U[x]||0)),v=0;v<N[x]-O.length;++v)ie.write_shift(1,32);ie.write_shift(1,O,"sbcs");break;case"D":m[g][x]?(ie.write_shift(4,("0000"+m[g][x].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(m[g][x].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+m[g][x].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(m[g][x]!=null?m[g][x]:"").slice(0,N[x]);for(ie.write_shift(1,Q,"sbcs"),v=0;v<N[x]-Q.length;++v)ie.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),ZH=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Br(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?IE(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:IE(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(Xi(h),m);case"binary":return i(h,m);case"buffer":return i(ut&&Buffer.isBuffer(h)?h.toString("binary"):bh(h),m);case"array":return i(Hg(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),g=-1,x=-1,v=0,y=0,_=[],w=[],N=null,U={},E=[],k=[],T=[],b=0,D;for(+m.codepage>=0&&wf(+m.codepage);v!==p.length;++v){b=0;var R=p[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),z=R.replace(/;;/g,"\0").split(";").map(function(L){return L.replace(/\u0000/g,";")}),re=z[0],ie;if(R.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&w.push(R.slice(3).replace(/;;/g,";"));break;case"C":var O=!1,Q=!1,M=!1,K=!1,J=-1,Y=-1;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"A":break;case"X":x=parseInt(z[y].slice(1))-1,Q=!0;break;case"Y":for(g=parseInt(z[y].slice(1))-1,Q||(x=0),D=_.length;D<=g;++D)_[D]=[];break;case"K":ie=z[y].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN($i(ie))?isNaN(Sf(ie).getDate())||(ie=nn(ie)):(ie=$i(ie),N!==null&&H4(N)&&(ie=Q4(ie))),O=!0;break;case"E":K=!0;var P=YG(z[y].slice(1),{r:g,c:x});_[g][x]=[_[g][x],P];break;case"S":M=!0,_[g][x]=[_[g][x],"S5S"];break;case"G":break;case"R":J=parseInt(z[y].slice(1))-1;break;case"C":Y=parseInt(z[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}if(O&&(_[g][x]&&_[g][x].length==2?_[g][x][0]=ie:_[g][x]=ie,N=null),M){if(K)throw new Error("SYLK shared formula cannot have own formula");var H=J>-1&&_[J][Y];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");_[g][x][1]=XG(H[1],{r:g-J,c:x-Y})}break;case"F":var I=0;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"X":x=parseInt(z[y].slice(1))-1,++I;break;case"Y":for(g=parseInt(z[y].slice(1))-1,D=_.length;D<=g;++D)_[D]=[];break;case"M":b=parseInt(z[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(z[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=z[y].slice(1).split(" "),D=parseInt(T[0],10);D<=parseInt(T[1],10);++D)b=parseInt(T[2],10),k[D-1]=b===0?{hidden:!0}:{wch:b},q_(k[D-1]);break;case"C":x=parseInt(z[y].slice(1))-1,k[x]||(k[x]={});break;case"R":g=parseInt(z[y].slice(1))-1,E[g]||(E[g]={}),b>0?(E[g].hpt=b,E[g].hpx=Fj(b)):b===0&&(E[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}I<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+R)}}return E.length>0&&(U["!rows"]=E),k.length>0&&(U["!cols"]=k),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,U]}function s(h,m){var p=a(h,m),g=p[0],x=p[1],v=Vu(g,m);return Br(x).forEach(function(y){v[y]=x[y]}),v}function o(h,m){return kl(s(h,m),m)}function l(h,m,p,g){var x="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+H_(h.f,{r:p,c:g}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,m){m.forEach(function(p,g){var x="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Qm(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Ym(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,m){m.forEach(function(p,g){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*Xm(p.hpx)+";"),x.length>2&&h.push(x+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],x=Lt(h["!ref"]),v,y=Array.isArray(h),_=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var N=x.s.c;N<=x.e.c;++N){var U=_t({r:w,c:N});v=y?(h[w]||[])[N]:h[U],!(!v||v.v==null&&(!v.f||v.F))&&g.push(l(v,h,w,N))}return p.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),JH=function(){function e(i,s){switch(s.type){case"base64":return t(Xi(i),s);case"binary":return t(i,s);case"buffer":return t(ut&&Buffer.isBuffer(i)?i.toString("binary"):bh(i),s);case"array":return t(Hg(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=o[d]||"";(g.match(/["]/g)||[]).length&1&&d<o.length-1;)g+=`
`+o[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN($i(p))?isNaN(Sf(p).getDate())?f[l][u]=p:f[l][u]=nn(p):f[l][u]=$i(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Vu(e(i,s),s)}function n(i,s){return kl(r(i,s),s)}var a=function(){var i=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Lt(l["!ref"]),f,h=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){s(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=_t({r:m,c:p});if(f=h?(l[m]||[])[p]:l[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=fo(f.z||Qt[14],Cn(nn(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),kj=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,x=0,v=[];x!==m.length;++x){var y=m[x].trim().split(":");if(y[0]==="cell"){var _=Tr(y[1]);if(v.length<=_.r)for(p=v.length;p<=_.r;++p)v[p]||(v[p]=[]);switch(p=_.r,g=_.c,y[2]){case"t":v[p][g]=e(y[3]);break;case"v":v[p][g]=+y[3];break;case"vtf":var w=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[p][g]=!!+y[4];break;default:v[p][g]=+y[4];break}y[2]=="vtf"&&(v[p][g]=[v[p][g],w])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Vu(r(f,h),h)}function a(f,h){return kl(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",x=Jn(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var _=x.s.c;_<=x.e.c;++_)if(g=_t({r:y,c:_}),p=v?(f[y]||[])[_]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var w=Cn(nn(p.v));m[2]="vtc",m[3]="nd",m[4]=""+w,m[5]=p.w||fo(p.z||Qt[14],w);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),eG=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN($i(d))?isNaN(Sf(d).getDate())?f[h][m]=d:f[h][m]=nn(d):f[h][m]=$i(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var x=10,v=0,y=0;y<=g;++y)v=p[y].indexOf(" "),v==-1?v=p[y].length:v++,x=Math.max(x,v);for(y=0;y<=g;++y){m[y]=[];var _=0;for(e(p[y].slice(0,x).trim(),m,y,_,h),_=1;_<=(p[y].length-x)/10+1;++_)e(p[y].slice(x+(_-1)*10,x+_*10).trim(),m,y,_,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,x){return g[0]-x[0]||n[g[1]]-n[x[1]]}),r[p.pop()[1]]||44}function i(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var x=0,v=0,y=0,_=0,w=0,N=m.charCodeAt(0),U=!1,E=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?pV(h.dateNF):null;function b(){var D=d.slice(_,w),R={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)R.t="z";else if(h.raw)R.t="s",R.v=D;else if(D.trim().length===0)R.t="s",R.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(R.t="s",R.v=D.slice(2,-1).replace(/""/g,'"')):ZG(D)?(R.t="n",R.f=D.slice(1)):(R.t="s",R.v=D);else if(D=="TRUE")R.t="b",R.v=!0;else if(D=="FALSE")R.t="b",R.v=!1;else if(!isNaN(y=$i(D)))R.t="n",h.cellText!==!1&&(R.w=D),R.v=y;else if(!isNaN(Sf(D).getDate())||T&&D.match(T)){R.z=h.dateNF||Qt[14];var z=0;T&&D.match(T)&&(D=vV(D,h.dateNF,D.match(T)||[]),z=1),h.cellDates?(R.t="d",R.v=nn(D,z)):(R.t="n",R.v=Cn(nn(D,z))),h.cellText!==!1&&(R.w=fo(R.z,R.v instanceof Date?Cn(R.v):R.v)),h.cellNF||delete R.z}else R.t="s",R.v=D;if(R.t=="z"||(h.dense?(p[x]||(p[x]=[]),p[x][v]=R):p[_t({c:v,r:x})]=R),_=w+1,k=d.charCodeAt(_),g.e.c<v&&(g.e.c=v),g.e.r<x&&(g.e.r=x),E==N)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;w<d.length;++w)switch(E=d.charCodeAt(w)){case 34:k===34&&(U=!U);break;case N:case 10:case 13:if(!U&&b())break e;break}return w-_>0&&b(),p["!ref"]=cr(g),p}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Vu(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:fX(d,f);switch(f.type){case"base64":h=Xi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Uo<"u"?h=Uo.utils.decode(f.codepage,d):h=ut&&Buffer.isBuffer(d)?d.toString("binary"):bh(d);break;case"array":h=Hg(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=$d(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=$d(h):f.type=="binary"&&typeof Uo<"u"&&f.codepage&&(h=Uo.utils.decode(f.codepage,Uo.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?kj.to_sheet(f.type=="string"?h:$d(h),f):s(h,f)}function l(d,f){return kl(o(d,f),f)}function u(d){for(var f=[],h=Lt(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=_t({r:g,c:v});if(m=p?(d[g]||[])[v]:d[y],!m||m.v==null){x.push("          ");continue}for(var _=(m.w||(Zi(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),f2=function(){function e(P,H,I){if(P){Mn(P,P.l||0);for(var L=I.Enum||J;P.l<P.length;){var W=P.read_shift(2),se=L[W]||L[65535],fe=P.read_shift(2),ve=P.l+fe,ge=se.f&&se.f(P,fe,I);if(P.l=ve,H(ge,se,W))return}}}function t(P,H){switch(H.type){case"base64":return r(Ia(Xi(P)),H);case"binary":return r(Ia(P),H);case"buffer":case"array":return r(P,H)}throw"Unsupported type "+H.type}function r(P,H){if(!P)return P;var I=H||{},L=I.dense?[]:{},W="Sheet1",se="",fe=0,ve={},ge=[],Le=[],Ue={s:{r:0,c:0},e:{r:0,c:0}},Ot=I.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)I.Enum=J,e(P,function(Ne,vr,Tt){switch(Tt){case 0:I.vers=Ne,Ne>=4096&&(I.qpro=!0);break;case 6:Ue=Ne;break;case 204:Ne&&(se=Ne);break;case 222:se=Ne;break;case 15:case 51:I.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:Tt==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=I.dateNF||Qt[14],I.cellDates&&(Ne[1].t="d",Ne[1].v=Q4(Ne[1].v))),I.qpro&&Ne[3]>fe&&(L["!ref"]=cr(Ue),ve[W]=L,ge.push(W),L=I.dense?[]:{},Ue={s:{r:0,c:0},e:{r:0,c:0}},fe=Ne[3],W=se||"Sheet"+(fe+1),se="");var G=I.dense?(L[Ne[0].r]||[])[Ne[0].c]:L[_t(Ne[0])];if(G){G.t=Ne[1].t,G.v=Ne[1].v,Ne[1].z!=null&&(G.z=Ne[1].z),Ne[1].f!=null&&(G.f=Ne[1].f);break}I.dense?(L[Ne[0].r]||(L[Ne[0].r]=[]),L[Ne[0].r][Ne[0].c]=Ne[1]):L[_t(Ne[0])]=Ne[1];break}},I);else if(P[2]==26||P[2]==14)I.Enum=Y,P[2]==14&&(I.qpro=!0,P.l=0),e(P,function(Ne,vr,Tt){switch(Tt){case 204:W=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>fe&&(L["!ref"]=cr(Ue),ve[W]=L,ge.push(W),L=I.dense?[]:{},Ue={s:{r:0,c:0},e:{r:0,c:0}},fe=Ne[3],W="Sheet"+(fe+1)),Ot>0&&Ne[0].r>=Ot)break;I.dense?(L[Ne[0].r]||(L[Ne[0].r]=[]),L[Ne[0].r][Ne[0].c]=Ne[1]):L[_t(Ne[0])]=Ne[1],Ue.e.c<Ne[0].c&&(Ue.e.c=Ne[0].c),Ue.e.r<Ne[0].r&&(Ue.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(Le[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:Le[Ne[0]]=Ne[1],Ne[0]==fe&&(W=Ne[1]);break}},I);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(L["!ref"]=cr(Ue),ve[se||W]=L,ge.push(se||W),!Le.length)return{SheetNames:ge,Sheets:ve};for(var Ye={},$r=[],ht=0;ht<Le.length;++ht)ve[ge[ht]]?($r.push(Le[ht]||ge[ht]),Ye[Le[ht]]=ve[Le[ht]]||ve[ge[ht]]):($r.push(Le[ht]),Ye[Le[ht]]={"!ref":"A1"});return{SheetNames:$r,Sheets:Ye}}function n(P,H){var I=H||{};if(+I.codepage>=0&&wf(+I.codepage),I.type=="string")throw new Error("Cannot write WK1 to JS string");var L=Sn(),W=Lt(P["!ref"]),se=Array.isArray(P),fe=[];Se(L,0,i(1030)),Se(L,6,l(W));for(var ve=Math.min(W.e.r,8191),ge=W.s.r;ge<=ve;++ge)for(var Le=Ur(ge),Ue=W.s.c;Ue<=W.e.c;++Ue){ge===W.s.r&&(fe[Ue]=Hr(Ue));var Ot=fe[Ue]+Le,Ye=se?(P[ge]||[])[Ue]:P[Ot];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?Se(L,13,m(ge,Ue,Ye.v)):Se(L,14,g(ge,Ue,Ye.v));else{var $r=Zi(Ye);Se(L,15,f(ge,Ue,$r.slice(0,239)))}}return Se(L,1),L.end()}function a(P,H){var I=H||{};if(+I.codepage>=0&&wf(+I.codepage),I.type=="string")throw new Error("Cannot write WK3 to JS string");var L=Sn();Se(L,0,s(P));for(var W=0,se=0;W<P.SheetNames.length;++W)(P.Sheets[P.SheetNames[W]]||{})["!ref"]&&Se(L,27,K(P.SheetNames[W],se++));var fe=0;for(W=0;W<P.SheetNames.length;++W){var ve=P.Sheets[P.SheetNames[W]];if(!(!ve||!ve["!ref"])){for(var ge=Lt(ve["!ref"]),Le=Array.isArray(ve),Ue=[],Ot=Math.min(ge.e.r,8191),Ye=ge.s.r;Ye<=Ot;++Ye)for(var $r=Ur(Ye),ht=ge.s.c;ht<=ge.e.c;++ht){Ye===ge.s.r&&(Ue[ht]=Hr(ht));var Ne=Ue[ht]+$r,vr=Le?(ve[Ye]||[])[ht]:ve[Ne];if(!(!vr||vr.t=="z"))if(vr.t=="n")Se(L,23,b(Ye,ht,fe,vr.v));else{var Tt=Zi(vr);Se(L,22,E(Ye,ht,fe,Tt.slice(0,239)))}}++fe}}return Se(L,1),L.end()}function i(P){var H=oe(2);return H.write_shift(2,P),H}function s(P){var H=oe(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var I=0,L=0,W=0,se=0;se<P.SheetNames.length;++se){var fe=P.SheetNames[se],ve=P.Sheets[fe];if(!(!ve||!ve["!ref"])){++W;var ge=Jn(ve["!ref"]);I<ge.e.r&&(I=ge.e.r),L<ge.e.c&&(L=ge.e.c)}}return I>8191&&(I=8191),H.write_shift(2,I),H.write_shift(1,W),H.write_shift(1,L),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,I){var L={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&I.qpro?(L.s.c=P.read_shift(1),P.l++,L.s.r=P.read_shift(2),L.e.c=P.read_shift(1),P.l++,L.e.r=P.read_shift(2),L):(L.s.c=P.read_shift(2),L.s.r=P.read_shift(2),H==12&&I.qpro&&(P.l+=2),L.e.c=P.read_shift(2),L.e.r=P.read_shift(2),H==12&&I.qpro&&(P.l+=2),L.s.c==65535&&(L.s.c=L.e.c=L.s.r=L.e.r=0),L)}function l(P){var H=oe(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function u(P,H,I){var L=[{c:0,r:0},{t:"n",v:0},0,0];return I.qpro&&I.vers!=20768?(L[0].c=P.read_shift(1),L[3]=P.read_shift(1),L[0].r=P.read_shift(2),P.l+=2):(L[2]=P.read_shift(1),L[0].c=P.read_shift(2),L[0].r=P.read_shift(2)),L}function d(P,H,I){var L=P.l+H,W=u(P,H,I);if(W[1].t="s",I.vers==20768){P.l++;var se=P.read_shift(1);return W[1].v=P.read_shift(se,"utf8"),W}return I.qpro&&P.l++,W[1].v=P.read_shift(L-P.l,"cstr"),W}function f(P,H,I){var L=oe(7+I.length);L.write_shift(1,255),L.write_shift(2,H),L.write_shift(2,P),L.write_shift(1,39);for(var W=0;W<L.length;++W){var se=I.charCodeAt(W);L.write_shift(1,se>=128?95:se)}return L.write_shift(1,0),L}function h(P,H,I){var L=u(P,H,I);return L[1].v=P.read_shift(2,"i"),L}function m(P,H,I){var L=oe(7);return L.write_shift(1,255),L.write_shift(2,H),L.write_shift(2,P),L.write_shift(2,I,"i"),L}function p(P,H,I){var L=u(P,H,I);return L[1].v=P.read_shift(8,"f"),L}function g(P,H,I){var L=oe(13);return L.write_shift(1,255),L.write_shift(2,H),L.write_shift(2,P),L.write_shift(8,I,"f"),L}function x(P,H,I){var L=P.l+H,W=u(P,H,I);if(W[1].v=P.read_shift(8,"f"),I.qpro)P.l=L;else{var se=P.read_shift(2);w(P.slice(P.l,P.l+se),W),P.l+=se}return W}function v(P,H,I){var L=H&32768;return H&=-32769,H=(L?P:0)+(H>=8192?H-16384:H),(L?"":"$")+(I?Hr(H):Ur(H))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(P,H){Mn(P,0);for(var I=[],L=0,W="",se="",fe="",ve="";P.l<P.length;){var ge=P[P.l++];switch(ge){case 0:I.push(P.read_shift(8,"f"));break;case 1:se=v(H[0].c,P.read_shift(2),!0),W=v(H[0].r,P.read_shift(2),!1),I.push(se+W);break;case 2:{var Le=v(H[0].c,P.read_shift(2),!0),Ue=v(H[0].r,P.read_shift(2),!1);se=v(H[0].c,P.read_shift(2),!0),W=v(H[0].r,P.read_shift(2),!1),I.push(Le+Ue+":"+se+W)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:I.push("("+I.pop()+")");break;case 5:I.push(P.read_shift(2));break;case 6:{for(var Ot="";ge=P[P.l++];)Ot+=String.fromCharCode(ge);I.push('"'+Ot.replace(/"/g,'""')+'"')}break;case 8:I.push("-"+I.pop());break;case 23:I.push("+"+I.pop());break;case 22:I.push("NOT("+I.pop()+")");break;case 20:case 21:ve=I.pop(),fe=I.pop(),I.push(["AND","OR"][ge-20]+"("+fe+","+ve+")");break;default:if(ge<32&&_[ge])ve=I.pop(),fe=I.pop(),I.push(fe+_[ge]+ve);else if(y[ge]){if(L=y[ge][1],L==69&&(L=P[P.l++]),L>I.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+I.join("|")+"|");return}var Ye=I.slice(-L);I.length-=L,I.push(y[ge][0]+"("+Ye.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}I.length==1?H[1].f=""+I[0]:console.error("WK1 bad formula parse |"+I.join("|")+"|")}function N(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function U(P,H){var I=N(P);return I[1].t="s",I[1].v=P.read_shift(H-4,"cstr"),I}function E(P,H,I,L){var W=oe(6+L.length);W.write_shift(2,P),W.write_shift(1,I),W.write_shift(1,H),W.write_shift(1,39);for(var se=0;se<L.length;++se){var fe=L.charCodeAt(se);W.write_shift(1,fe>=128?95:fe)}return W.write_shift(1,0),W}function k(P,H){var I=N(P);I[1].v=P.read_shift(2);var L=I[1].v>>1;if(I[1].v&1)switch(L&7){case 0:L=(L>>3)*5e3;break;case 1:L=(L>>3)*500;break;case 2:L=(L>>3)/20;break;case 3:L=(L>>3)/200;break;case 4:L=(L>>3)/2e3;break;case 5:L=(L>>3)/2e4;break;case 6:L=(L>>3)/16;break;case 7:L=(L>>3)/64;break}return I[1].v=L,I}function T(P,H){var I=N(P),L=P.read_shift(4),W=P.read_shift(4),se=P.read_shift(2);if(se==65535)return L===0&&W===3221225472?(I[1].t="e",I[1].v=15):L===0&&W===3489660928?(I[1].t="e",I[1].v=42):I[1].v=0,I;var fe=se&32768;return se=(se&32767)-16446,I[1].v=(1-fe*2)*(W*Math.pow(2,se+32)+L*Math.pow(2,se)),I}function b(P,H,I,L){var W=oe(14);if(W.write_shift(2,P),W.write_shift(1,I),W.write_shift(1,H),L==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var se=0,fe=0,ve=0,ge=0;return L<0&&(se=1,L=-L),fe=Math.log2(L)|0,L/=Math.pow(2,fe-31),ge=L>>>0,ge&2147483648||(L/=2,++fe,ge=L>>>0),L-=ge,ge|=2147483648,ge>>>=0,L*=Math.pow(2,32),ve=L>>>0,W.write_shift(4,ve),W.write_shift(4,ge),fe+=16383+(se?32768:0),W.write_shift(2,fe),W}function D(P,H){var I=T(P);return P.l+=H-14,I}function R(P,H){var I=N(P),L=P.read_shift(4);return I[1].v=L>>6,I}function z(P,H){var I=N(P),L=P.read_shift(8,"f");return I[1].v=L,I}function re(P,H){var I=z(P);return P.l+=H-10,I}function ie(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function O(P,H){var I=P[P.l++];I>H-1&&(I=H-1);for(var L="";L.length<I;)L+=String.fromCharCode(P[P.l++]);return L}function Q(P,H,I){if(!(!I.qpro||H<21)){var L=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var W=P.read_shift(H-21,"cstr");return[L,W]}}function M(P,H){for(var I={},L=P.l+H;P.l<L;){var W=P.read_shift(2);if(W==14e3){for(I[W]=[0,""],I[W][0]=P.read_shift(2);P[P.l];)I[W][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return I}function K(P,H){var I=oe(5+P.length);I.write_shift(2,14e3),I.write_shift(2,H);for(var L=0;L<P.length;++L){var W=P.charCodeAt(L);I[I.l++]=W>127?95:W}return I[I.l++]=0,I}var J={0:{n:"BOF",f:Rj},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:O},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),tG=/^\s|\s$|[\t\n\r]/;function Dj(e,t){if(!t.bookSST)return"";var r=[ur];r[r.length]=be("sst",null,{xmlns:qu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(tG)&&(i+=' xml:space="preserve"'),i+=">"+yt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function rG(e){return[e.read_shift(4),e.read_shift(4)]}function nG(e,t){return t||(t=oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var aG=WV;function iG(e){var t=Sn();he(t,159,nG(e));for(var r=0;r<e.length;++r)he(t,19,aG(e[r]));return he(t,160),t.end()}function sG(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Mj(e){var t=0,r,n=sG(e),a=n.length+1,i,s,o,l,u;for(r=yl(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^s;return t^52811}var oG=function(){function e(a,i){switch(i.type){case"base64":return t(Xi(a),i);case"binary":return t(a,i);case"buffer":return t(ut&&Buffer.isBuffer(a)?a.toString("binary"):bh(a),i);case"array":return t(Hg(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var x=d.slice(m,h.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var v={v:x,t:"s"};Array.isArray(o)?o[f][g]=v:o[_t({r:f,c:g})]=v}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=cr(u),o}function r(a,i){return kl(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Lt(a["!ref"]),o,l=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=_t({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Zi(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function h2(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var lG=6,qi=lG;function Qm(e){return Math.floor((e+Math.round(128/qi)/256)*qi)}function Ym(e){return Math.floor((e-5)/qi*100+.5)/100}function Ay(e){return Math.round((e*qi+5)/qi*256)/256}function q_(e){e.width?(e.wpx=Qm(e.width),e.wch=Ym(e.wpx),e.MDW=qi):e.wpx?(e.wch=Ym(e.wpx),e.width=Ay(e.wch),e.MDW=qi):typeof e.wch=="number"&&(e.width=Ay(e.wch),e.wpx=Qm(e.width),e.MDW=qi),e.customWidth&&delete e.customWidth}var cG=96,Ij=cG;function Xm(e){return e*96/Ij}function Fj(e){return e*Ij/96}function uG(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=be("numFmt",null,{numFmtId:n,formatCode:yt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=be("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function dG(e){var t=[];return t[t.length]=be("cellXfs",null),e.forEach(function(r){t[t.length]=be("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=be("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Lj(e,t){var r=[ur,be("styleSheet",null,{xmlns:qu[0],"xmlns:vt":Er.vt})],n;return e.SSF&&(n=uG(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=dG(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function fG(e,t){var r=e.read_shift(2),n=Gr(e);return[r,n]}function hG(e,t,r){r||(r=oe(6+4*t.length)),r.write_shift(2,e),Cr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function mG(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=tH(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=eH(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Gr(e),n}function gG(e,t){t||(t=oe(25+4*32)),t.write_shift(2,e.sz*20),rH(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Km(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Cr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var pG=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],xv,vG=si;function m2(e,t){t||(t=oe(4*3+8*7+16*1)),xv||(xv=j_(pG));var r=xv[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Km({auto:1},t),Km({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function xG(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Pj(e,t,r){r||(r=oe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function cd(e,t){return t||(t=oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var yG=si;function _G(e,t){return t||(t=oe(51)),t.write_shift(1,0),cd(null,t),cd(null,t),cd(null,t),cd(null,t),cd(null,t),t.length>t.l?t.slice(0,t.l):t}function wG(e,t){return t||(t=oe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Gm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function bG(e,t,r){var n=oe(2052);return n.write_shift(4,e),Gm(t,n),Gm(r,n),n.length>n.l?n.slice(0,n.l):n}function SG(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(he(e,615,Ua(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&he(e,44,hG(a,t[a]))}),he(e,616))}}function EG(e){var t=1;he(e,611,Ua(t)),he(e,43,gG({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),he(e,612)}function TG(e){var t=2;he(e,603,Ua(t)),he(e,45,m2({patternType:"none"})),he(e,45,m2({patternType:"gray125"})),he(e,604)}function CG(e){var t=1;he(e,613,Ua(t)),he(e,46,_G()),he(e,614)}function RG(e){var t=1;he(e,626,Ua(t)),he(e,47,Pj({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),he(e,627)}function AG(e,t){he(e,617,Ua(t.length)),t.forEach(function(r){he(e,47,Pj(r,0))}),he(e,618)}function NG(e){var t=1;he(e,619,Ua(t)),he(e,48,wG({xfId:0,builtinId:0,name:"Normal"})),he(e,620)}function OG(e){var t=0;he(e,505,Ua(t)),he(e,506)}function jG(e){var t=0;he(e,508,bG(t,"TableStyleMedium9","PivotStyleMedium4")),he(e,509)}function kG(e,t){var r=Sn();return he(r,278),SG(r,e.SSF),EG(r),TG(r),CG(r),RG(r),AG(r,t.cellXfs),NG(r),OG(r),jG(r),he(r,279),r.end()}function Uj(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ur];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function DG(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Gr(e)}}function MG(e){var t=oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Cr(e.name,t),t.slice(0,t.l)}function IG(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function FG(e){var t=oe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function LG(e,t){var r=oe(8+2*t.length);return r.write_shift(4,e),Cr(t,r),r.slice(0,r.l)}function PG(e){return e.l+=4,e.read_shift(4)!=0}function UG(e,t){var r=oe(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}function BG(){var e=Sn();return he(e,332),he(e,334,Ua(1)),he(e,335,MG({name:"XLDAPR",version:12e4,flags:3496657072})),he(e,336),he(e,339,LG(1,"XLDAPR")),he(e,52),he(e,35,Ua(514)),he(e,4096,Ua(0)),he(e,4097,sa(1)),he(e,36),he(e,53),he(e,340),he(e,337,UG(1,!0)),he(e,51,FG([[1,0]])),he(e,338),he(e,333),e.end()}function Bj(){var e=[ur];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function zG(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=_t(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var yc=1024;function zj(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[be("xml",null,{"xmlns:v":Ln.v,"xmlns:o":Ln.o,"xmlns:x":Ln.x,"xmlns:mv":Ln.mv}).replace(/\/>/,">"),be("o:shapelayout",be("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),be("v:shapetype",[be("v:stroke",null,{joinstyle:"miter"}),be("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];yc<e*1e3;)yc+=1e3;return t.forEach(function(i){var s=Tr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?be("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=be("v:fill",l,o),d={on:"t",obscured:"t"};++yc,a=a.concat(["<v:shape"+Ef({id:"_x0000_s"+yc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,be("v:shadow",null,d),be("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Fr("x:AutoFill","False"),Fr("x:Row",String(s.r)),Fr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function $j(e){var t=[ur,be("comments",null,{xmlns:qu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=yt(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(yt(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Fr("t",yt(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Fr("t",yt(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function $G(e,t,r){var n=[ur,be("ThreadedComments",null,{xmlns:Er.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(be("threadedComment",Fr("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function qG(e){var t=[ur,be("personList",null,{xmlns:Er.TCMNT,"xmlns:x":qu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(be("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function VG(e){var t={};t.iauthor=e.read_shift(4);var r=Fl(e);return t.rfx=r.s,t.ref=_t(r.s),e.l+=16,t}function HG(e,t){return t==null&&(t=oe(36)),t.write_shift(4,e[1].iauthor),Hu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var GG=Gr;function KG(e){return Cr(e.slice(0,54))}function WG(e){var t=Sn(),r=[];return he(t,628),he(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),he(t,632,KG(a.a)))})}),he(t,631),he(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Tr(n[0]),e:Tr(n[0])};he(t,635,HG([i,a])),a.t&&a.t.length>0&&he(t,637,YV(a)),he(t,636),delete a.iauthor})}),he(t,634),he(t,629),t.end()}function QG(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&St.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var qj=["xlsb","xlsm","xlam","biff8","xla"],YG=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+Hr(d)+(l?"":"$")+Ur(u)}return function(a,i){return t=i,a.replace(e,r)}}(),V_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,H_=function(){return function(t,r){return t.replace(V_,function(n,a,i,s,o,l){var u=P_(s)-(i?0:r.c),d=L_(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function XG(e,t){return e.replace(V_,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Hr(P_(i)+t.c))+(s=="$"?s+o:Ur(L_(o)+t.r))})}function ZG(e){return e.length!=1}function tr(e){e.l+=1}function ho(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function Vj(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Hj(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=ho(e,2),o=ho(e,2);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Hj(e){var t=ho(e,2),r=ho(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function JG(e,t,r){if(r.biff<8)return Hj(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=ho(e,2),s=ho(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Gj(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return eK(e);var n=e.read_shift(r&&r.biff==12?4:2),a=ho(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function eK(e){var t=ho(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function tK(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function rK(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return nK(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function nK(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function aK(e,t,r){var n=(e[e.l++]&96)>>5,a=Vj(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function iK(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Vj(e,i,r);return[n,a,s]}function sK(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function oK(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function lK(e,t,r){var n=(e[e.l++]&96)>>5,a=JG(e,t-1,r);return[n,a]}function cK(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function g2(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function uK(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function dK(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function fK(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hK(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function mK(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Kj(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function gK(e){return e.read_shift(2),Kj(e)}function pK(e){return e.read_shift(2),Kj(e)}function vK(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Gj(e,0,r);return[n,a]}function xK(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=rK(e,0,r);return[n,a]}function yK(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Gj(e,0,r);return[n,a,i]}function _K(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[_W[a],Yj[a],n]}function wK(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:bK(e);return[a,(i[0]===0?Yj:yW)[i[1]]]}function bK(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function SK(e,t,r){e.l+=r&&r.biff==2?3:4}function EK(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function TK(e){return e.l++,Th[e.read_shift(1)]}function CK(e){return e.l++,e.read_shift(2)}function RK(e){return e.l++,e.read_shift(1)!==0}function AK(e){return e.l++,Gu(e)}function NK(e,t,r){return e.l++,Nj(e,t-1,r)}function OK(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=yH(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Th[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Gu(e);break;case 2:r[1]=SH(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function jK(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Fl:CH)(e));return a}function kK(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=OK(e,r.biff);return s}function DK(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function MK(e,t,r){if(r.biff==5)return IK(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function IK(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function FK(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function LK(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function PK(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function UK(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var BK=si,zK=si,$K=si;function Ch(e,t,r){return e.l+=2,[tK(e)]}function G_(e){return e.l+=6,[]}var qK=Ch,VK=G_,HK=G_,GK=Ch;function Wj(e){return e.l+=2,[Rj(e),e.read_shift(2)&1]}var KK=Ch,WK=Wj,QK=G_,YK=Ch,XK=Ch,ZK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function JK(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=ZK[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function eW(e){return e.l+=2,[e.read_shift(4)]}function tW(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function rW(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function nW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function aW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function iW(e){return e.l+=4,[0,0]}var p2={1:{n:"PtgExp",f:EK},2:{n:"PtgTbl",f:$K},3:{n:"PtgAdd",f:tr},4:{n:"PtgSub",f:tr},5:{n:"PtgMul",f:tr},6:{n:"PtgDiv",f:tr},7:{n:"PtgPower",f:tr},8:{n:"PtgConcat",f:tr},9:{n:"PtgLt",f:tr},10:{n:"PtgLe",f:tr},11:{n:"PtgEq",f:tr},12:{n:"PtgGe",f:tr},13:{n:"PtgGt",f:tr},14:{n:"PtgNe",f:tr},15:{n:"PtgIsect",f:tr},16:{n:"PtgUnion",f:tr},17:{n:"PtgRange",f:tr},18:{n:"PtgUplus",f:tr},19:{n:"PtgUminus",f:tr},20:{n:"PtgPercent",f:tr},21:{n:"PtgParen",f:tr},22:{n:"PtgMissArg",f:tr},23:{n:"PtgStr",f:NK},26:{n:"PtgSheet",f:tW},27:{n:"PtgEndSheet",f:rW},28:{n:"PtgErr",f:TK},29:{n:"PtgBool",f:RK},30:{n:"PtgInt",f:CK},31:{n:"PtgNum",f:AK},32:{n:"PtgArray",f:cK},33:{n:"PtgFunc",f:_K},34:{n:"PtgFuncVar",f:wK},35:{n:"PtgName",f:DK},36:{n:"PtgRef",f:vK},37:{n:"PtgArea",f:aK},38:{n:"PtgMemArea",f:FK},39:{n:"PtgMemErr",f:BK},40:{n:"PtgMemNoMem",f:zK},41:{n:"PtgMemFunc",f:LK},42:{n:"PtgRefErr",f:PK},43:{n:"PtgAreaErr",f:sK},44:{n:"PtgRefN",f:xK},45:{n:"PtgAreaN",f:lK},46:{n:"PtgMemAreaN",f:nW},47:{n:"PtgMemNoMemN",f:aW},57:{n:"PtgNameX",f:MK},58:{n:"PtgRef3d",f:yK},59:{n:"PtgArea3d",f:iK},60:{n:"PtgRefErr3d",f:UK},61:{n:"PtgAreaErr3d",f:oK},255:{}},sW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oW={1:{n:"PtgElfLel",f:Wj},2:{n:"PtgElfRw",f:YK},3:{n:"PtgElfCol",f:qK},6:{n:"PtgElfRwV",f:XK},7:{n:"PtgElfColV",f:GK},10:{n:"PtgElfRadical",f:KK},11:{n:"PtgElfRadicalS",f:QK},13:{n:"PtgElfColS",f:VK},15:{n:"PtgElfColSV",f:HK},16:{n:"PtgElfRadicalLel",f:WK},25:{n:"PtgList",f:JK},29:{n:"PtgSxName",f:eW},255:{}},lW={0:{n:"PtgAttrNoop",f:iW},1:{n:"PtgAttrSemi",f:mK},2:{n:"PtgAttrIf",f:fK},4:{n:"PtgAttrChoose",f:uK},8:{n:"PtgAttrGoto",f:dK},16:{n:"PtgAttrSum",f:SK},32:{n:"PtgAttrBaxcel",f:g2},33:{n:"PtgAttrBaxcel",f:g2},64:{n:"PtgAttrSpace",f:gK},65:{n:"PtgAttrSpaceSemi",f:pK},128:{n:"PtgAttrIfError",f:hK},255:{}};function cW(e,t,r,n){if(n.biff<8)return si(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=kK(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=jK(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(si(e,t)),i}function uW(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=p2[i]||p2[sW[i]],(i===24||i===25)&&(a=(i===24?oW:lW)[e[e.l+1]]),!a||!a.f?si(e,t):s.push([a.n,a.f(e,t,r)]);return s}function dW(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var fW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hW(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Qj(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function v2(e,t,r){var n=Qj(e,t,r);return n=="#REF"?n:hW(n,r)}function _u(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",v=0,y=e[0].length;v<y;++v){var _=e[0][v];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=Kt(" ",e[0][g][1][1]);break;case 1:x=Kt("\r",e[0][g][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+x,g=-1}o.push(u+fW[_[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Vd(_[1][1],s,a),o.push(Hd(d,i));break;case"PtgRefN":d=r?Vd(_[1][1],r,a):_[1][1],o.push(Hd(d,i));break;case"PtgRef3d":f=_[1][1],d=Vd(_[1][2],s,a),p=v2(n,f,a),o.push(p+"!"+Hd(d,i));break;case"PtgFunc":case"PtgFuncVar":var w=_[1][0],N=_[1][1];w||(w=0),w&=127;var U=w==0?[]:o.slice(-w);o.length-=w,N==="User"&&(N=U.shift()),o.push(N+"("+U.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":m=t2(_[1][1],r?{s:r}:s,a),o.push(pv(m,a));break;case"PtgArea":m=t2(_[1][1],s,a),o.push(pv(m,a));break;case"PtgArea3d":f=_[1][1],m=_[1][2],p=v2(n,f,a),o.push(p+"!"+pv(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],k=E?E.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var T=_[1][1];h=_[1][2];var b;if(a.biff<=5)T<0&&(T=-T),n[T]&&(b=n[T][h]);else{var D="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(D=n.SheetNames[n[T][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])D+=n[T][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var R=(Qj(n,T,a)||"").split(";;");R[h-1]?D=R[h-1]:D+="SH33TJSERRX"}o.push(D);break}b||(b={Name:"SH33TJSERRY"}),o.push(b.Name);break;case"PtgParen":var z="(",re=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:z=Kt(" ",e[0][g][1][1])+z;break;case 3:z=Kt("\r",e[0][g][1][1])+z;break;case 4:re=Kt(" ",e[0][g][1][1])+re;break;case 5:re=Kt("\r",e[0][g][1][1])+re;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(z+o.pop()+re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var ie={c:r.c,r:r.r};if(n.sharedf[_t(d)]){var O=n.sharedf[_t(d)];o.push(_u(O,s,ie,n,a))}else{var Q=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(_u(u[1],s,ie,n,a)),Q=!0;break}Q||o.push(_[1])}break;case"PtgArray":o.push("{"+dW(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&M.indexOf(e[0][v][0])==-1){_=e[0][g];var K=!0;switch(_[1][0]){case 4:K=!1;case 0:x=Kt(" ",_[1][1]);break;case 5:K=!1;case 1:x=Kt("\r",_[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((K?x:"")+o.pop()+(K?"":x)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function mW(e){if(e==null){var t=oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return _l(e);return _l(0)}function gW(e,t,r,n,a){var i=wl(t,r,a),s=mW(e.v),o=oe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=oe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Ir([i,s,o,u]);return f}function Gg(e,t,r){var n=e.read_shift(4),a=uW(e,n,r),i=e.read_shift(4),s=i>0?cW(e,i,a,r):null;return[a,s]}var pW=Gg,Kg=Gg,vW=Gg,xW=Gg,yW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Yj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_W={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wW(e){var t="of:="+e.replace(V_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function bW(e){return e.replace(/\./,"!")}var Gd=typeof Map<"u";function K_(e,t,r){var n=0,a=e.length;if(r){if(Gd?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Gd?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Gd?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Wg(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(qi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Ym(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Ay(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Xj(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function _o(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){G4(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function SW(e,t,r){if(e&&e["!ref"]){var n=Lt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function EW(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+cr(e[r])+'"/>';return t+"</mergeCells>"}function TW(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Fi(yt(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+be("outlinePr",null,u)}!i&&!o||(a[a.length]=be("sheetPr",o,s))}var CW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],RW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function AW(e){var t={sheet:1};return CW.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),RW.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Mj(e.password).toString(16).toUpperCase()),be("sheetProtection",null,t)}function NW(e){return Xj(e),be("pageMargins",null,e)}function OW(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=be("col",null,Wg(a,n)));return r[r.length]="</cols>",r.join("")}function jW(e,t,r,n){var a=typeof e.ref=="string"?e.ref:cr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Jn(a);s.s.r==s.e.r&&(s.e.r=Jn(t["!ref"]).e.r,a=cr(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),be("autoFilter",null,{ref:a})}function kW(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),be("sheetViews",be("sheetView",null,a),{})}function DW(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Th[e.v];break;case"d":n&&n.cellDates?a=nn(e.v,-1).toISOString():(e=Rn(e),e.t="n",a=""+(e.v=Cn(nn(e.v)))),typeof e.z>"u"&&(e.z=Qt[14]);break;default:a=e.v;break}var o=Fr("v",yt(a)),l={r:t},u=_o(n.cellXfs,e,n);switch(u!==0&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Fr("v",""+K_(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=be("f",yt(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),be("c",o,l)}function MW(e,t,r,n){var a=[],i=[],s=Lt(e["!ref"]),o="",l,u="",d=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),g={r:u},x,v=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=Hr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=Ur(f),h=s.s.c;h<=s.e.c;++h){l=d[h]+u;var y=p?(e[f]||[])[h]:e[l];y!==void 0&&(o=DW(y,l,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=Xm(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),a[a.length]=be("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},x=m[f],x.hidden&&(g.hidden=1),v=-1,x.hpx?v=Xm(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(g.ht=v,g.customHeight=1),x.level&&(g.outlineLevel=x.level),a[a.length]=be("row","",g));return a.join("")}function Zj(e,t,r,n){var a=[ur,be("worksheet",null,{xmlns:qu[0],"xmlns:r":Er.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",d=Lt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=cr(d)}n||(n={}),l["!comments"]=[];var f=[];TW(l,r,e,t,a),a[a.length]=be("dimension",null,{ref:u}),a[a.length]=kW(l,t,e,r),t.sheetFormat&&(a[a.length]=be("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=OW(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=MW(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=AW(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=jW(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=EW(l["!merges"]));var h=-1,m,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=pt(n,-1,yt(g[1].Target).replace(/#.*$/,""),ct.HLINK),m["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(m.location=yt(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=yt(g[1].Tooltip)),a[a.length]=be("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=NW(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Fr("ignoredErrors",be("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(p=pt(n,-1,"../drawings/drawing"+(e+1)+".xml",ct.DRAW),a[a.length]=be("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=f),l["!comments"].length>0&&(p=pt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ct.VML),a[a.length]=be("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function IW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function FW(e,t,r){var n=oe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Xm(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[_t(u)];p&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function LW(e,t,r,n){var a=FW(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&he(e,0,a)}var PW=Fl,UW=Hu;function BW(){}function zW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=XV(e),r}function $W(e,t,r){r==null&&(r=oe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Km({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hj(e,r),r.slice(0,r.l)}function qW(e){var t=_a(e);return[t]}function VW(e,t,r){return r==null&&(r=oe(8)),Dl(t,r)}function HW(e){var t=Ml(e);return[t]}function GW(e,t,r){return r==null&&(r=oe(4)),Il(t,r)}function KW(e){var t=_a(e),r=e.read_shift(1);return[t,r,"b"]}function WW(e,t,r){return r==null&&(r=oe(9)),Dl(t,r),r.write_shift(1,e.v?1:0),r}function QW(e){var t=Ml(e),r=e.read_shift(1);return[t,r,"b"]}function YW(e,t,r){return r==null&&(r=oe(5)),Il(t,r),r.write_shift(1,e.v?1:0),r}function XW(e){var t=_a(e),r=e.read_shift(1);return[t,r,"e"]}function ZW(e,t,r){return r==null&&(r=oe(9)),Dl(t,r),r.write_shift(1,e.v),r}function JW(e){var t=Ml(e),r=e.read_shift(1);return[t,r,"e"]}function eQ(e,t,r){return r==null&&(r=oe(8)),Il(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function tQ(e){var t=_a(e),r=e.read_shift(4);return[t,r,"s"]}function rQ(e,t,r){return r==null&&(r=oe(12)),Dl(t,r),r.write_shift(4,t.v),r}function nQ(e){var t=Ml(e),r=e.read_shift(4);return[t,r,"s"]}function aQ(e,t,r){return r==null&&(r=oe(8)),Il(t,r),r.write_shift(4,t.v),r}function iQ(e){var t=_a(e),r=Gu(e);return[t,r,"n"]}function sQ(e,t,r){return r==null&&(r=oe(16)),Dl(t,r),_l(e.v,r),r}function oQ(e){var t=Ml(e),r=Gu(e);return[t,r,"n"]}function lQ(e,t,r){return r==null&&(r=oe(12)),Il(t,r),_l(e.v,r),r}function cQ(e){var t=_a(e),r=mj(e);return[t,r,"n"]}function uQ(e,t,r){return r==null&&(r=oe(12)),Dl(t,r),gj(e.v,r),r}function dQ(e){var t=Ml(e),r=mj(e);return[t,r,"n"]}function fQ(e,t,r){return r==null&&(r=oe(8)),Il(t,r),gj(e.v,r),r}function hQ(e){var t=_a(e),r=U_(e);return[t,r,"is"]}function mQ(e){var t=_a(e),r=Gr(e);return[t,r,"str"]}function gQ(e,t,r){return r==null&&(r=oe(12+4*e.v.length)),Dl(t,r),Cr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pQ(e){var t=Ml(e),r=Gr(e);return[t,r,"str"]}function vQ(e,t,r){return r==null&&(r=oe(8+4*e.v.length)),Il(t,r),Cr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xQ(e,t,r){var n=e.l+t,a=_a(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Kg(e,n-e.l,r);s[3]=_u(o,null,a,r.supbooks,r)}else e.l=n;return s}function yQ(e,t,r){var n=e.l+t,a=_a(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Kg(e,n-e.l,r);s[3]=_u(o,null,a,r.supbooks,r)}else e.l=n;return s}function _Q(e,t,r){var n=e.l+t,a=_a(e);a.r=r["!row"];var i=Gu(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Kg(e,n-e.l,r);s[3]=_u(o,null,a,r.supbooks,r)}else e.l=n;return s}function wQ(e,t,r){var n=e.l+t,a=_a(e);a.r=r["!row"];var i=Gr(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Kg(e,n-e.l,r);s[3]=_u(o,null,a,r.supbooks,r)}else e.l=n;return s}var bQ=Fl,SQ=Hu;function EQ(e,t){return t==null&&(t=oe(4)),t.write_shift(4,e),t}function TQ(e,t){var r=e.l+t,n=Fl(e),a=B_(e),i=Gr(e),s=Gr(e),o=Gr(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function CQ(e,t){var r=oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Hu({s:Tr(e[0]),e:Tr(e[0])},r),z_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Cr(a||"",r),Cr(e[1].Tooltip||"",r),Cr("",r),r.slice(0,r.l)}function RQ(){}function AQ(e,t,r){var n=e.l+t,a=pj(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=pW(e,n-e.l,r);s[1]=o}else e.l=n;return s}function NQ(e,t,r){var n=e.l+t,a=Fl(e),i=[a];if(r.cellFormula){var s=xW(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function OQ(e,t,r){r==null&&(r=oe(18));var n=Wg(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Jj=["left","right","top","bottom","header","footer"];function jQ(e){var t={};return Jj.forEach(function(r){t[r]=Gu(e)}),t}function kQ(e,t){return t==null&&(t=oe(6*8)),Xj(e),Jj.forEach(function(r){_l(e[r],t)}),t}function DQ(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function MQ(e,t,r){r==null&&(r=oe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function IQ(e){var t=oe(24);return t.write_shift(4,4),t.write_shift(4,1),Hu(e,t),t}function FQ(e,t){return t==null&&(t=oe(16*4+2)),t.write_shift(2,e.password?Mj(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function LQ(){}function PQ(){}function UQ(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Rn(t),t.z=t.z||Qt[14],t.v=Cn(nn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=_o(a.cellXfs,t,a),t.l&&i["!links"].push([_t(l),t.l]),t.c&&i["!comments"].push([_t(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=K_(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?he(e,18,aQ(t,l)):he(e,7,rQ(t,l))):(l.t="str",s?he(e,17,vQ(t,l)):he(e,6,gQ(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?he(e,13,fQ(t,l)):he(e,2,uQ(t,l)):s?he(e,16,lQ(t,l)):he(e,5,sQ(t,l)),!0;case"b":return l.t="b",s?he(e,15,YW(t,l)):he(e,4,WW(t,l)),!0;case"e":return l.t="e",s?he(e,14,eQ(t,l)):he(e,3,ZW(t,l)),!0}return s?he(e,12,GW(t,l)):he(e,1,VW(t,l)),!0}function BQ(e,t,r,n){var a=Lt(t["!ref"]||"A1"),i,s="",o=[];he(e,145);var l=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=Ur(d),LW(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=Hr(h)),i=o[h]+s;var m=l?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=UQ(e,m,d,h,n,t,f)}}he(e,146)}function zQ(e,t){!t||!t["!merges"]||(he(e,177,EQ(t["!merges"].length)),t["!merges"].forEach(function(r){he(e,176,SQ(r))}),he(e,178))}function $Q(e,t){!t||!t["!cols"]||(he(e,390),t["!cols"].forEach(function(r,n){r&&he(e,60,OQ(n,r))}),he(e,391))}function qQ(e,t){!t||!t["!ref"]||(he(e,648),he(e,649,IQ(Lt(t["!ref"]))),he(e,650))}function VQ(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=pt(r,-1,n[1].Target.replace(/#.*$/,""),ct.HLINK);he(e,494,CQ(n,a))}}),delete t["!links"]}function HQ(e,t,r,n){if(t["!comments"].length>0){var a=pt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ct.VML);he(e,551,z_("rId"+a)),t["!legacy"]=a}}function GQ(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:cr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Jn(i);o.s.r==o.e.r&&(o.e.r=Jn(t["!ref"]).e.r,i=cr(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),he(e,161,Hu(Lt(i))),he(e,162)}}function KQ(e,t,r){he(e,133),he(e,137,MQ(t,r)),he(e,138),he(e,134)}function WQ(e,t){t["!protect"]&&he(e,535,FQ(t["!protect"]))}function QQ(e,t,r,n){var a=Sn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Lt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],he(a,129),(r.vbaraw||s["!outline"])&&he(a,147,$W(o,s["!outline"])),he(a,148,UW(l)),KQ(a,s,r.Workbook),$Q(a,s),BQ(a,s,e,t),WQ(a,s),GQ(a,s,r,e),zQ(a,s),VQ(a,s,n),s["!margins"]&&he(a,476,kQ(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qQ(a,s),HQ(a,s,e,n),he(a,130),a.end()}function YQ(e,t){e.l+=10;var r=Gr(e);return{name:r}}var XQ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ZQ(e){return!e.Workbook||!e.Workbook.WBProps?"false":NV(e.Workbook.WBProps.date1904)?"true":"false"}var JQ="][*?/\\".split("");function e3(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return JQ.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function eY(e,t,r){e.forEach(function(n,a){e3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function tY(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];eY(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)SW(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function t3(e){var t=[ur];t[t.length]=be("workbook",null,{xmlns:qu[0],"xmlns:r":Er.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(XQ.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=be("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:yt(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=be("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=be("definedName",yt(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function rY(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ry(e),r.name=Gr(e),r}function nY(e,t){return t||(t=oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),z_(e.strRelID,t),Cr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function aY(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Gr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function iY(e,t){t||(t=oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hj(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function sY(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=ZV(e),s=vW(e,0,r),o=B_(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function oY(e,t){he(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};he(e,156,nY(a))}he(e,144)}function lY(e,t){t||(t=oe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Cr("SheetJS",t),Cr(Bm.version,t),Cr(Bm.version,t),Cr("7262",t),t.length>t.l?t.slice(0,t.l):t}function cY(e,t){t||(t=oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function uY(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(he(e,135),he(e,158,cY(a)),he(e,136))}}function dY(e,t){var r=Sn();return he(r,131),he(r,128,lY()),he(r,153,iY(e.Workbook&&e.Workbook.WBProps||null)),uY(r,e),oY(r,e),he(r,132),r.end()}function fY(e,t,r){return(t.slice(-4)===".bin"?dY:t3)(e)}function hY(e,t,r,n,a){return(t.slice(-4)===".bin"?QQ:Zj)(e,r,n,a)}function mY(e,t,r){return(t.slice(-4)===".bin"?kG:Lj)(e,r)}function gY(e,t,r){return(t.slice(-4)===".bin"?iG:Dj)(e,r)}function pY(e,t,r){return(t.slice(-4)===".bin"?WG:$j)(e)}function vY(e){return(e.slice(-4)===".bin"?BG:Bj)()}function xY(e,t){var r=[];return e.Props&&r.push(mH(e.Props,t)),e.Custprops&&r.push(gH(e.Props,e.Custprops)),r.join("")}function yY(){return""}function _Y(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(be("NumberFormat",null,{"ss:Format":yt(Qt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(be("Style",i.join(""),s))}),be("Styles",r.join(""))}function r3(e){return be("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+H_(e.Ref,{r:0,c:0})})}function wY(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(r3(a)))}return be("Names",r.join(""))}function bY(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(r3(o)))}return i.join("")}function SY(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(be("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(be("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(be("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(be("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Fr("ProtectContents","True")),e["!protect"].objects&&a.push(Fr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Fr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Fr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Fr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":be("WorksheetOptions",a.join(""),{xmlns:Ln.x})}function EY(e){return e.map(function(t){var r=AV(t.t||""),n=be("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return be("Comment",n,{"ss:Author":t.a})}).join("")}function TY(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+yt(H_(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Tr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=yt(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=yt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Th[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Qt[14]);break;case"s":f="String",h=RV(e.v||"");break}var m=_o(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=EY(e.c)),be("Cell",g,o)}function CY(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Fj(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function RY(e,t,r,n){if(!e["!ref"])return"";var a=Lt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,v){q_(x);var y=!!x.width,_=Wg(v,x),w={"ss:Index":v+1};y&&(w["ss:Width"]=Qm(_.width)),x.hidden&&(w["ss:Hidden"]="1"),o.push(be("Column",null,w))});for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[CY(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},p=_t(m),g=l?(e[u]||[])[f]:e[p];d.push(TY(g,p,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function AY(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?bY(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?RY(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(SY(i,t,e,r)),n.join("")}function NY(e,t){t||(t={}),e.SSF||(e.SSF=Rn(Qt)),e.SSF&&(qg(),$g(e.SSF),t.revssf=Vg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],_o(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(xY(e,t)),r.push(yY()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(be("Worksheet",AY(n,t,e),{"ss:Name":yt(e.SheetNames[n])}));return r[2]=_Y(e,t),r[3]=wY(e),ur+be("Workbook",r.join(""),{xmlns:Ln.ss,"xmlns:o":Ln.o,"xmlns:x":Ln.x,"xmlns:ss":Ln.ss,"xmlns:dt":Ln.dt,"xmlns:html":Ln.html})}var yv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function OY(e,t){var r=[],n=[],a=[],i=0,s,o=VE(n2,"n"),l=VE(a2,"n");if(e.Props)for(s=Br(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Br(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)Cj.indexOf(a[i][0])>-1||Sj.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&St.utils.cfb_add(t,"/SummaryInformation",c2(n,yv.SI,l,a2)),(r.length||u.length)&&St.utils.cfb_add(t,"/DocumentSummaryInformation",c2(r,yv.DSI,o,n2,u.length?u:null,yv.UDI))}function jY(e,t){var r=t||{},n=St.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return St.utils.cfb_add(n,a,n3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&OY(e,n),r.biff==8&&e.vbaraw&&QG(n,St.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var kY={0:{f:IW},1:{f:qW},2:{f:cQ},3:{f:XW},4:{f:KW},5:{f:iQ},6:{f:mQ},7:{f:tQ},8:{f:wQ},9:{f:_Q},10:{f:xQ},11:{f:yQ},12:{f:HW},13:{f:dQ},14:{f:JW},15:{f:QW},16:{f:oQ},17:{f:pQ},18:{f:nQ},19:{f:U_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sY},40:{},42:{},43:{f:mG},44:{f:fG},45:{f:vG},46:{f:yG},47:{f:xG},48:{},49:{f:HV},50:{},51:{f:IG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GH},62:{f:hQ},63:{f:zG},64:{f:LQ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:si,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:DQ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:zW},148:{f:PW,p:16},151:{f:RQ},152:{},153:{f:aY},154:{},155:{},156:{f:rY},157:{},158:{},159:{T:1,f:rG},160:{T:-1},161:{T:1,f:Fl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bQ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DG},336:{T:-1},337:{f:PG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ry},357:{},358:{},359:{},360:{T:1},361:{},362:{f:BH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:AQ},427:{f:NQ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jQ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:BW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TQ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ry},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GG},633:{T:1},634:{T:-1},635:{T:1,f:VG},636:{T:-1},637:{f:QV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:YQ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:PQ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Se(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&F_(r)&&e.push(r)}}function DY(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return Se(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u;l<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(l,l+u)),l+=u}}}function Rh(e,t,r){return e||(e=oe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function MY(e,t,r,n){var a=oe(9);return Rh(a,e,t),Aj(r,n||"b",a),a}function IY(e,t,r){var n=oe(8+2*r.length);return Rh(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function FY(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Cn(nn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Se(e,2,YH(r,n,a)):Se(e,3,QH(r,n,a));return;case"b":case"e":Se(e,5,MY(r,n,t.v,t.t));return;case"s":case"str":Se(e,4,IY(r,n,(t.v||"").slice(0,255)));return}Se(e,1,Rh(null,r,n))}function LY(e,t,r,n){var a=Array.isArray(t),i=Lt(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=cr(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Ur(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(l[d]=Hr(d)),s=l[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&FY(e,f,u,d)}}}function PY(e,t){for(var r=t||{},n=Sn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Se(n,r.biff==4?1033:r.biff==3?521:9,$_(e,16,r)),LY(n,e.Sheets[e.SheetNames[a]],a,r),Se(n,10),n.end()}function UY(e,t,r){Se(e,49,kH({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function BY(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Se(e,1054,IH(a,t[a],r))})}function zY(e,t){var r=oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Se(e,2151,r),r=oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),jj(Lt(t["!ref"]||"A1"),r),r.write_shift(4,4),Se(e,2152,r)}function $Y(e,t){for(var r=0;r<16;++r)Se(e,224,d2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Se(e,224,d2(n,0,t))})}function qY(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Se(e,440,qH(n)),n[1].Tooltip&&Se(e,2048,VH(n))}delete t["!links"]}function VY(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Se(e,125,KH(Wg(a,n),a))})}}function HY(e,t,r,n,a){var i=16+_o(a.cellXfs,t,a);if(t.v==null&&!t.bf){Se(e,513,wl(r,n,i));return}if(t.bf)Se(e,6,gW(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Cn(nn(t.v)):t.v;Se(e,515,UH(r,n,s,i));break;case"b":case"e":Se(e,517,PH(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=K_(a.Strings,t.v,a.revStrings);Se(e,253,DH(r,n,o,i))}else Se(e,516,MH(r,n,(t.v||"").slice(0,255),i,a));break;default:Se(e,513,wl(r,n,i))}}function GY(e,t,r){var n=Sn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Lt(i["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Se(n,2057,$_(r,16,t)),Se(n,13,sa(1)),Se(n,12,sa(100)),Se(n,15,tn(!0)),Se(n,17,tn(!1)),Se(n,16,_l(.001)),Se(n,95,tn(!0)),Se(n,42,tn(!1)),Se(n,43,tn(!1)),Se(n,130,sa(1)),Se(n,128,LH([0,0])),Se(n,131,tn(!1)),Se(n,132,tn(!1)),u&&VY(n,i["!cols"]),Se(n,512,FH(m,t)),u&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=Ur(g);for(var x=m.s.c;x<=m.e.c;++x){g===m.s.r&&(h[x]=Hr(x)),d=h[x]+f;var v=l?(i[g]||[])[x]:i[d];v&&(HY(n,v,g,x,t),u&&v.l&&i["!links"].push([d,v.l]))}}var y=o.CodeName||o.name||a;return u&&Se(n,574,jH((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&Se(n,229,$H(i["!merges"])),u&&qY(n,i),Se(n,442,Oj(y)),u&&zY(n,i),Se(n,10),n.end()}function KY(e,t,r){var n=Sn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(Se(n,2057,$_(e,5,r)),r.bookType=="xla"&&Se(n,135),Se(n,225,o?sa(1200):null),Se(n,193,xH(2)),l&&Se(n,191),l&&Se(n,192),Se(n,226),Se(n,92,RH("SheetJS",r)),Se(n,66,sa(o?1200:1252)),o&&Se(n,353,sa(0)),o&&Se(n,448),Se(n,317,WH(e.SheetNames.length)),o&&e.vbaraw&&Se(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Se(n,442,Oj(u))}Se(n,156,sa(17)),Se(n,25,tn(!1)),Se(n,18,tn(!1)),Se(n,19,sa(0)),o&&Se(n,431,tn(!1)),o&&Se(n,444,sa(0)),Se(n,61,OH()),Se(n,64,tn(!1)),Se(n,141,sa(0)),Se(n,34,tn(ZQ(e)=="true")),Se(n,14,tn(!0)),o&&Se(n,439,tn(!1)),Se(n,218,sa(0)),UY(n,e,r),BY(n,e.SSF,r),$Y(n,r),o&&Se(n,352,tn(!1));var d=n.end(),f=Sn();o&&Se(f,140,HH()),o&&r.Strings&&DY(f,252,NH(r.Strings)),Se(f,10);var h=f.end(),m=Sn(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var x=d.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var v=i[g]||{};Se(m,133,AH({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[g]},r)),x+=t[g].length}var y=m.end();if(p!=y.length)throw new Error("BS8 "+p+" != "+y.length);var _=[];return d.length&&_.push(d),y.length&&_.push(y),h.length&&_.push(h),Ir(_)}function WY(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Rn(Qt)),e&&e.SSF&&(qg(),$g(e.SSF),r.revssf=Vg(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,W_(r),r.cellXfs=[],_o(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=GY(a,r,e);return n.unshift(KY(e,n,r)),Ir(n)}function n3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Jn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return WY(e,t);case 4:case 3:case 2:return PY(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function QY(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=_t({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||CV(f.w||(Zi(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(be("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var YY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',XY="</body></html>";function ZY(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function a3(e,t){var r=t||{},n=r.header!=null?r.header:YY,a=r.footer!=null?r.footer:XY,i=[n],s=Jn(e["!ref"]);r.dense=Array.isArray(e),i.push(ZY(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(QY(e,s,o,r));return i.push("</table>"+a),i.join("")}function i3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Tr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Jn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,x=0,v=0,y=0,_=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&g<l;++p){var w=o[p];if(x2(w)){if(n.display)continue;m[g]={hidden:!0}}var N=w.children;for(x=v=0;x<N.length;++x){var U=N[x];if(!(n.display&&x2(U))){var E=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):OV(U.innerHTML),k=U.getAttribute("data-z")||U.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==v+i&&T.s.r<g+a&&g+a<=T.e.r&&(v=T.e.c+1-i,h=-1)}_=+U.getAttribute("colspan")||1,((y=+U.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:g+a,c:v+i},e:{r:g+a+(y||1)-1,c:v+i+(_||1)-1}});var b={t:"s",v:E},D=U.getAttribute("data-t")||U.getAttribute("t")||"";E!=null&&(E.length==0?b.t=D||"z":n.raw||E.trim().length==0||D=="s"||(E==="TRUE"?b={t:"b",v:!0}:E==="FALSE"?b={t:"b",v:!1}:isNaN($i(E))?isNaN(Sf(E).getDate())||(b={t:"d",v:nn(E)},n.cellDates||(b={t:"n",v:Cn(b.v)}),b.z=n.dateNF||Qt[14]):b={t:"n",v:$i(E)})),b.z===void 0&&k!=null&&(b.z=k);var R="",z=U.getElementsByTagName("A");if(z&&z.length)for(var re=0;re<z.length&&!(z[re].hasAttribute("href")&&(R=z[re].getAttribute("href"),R.charAt(0)!="#"));++re);R&&R.charAt(0)!="#"&&(b.l={Target:R}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][v+i]=b):e[_t({c:v+i,r:g+a})]=b,u.e.c<v+i&&(u.e.c=v+i),v+=_}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=cr(u),g>=l&&(e["!fullref"]=cr((u.e.r=o.length-p+g-1+a,u))),e}function s3(e,t){var r=t||{},n=r.dense?[]:{};return i3(n,e,t)}function JY(e,t){return kl(s3(e,t),t)}function x2(e){var t="",r=eX(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function eX(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var tX=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ef({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ur+t}}(),y2=function(){var e=function(i){return yt(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+yt(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=Jn(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=x[u]?' table:style-name="ro'+x[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var v=!1,y={},_="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){l.push(r);continue}var w=_t({r:u,c:d}),N=p?(i[u]||[])[d]:i[w];if(N&&N.f&&(y["table:formula"]=yt(wW(N.f)),N.F&&N.F.slice(0,w.length)==w)){var U=Jn(N.F);y["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,y["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!N){l.push(t);continue}switch(N.t){case"b":_=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":_=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":_=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":_=N.w||nn(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=nn(N.v).toISOString(),y["table:style-name"]="ce1";break;default:l.push(t);continue}var E=e(_);if(N.l&&N.l.Target){var k=N.l.Target;k=k.charAt(0)=="#"?"#"+bW(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),E=be("text:a",E,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+be("table:table-cell",be("text:p",E,{}),y)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;q_(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[ur],u=Ef({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Ef({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(wj().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function o3(e,t){if(t.bookType=="fods")return y2(e,t);var r=k_(),n="",a=[],i=[];return n="mimetype",Xe(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Xe(r,n,y2(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Xe(r,n,tX(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Xe(r,n,ur+wj()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Xe(r,n,hH(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Xe(r,n,dH(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Zm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function rX(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ia(Fi(e))}function nX(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function mo(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function aX(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Tf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function mt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ic(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function hr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Tf(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Tf(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Or(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(mt(n*8+a.type)),a.type==2&&t.push(mt(a.data.length)),t.push(a.data))})}),mo(t)}function Ea(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Tf(e,n),i=hr(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ic(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=hr(o.data),u=Ic(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=Ic(i[3][0].data)>>>0>0),r.push(s)}return r}function Zl(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:mt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:mt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:mt(s.data.length)}],n[2].push({data:Or(s.meta),type:2})});var i=Or(n);t.push(mt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),mo(t)}function iX(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Tf(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[mo(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=mo(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ta(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(iX(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return mo(t)}function Jl(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=mt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return mo(t)}function _v(e,t){var r=new Uint8Array(32),n=Zm(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,aX(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function wv(e,t){var r=new Uint8Array(32),n=Zm(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function ls(e){var t=hr(e);return Tf(t[1][0].data)}function sX(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Ic(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Zm(e[7][0].data),d=0,f=[],h=Zm(e[4][0].data),m=0,p=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),h.setUint16(g*2,m,!0);var x,v;switch(typeof t[g]){case"string":x=_v({t:"s",v:t[g]},r),v=wv({t:"s",v:t[g]},r);break;case"number":x=_v({t:"n",v:t[g]},r),v=wv({t:"n",v:t[g]},r);break;case"boolean":x=_v({t:"b",v:t[g]},r),v=wv({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(x),d+=x.length,p.push(v),m+=v.length,++l}for(e[2][0].data=mt(l);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=mo(f),e[3][0].data=mo(p),l}function oX(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Jn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(cr(n)));var i=Jm(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(I){typeof I=="string"&&s.push(I)})});var o={},l=[],u=St.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,I){return[H,u.FullPaths[I]]}).forEach(function(H){var I=H[0],L=H[1];if(I.type==2&&I.name.match(/\.iwa/)){var W=I.content,se=Ta(W),fe=Ea(se);fe.forEach(function(ve){l.push(ve.id),o[ve.id]={deps:[],location:L,type:Ic(ve.messages[0].meta[1][0].data)}})}}),l.sort(function(H,I){return H-I});var d=l.filter(function(H){return H>1}).map(function(H){return[H,mt(H)]});u.FileIndex.map(function(H,I){return[H,u.FullPaths[I]]}).forEach(function(H){var I=H[0];if(H[1],!!I.name.match(/\.iwa/)){var L=Ea(Ta(I.content));L.forEach(function(W){W.messages.forEach(function(se){d.forEach(function(fe){W.messages.some(function(ve){return Ic(ve.meta[1][0].data)!=11006&&nX(ve.data,fe[1])})&&o[fe[0]].deps.push(W.id)})})})}});for(var f=St.find(u,o[1].location),h=Ea(Ta(f.content)),m,p=0;p<h.length;++p){var g=h[p];g.id==1&&(m=g)}var x=ls(hr(m.messages[0].data)[1][0].data);for(f=St.find(u,o[x].location),h=Ea(Ta(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=ls(hr(m.messages[0].data)[2][0].data),f=St.find(u,o[x].location),h=Ea(Ta(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);for(x=ls(hr(m.messages[0].data)[2][0].data),f=St.find(u,o[x].location),h=Ea(Ta(f.content)),p=0;p<h.length;++p)g=h[p],g.id==x&&(m=g);var v=hr(m.messages[0].data);{v[6][0].data=mt(n.e.r+1),v[7][0].data=mt(n.e.c+1);var y=ls(v[46][0].data),_=St.find(u,o[y].location),w=Ea(Ta(_.content));{for(var N=0;N<w.length&&w[N].id!=y;++N);if(w[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var U=hr(w[N].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var E=0;E<=n.e.c;++E){var k=[];k[1]=k[2]=[{type:0,data:mt(E+420690)}],U[1].push({type:2,data:Or(k)}),U[2].push({type:0,data:mt(E)}),U[3].push({type:0,data:mt(E)})}U[4]=[],U[5]=[],U[6]=[];for(var T=0;T<=n.e.r;++T)k=[],k[1]=k[2]=[{type:0,data:mt(T+726270)}],U[4].push({type:2,data:Or(k)}),U[5].push({type:0,data:mt(T)}),U[6].push({type:0,data:mt(T)});w[N].messages[0].data=Or(U)}_.content=Jl(Zl(w)),_.size=_.content.length,delete v[46];var b=hr(v[4][0].data);{b[7][0].data=mt(n.e.r+1);var D=hr(b[1][0].data),R=ls(D[2][0].data);_=St.find(u,o[R].location),w=Ea(Ta(_.content));{if(w[0].id!=R)throw"Bad HeaderStorageBucket";var z=hr(w[0].messages[0].data);for(T=0;T<i.length;++T){var re=hr(z[2][0].data);re[1][0].data=mt(T),re[4][0].data=mt(i[T].length),z[2][T]={type:z[2][0].type,data:Or(re)}}w[0].messages[0].data=Or(z)}_.content=Jl(Zl(w)),_.size=_.content.length;var ie=ls(b[2][0].data);_=St.find(u,o[ie].location),w=Ea(Ta(_.content));{if(w[0].id!=ie)throw"Bad HeaderStorageBucket";for(z=hr(w[0].messages[0].data),E=0;E<=n.e.c;++E)re=hr(z[2][0].data),re[1][0].data=mt(E),re[4][0].data=mt(n.e.r+1),z[2][E]={type:z[2][0].type,data:Or(re)};w[0].messages[0].data=Or(z)}_.content=Jl(Zl(w)),_.size=_.content.length;var O=ls(b[4][0].data);(function(){for(var H=St.find(u,o[O].location),I=Ea(Ta(H.content)),L,W=0;W<I.length;++W){var se=I[W];se.id==O&&(L=se)}var fe=hr(L.messages[0].data);{fe[3]=[];var ve=[];s.forEach(function(Ue,Ot){ve[1]=[{type:0,data:mt(Ot)}],ve[2]=[{type:0,data:mt(1)}],ve[3]=[{type:2,data:rX(Ue)}],fe[3].push({type:2,data:Or(ve)})})}L.messages[0].data=Or(fe);var ge=Zl(I),Le=Jl(ge);H.content=Le,H.size=H.content.length})();var Q=hr(b[3][0].data);{var M=Q[1][0];delete Q[2];var K=hr(M.data);{var J=ls(K[2][0].data);(function(){for(var H=St.find(u,o[J].location),I=Ea(Ta(H.content)),L,W=0;W<I.length;++W){var se=I[W];se.id==J&&(L=se)}var fe=hr(L.messages[0].data);{delete fe[6],delete Q[7];var ve=new Uint8Array(fe[5][0].data);fe[5]=[];for(var ge=0,Le=0;Le<=n.e.r;++Le){var Ue=hr(ve);ge+=sX(Ue,i[Le],s),Ue[1][0].data=mt(Le),fe[5].push({data:Or(Ue),type:2})}fe[1]=[{type:0,data:mt(n.e.c+1)}],fe[2]=[{type:0,data:mt(n.e.r+1)}],fe[3]=[{type:0,data:mt(ge)}],fe[4]=[{type:0,data:mt(n.e.r+1)}]}L.messages[0].data=Or(fe);var Ot=Zl(I),Ye=Jl(Ot);H.content=Ye,H.size=H.content.length})()}M.data=Or(K)}b[3][0].data=Or(Q)}v[4][0].data=Or(b)}m.messages[0].data=Or(v);var Y=Zl(h),P=Jl(Y);return f.content=P,f.size=f.content.length,u}function lX(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function W_(e){lX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function cX(e,t){return t.bookType=="ods"?o3(e,t):t.bookType=="numbers"?oX(e,t):t.bookType=="xlsb"?uX(e,t):dX(e,t)}function uX(e,t){yc=1024,e&&!e.SSF&&(e.SSF=Rn(Qt)),e&&e.SSF&&(qg(),$g(e.SSF),t.revssf=Vg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=qj.indexOf(t.bookType)>-1,a=xj();W_(t=t||{});var i=k_(),s="",o=0;if(t.cellXfs=[],_o(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Xe(i,s,bj(e.Props,t)),a.coreprops.push(s),pt(t.rels,2,s,ct.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Xe(i,s,Ej(e.Props)),a.extprops.push(s),pt(t.rels,3,s,ct.EXT_PROPS),e.Custprops!==e.Props&&Br(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Xe(i,s,Tj(e.Custprops)),a.custprops.push(s),pt(t.rels,4,s,ct.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Xe(i,s,hY(o-1,s,t,e,d)),a.sheets.push(s),pt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ct.WS[0])}if(f){var m=f["!comments"],p=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Xe(i,g,pY(m,g)),a.comments.push(g),pt(d,-1,"../comments"+o+"."+r,ct.CMNT),p=!0),f["!legacy"]&&p&&Xe(i,"xl/drawings/vmlDrawing"+o+".vml",zj(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Xe(i,_j(s),Dc(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Xe(i,s,gY(t.Strings,s,t)),a.strs.push(s),pt(t.wbrels,-1,"sharedStrings."+r,ct.SST)),s="xl/workbook."+r,Xe(i,s,fY(e,s)),a.workbooks.push(s),pt(t.rels,1,s,ct.WB),s="xl/theme/theme1.xml",Xe(i,s,Uj(e.Themes,t)),a.themes.push(s),pt(t.wbrels,-1,"theme/theme1.xml",ct.THEME),s="xl/styles."+r,Xe(i,s,mY(e,s,t)),a.styles.push(s),pt(t.wbrels,-1,"styles."+r,ct.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Xe(i,s,e.vbaraw),a.vba.push(s),pt(t.wbrels,-1,"vbaProject.bin",ct.VBA)),s="xl/metadata."+r,Xe(i,s,vY(s)),a.metadata.push(s),pt(t.wbrels,-1,"metadata."+r,ct.XLMETA),Xe(i,"[Content_Types].xml",yj(a,t)),Xe(i,"_rels/.rels",Dc(t.rels)),Xe(i,"xl/_rels/workbook."+r+".rels",Dc(t.wbrels)),delete t.revssf,delete t.ssf,i}function dX(e,t){yc=1024,e&&!e.SSF&&(e.SSF=Rn(Qt)),e&&e.SSF&&(qg(),$g(e.SSF),t.revssf=Vg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=qj.indexOf(t.bookType)>-1,a=xj();W_(t=t||{});var i=k_(),s="",o=0;if(t.cellXfs=[],_o(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Xe(i,s,bj(e.Props,t)),a.coreprops.push(s),pt(t.rels,2,s,ct.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Xe(i,s,Ej(e.Props)),a.extprops.push(s),pt(t.rels,3,s,ct.EXT_PROPS),e.Custprops!==e.Props&&Br(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Xe(i,s,Tj(e.Custprops)),a.custprops.push(s),pt(t.rels,4,s,ct.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Xe(i,s,Zj(o-1,t,e,f)),a.sheets.push(s),pt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,ct.WS[0])}if(h){var p=h["!comments"],g=!1,x="";if(p&&p.length>0){var v=!1;p.forEach(function(y){y[1].forEach(function(_){_.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+o+"."+r,Xe(i,x,$G(p,d,t)),a.threadedcomments.push(x),pt(f,-1,"../threadedComments/threadedComment"+o+"."+r,ct.TCMNT)),x="xl/comments"+o+"."+r,Xe(i,x,$j(p)),a.comments.push(x),pt(f,-1,"../comments"+o+"."+r,ct.CMNT),g=!0}h["!legacy"]&&g&&Xe(i,"xl/drawings/vmlDrawing"+o+".vml",zj(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Xe(i,_j(s),Dc(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Xe(i,s,Dj(t.Strings,t)),a.strs.push(s),pt(t.wbrels,-1,"sharedStrings."+r,ct.SST)),s="xl/workbook."+r,Xe(i,s,t3(e)),a.workbooks.push(s),pt(t.rels,1,s,ct.WB),s="xl/theme/theme1.xml",Xe(i,s,Uj(e.Themes,t)),a.themes.push(s),pt(t.wbrels,-1,"theme/theme1.xml",ct.THEME),s="xl/styles."+r,Xe(i,s,Lj(e,t)),a.styles.push(s),pt(t.wbrels,-1,"styles."+r,ct.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Xe(i,s,e.vbaraw),a.vba.push(s),pt(t.wbrels,-1,"vbaProject.bin",ct.VBA)),s="xl/metadata."+r,Xe(i,s,Bj()),a.metadata.push(s),pt(t.wbrels,-1,"metadata."+r,ct.XLMETA),d.length>1&&(s="xl/persons/person.xml",Xe(i,s,qG(d)),a.people.push(s),pt(t.wbrels,-1,"persons/person.xml",ct.PEOPLE)),Xe(i,"[Content_Types].xml",yj(a,t)),Xe(i,"_rels/.rels",Dc(t.rels)),Xe(i,"xl/_rels/workbook."+r+".rels",Dc(t.wbrels)),delete t.revssf,delete t.ssf,i}function fX(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Xi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function l3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sh(t.file,St.write(e,{type:ut?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return St.write(e,t)}function hX(e,t){var r=Rn(t||{}),n=cX(e,r);return mX(n,r)}function mX(e,t){var r={},n=ut?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?St.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(zg(a))}return t.password&&typeof encrypt_agile<"u"?l3(encrypt_agile(a,t.password),t):t.type==="file"?Sh(t.file,a):t.type=="string"?$d(a):a}function gX(e,t){var r=t||{},n=jY(e,r);return l3(n,r)}function Ga(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return bf(Fi(n));case"binary":return Fi(n);case"string":return e;case"file":return Sh(t.file,n,"utf8");case"buffer":return ut?ts(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ga(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function pX(e,t){switch(t.type){case"base64":return bf(e);case"binary":return e;case"string":return e;case"file":return Sh(t.file,e,"binary");case"buffer":return ut?ts(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function T0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?bf(r):t.type=="string"?$d(r):r;case"file":return Sh(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function c3(e,t){qq(),tY(e);var r=Rn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=c3(e,r);return r.type="array",zg(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ga(NY(e,r),r);case"slk":case"sylk":return Ga(ZH.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ga(a3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return pX(u3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ga(Q_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ga(JH.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return T0(XH.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ga(eG.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ga(oG.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ga(kj.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ga(o3(e,r),r);case"wk1":return T0(f2.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return T0(f2.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),T0(n3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),gX(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return hX(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function vX(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function xX(e,t,r){var n=r||{};return n.type="file",n.file=t,vX(n),c3(e,n)}function yX(e,t,r,n,a,i,s,o){var l=Ur(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=s?e[r][m]:e[n[m]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&g===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?g:Zi(p,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Jm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Lt(d);break;case"number":l=Lt(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ur(l.s.r),h=[],m=[],p=0,g=0,x=Array.isArray(e),v=l.s.r,y=0,_={};x&&!e[v]&&(e[v]=[]);var w=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=Hr(y),r=x?e[v][y]:e[h[y]+f],n){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Zi(r,null,u),g=_[s]||0,!g)_[s]=1;else{do o=s+"_"+g++;while(_[o]);_[s]=g,_[o]=1}i[y]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(N[v]||{}).hidden){var U=yX(e,l,v,h,n,i,x,u);(U.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=U.row)}return m.length=p,m}var _2=/"/g;function _X(e,t,r,n,a,i,s,o){for(var l=!0,u=[],d="",f=Ur(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Zi(m,null,o));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===i||g===34||o.forceQuotes){d='"'+d.replace(_2,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(_2,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(s)}function Q_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Lt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Hr(p));for(var g=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(d=_X(e,a,x,f,s,l,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?o:"")+d)));return delete n.dense,r.join("")}function u3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Q_(e,t);return r}function wX(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Lt(e["!ref"]),i="",s=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Hr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=Ur(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function d3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Tr(n.origin):n.origin;s=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Lt(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,x){Br(g).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var y=g[v],_="z",w="",N=_t({c:o+m,r:s+x+a});u=Cf(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?_="n":typeof y=="boolean"?_="b":typeof y=="string"?_="s":y instanceof Date?(_="d",n.cellDates||(_="n",y=Cn(y)),w=n.dateNF||Qt[14]):y===null&&n.nullError&&(_="e",y=0),u?(u.t=_,u.v=y,delete u.w,delete u.R,w&&(u.z=w)):i[N]=u={t:_,v:y},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var p=Ur(s);if(a)for(m=0;m<h.length;++m)i[Hr(m+o)+p]={t:"s",v:h[m]};return i["!ref"]=cr(d),i}function bX(e,t){return d3(null,e,t)}function Cf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Tr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Cf(e,_t(t)):Cf(e,_t({r:t,c:r||0}))}function SX(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function EX(){return{SheetNames:[],Sheets:{}}}function TX(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(e3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function CX(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=SX(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function RX(e,t){return e.z=t,e}function f3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function AX(e,t,r){return f3(e,"#"+t,r)}function NX(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function OX(e,t,r,n){for(var a=typeof t!="string"?t:Lt(t),i=typeof t=="string"?t:cr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Cf(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var bv={encode_col:Hr,encode_row:Ur,encode_cell:_t,encode_range:cr,decode_col:P_,decode_row:L_,split_cell:VV,decode_cell:Tr,decode_range:Jn,format_cell:Zi,sheet_add_aoa:fj,sheet_add_json:d3,sheet_add_dom:i3,aoa_to_sheet:Vu,json_to_sheet:bX,table_to_sheet:s3,table_to_book:JY,sheet_to_csv:Q_,sheet_to_txt:u3,sheet_to_json:Jm,sheet_to_html:a3,sheet_to_formulae:wX,sheet_to_row_object_array:Jm,sheet_get_cell:Cf,book_new:EX,book_append_sheet:TX,book_set_sheet_visibility:CX,cell_set_number_format:RX,cell_set_hyperlink:f3,cell_set_internal_link:AX,cell_add_comment:NX,sheet_set_array_formula:OX,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function jX(){const[e,t]=S.useState({startDate:"",endDate:"",siloId:"all",reportType:"movements",snapshotDate:"",snapshotTime:""}),[r,n]=S.useState(null),{data:a}=jl(),{data:i,isLoading:s}=zt({queryKey:["movements-report",e],queryFn:async()=>{let O=me.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(O=O.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(O=O.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(O=O.eq("silo_id",e.siloId));const{data:Q,error:M}=await O;if(M)throw M;return Q},enabled:e.reportType==="movements"}),{data:o,isLoading:l}=zt({queryKey:["outbound-report",e],queryFn:async()=>{let O=me.from("outbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(O=O.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(O=O.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(O=O.eq("silo_id",e.siloId));const{data:Q,error:M}=await O;if(M)throw M;return Q},enabled:e.reportType==="outbound"}),{data:u,isLoading:d}=zt({queryKey:["combined-movements-report",e],queryFn:async()=>{let O=me.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(O=O.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(O=O.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(O=O.eq("silo_id",e.siloId));let Q=me.from("outbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(Q=Q.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(Q=Q.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(Q=Q.eq("silo_id",e.siloId));const[M,K]=await Promise.all([O,Q]);if(M.error)throw M.error;if(K.error)throw K.error;return[...M.data.map(Y=>({...Y,movement_type:"IN"})),...K.data.map(Y=>({...Y,movement_type:"OUT"}))].sort((Y,P)=>new Date(P.created_at)-new Date(Y.created_at))},enabled:e.reportType==="combined"}),{data:f,isLoading:h}=zt({queryKey:["stock-report",e],queryFn:async()=>{let O=a;if(!O){const{data:I,error:L}=await me.from("silos").select("*").order("id");if(L)throw L;O=I}let Q=me.from("inbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0}),M=me.from("outbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0});if(e.startDate){const I=e.startDate+"T00:00:00.000Z";Q=Q.gte("created_at",I),M=M.gte("created_at",I)}if(e.endDate){const I=e.endDate+"T23:59:59.999Z";Q=Q.lte("created_at",I),M=M.lte("created_at",I)}e.siloId&&e.siloId!=="all"&&(Q=Q.eq("silo_id",e.siloId),M=M.eq("silo_id",e.siloId));const{data:K,error:J}=await Q;if(J)throw J;const{data:Y,error:P}=await M;if(P)throw P;const H=O.map(I=>{const L=K.filter(ge=>ge.silo_id===I.id),W=Y.filter(ge=>ge.silo_id===I.id),se=L.reduce((ge,Le)=>ge+Le.quantity_kg,0),fe=W.reduce((ge,Le)=>ge+Le.quantity_kg,0),ve=se-fe;return{...I,totalInbound:se,totalOutbound:fe,currentStock:ve,utilizationPercentage:I.capacity_kg>0?ve/I.capacity_kg*100:0}});return e.siloId&&e.siloId!=="all"?H.filter(I=>I.id===parseInt(e.siloId)):H},enabled:e.reportType==="stock"}),{data:m,isLoading:p}=zt({queryKey:["snapshot-report",e],queryFn:async()=>{if(!e.snapshotDate||!e.snapshotTime)throw new Error("Data e ora snapshot sono richiesti");const O=`${e.snapshotDate}T${e.snapshotTime}:59.999Z`;let Q=a;if(!Q){const{data:L,error:W}=await me.from("silos").select("*").order("id");if(W)throw W;Q=L}let M=me.from("inbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0}),K=me.from("outbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0});M=M.lte("created_at",O),K=K.lte("created_at",O),e.siloId&&e.siloId!=="all"&&(M=M.eq("silo_id",e.siloId),K=K.eq("silo_id",e.siloId));const{data:J,error:Y}=await M;if(Y)throw console.error("Inbound query error:",Y),console.error("Snapshot datetime:",O),Y;const{data:P,error:H}=await K;if(H)throw console.error("Outbound query error:",H),H;const I=Q.map(L=>{const W=J.filter(Le=>Le.silo_id===L.id),se=P.filter(Le=>Le.silo_id===L.id),fe=W.reduce((Le,Ue)=>Le+Ue.quantity_kg,0),ve=se.reduce((Le,Ue)=>Le+Ue.quantity_kg,0),ge=fe-ve;return{...L,totalInbound:fe,totalOutbound:ve,currentStock:ge,utilizationPercentage:L.capacity_kg>0?ge/L.capacity_kg*100:0,snapshotDateTime:O}});return e.siloId&&e.siloId!=="all"?I.filter(L=>L.id===parseInt(e.siloId)):I},enabled:e.reportType==="snapshot"&&!!e.snapshotDate&&!!e.snapshotTime}),{data:g,isLoading:x}=zt({queryKey:["snapshot-silo-detail",r==null?void 0:r.id,e.snapshotDate,e.snapshotTime],queryFn:async()=>{if(!r||!e.snapshotDate||!e.snapshotTime)return null;const O=`${e.snapshotDate}T${e.snapshotTime}:59.999Z`,{data:Q,error:M}=await me.from("inbound").select(`
          id,
          silo_id,
          quantity_kg,
          created_at,
          product,
          lot_supplier,
          lot_tf,
          proteins,
          humidity,
          cleaned
        `).eq("silo_id",r.id).lte("created_at",O).order("created_at",{ascending:!0});if(M)throw M;const{data:K,error:J}=await me.from("outbound").select("silo_id, quantity_kg, items, created_at").eq("silo_id",r.id).lte("created_at",O).order("created_at",{ascending:!0});if(J)throw J;let Y=K.reduce((W,se)=>W+se.quantity_kg,0);const P=[];for(const W of Q)if(Y<=0)P.push({...W,available_quantity:W.quantity_kg});else if(Y<W.quantity_kg){const se=W.quantity_kg-Y;se>0&&P.push({...W,available_quantity:se}),Y=0}else Y-=W.quantity_kg;const H=Q.reduce((W,se)=>W+se.quantity_kg,0),I=K.reduce((W,se)=>W+se.quantity_kg,0),L=H-I;return{...r,availableItems:P,currentLevel:L,totalInbound:H,totalOutbound:I,utilizationPercentage:r.capacity_kg>0?L/r.capacity_kg*100:0,snapshotDateTime:O}},enabled:!!r&&!!e.snapshotDate&&!!e.snapshotTime}),v=(O,Q)=>{t(M=>({...M,[O]:Q}))},y=O=>{n(O)},_=()=>{n(null)},w=O=>{if(!O)return"";try{return new Date(O).toLocaleString("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:"UTC"})}catch{return O}},N=O=>O==null?"":typeof O=="object"?O.name?O.name:Array.isArray(O)?O.map(Q=>typeof Q=="object"&&Q.snapshot?`${Q.snapshot.product||"N/A"}: ${Q.quantity_kg}kg${Q.snapshot.lot_supplier?` (${Q.snapshot.lot_supplier})`:""}`:String(Q)).join("; "):JSON.stringify(O):O,U=(O,Q)=>{if(!O||O.length===0)return[];switch(Q){case"movements":return O.map(M=>{var K;return{"Data/Ora":w(M.created_at),DDT:M.ddt_number||"",Silos:((K=M.silos)==null?void 0:K.name)||"",Prodotto:M.product||"","Quantit (kg)":M.quantity_kg||0,"Lotto Fornitore":M.lot_supplier||"","Lotto TF":M.lot_tf||"",Pulizia:M.cleaned?"Accettata":"Non Accettata","Proteine (%)":M.proteins||"","Umidit (%)":M.humidity||"",Operatore:M.operator_name||""}});case"outbound":return O.map(M=>{var K;return{"Data/Ora":w(M.created_at),Silos:((K=M.silos)==null?void 0:K.name)||"","Quantit (kg)":M.quantity_kg||0,Operatore:M.operator_name||"","Dettagli Prelievo":M.items?N(M.items):""}});case"combined":return O.map(M=>{var K;return{"Data/Ora":w(M.created_at),Tipo:M.movement_type||"",DDT:M.ddt_number||"-",Silos:((K=M.silos)==null?void 0:K.name)||"",Prodotto:M.product||"-","Quantit (kg)":M.quantity_kg||0,"Lotto Fornitore":M.lot_supplier||"-","Lotto TF":M.lot_tf||"-",Pulizia:M.movement_type==="IN"?M.cleaned?"Accettata":"Non Accettata":"-","Proteine (%)":M.proteins?`${M.proteins}%`:"-","Umidit (%)":M.humidity?`${M.humidity}%`:"-",Operatore:M.operator_name||"-"}});case"stock":return O.map(M=>({Silos:M.name||"","Capacit (kg)":M.capacity_kg||0,"Totale Entrate (kg)":M.totalInbound||0,"Totale Uscite (kg)":M.totalOutbound||0,"Giacenza Attuale (kg)":M.currentStock||0,"Utilizzo (%)":Math.round(M.utilizationPercentage||0)}));case"snapshot":return O.map(M=>({Silos:M.name||"","Capacit (kg)":M.capacity_kg||0,"Totale Entrate (kg)":M.totalInbound||0,"Totale Uscite (kg)":M.totalOutbound||0,"Giacenza Attuale (kg)":M.currentStock||0,"Utilizzo (%)":Math.round(M.utilizationPercentage||0),"Data Snapshot":w(M.snapshotDateTime)}));default:return O}},E=(O,Q,M)=>{if(!O||O.length===0){alert("Nessun dato da esportare");return}const K=U(O,M),J=bv.json_to_sheet(K),Y=50,P=10,H=Object.keys(K[0]||{}).map(se=>{const fe=Math.max(se.length,...K.map(ve=>String(ve[se]||"").length));return{wch:Math.min(Math.max(fe+2,P),Y)}});J["!cols"]=H;const I=bv.book_new();bv.book_append_sheet(I,J,"Report");const L=new Date().toISOString().split("T")[0],W=`${Q}_${L}.xlsx`;xX(I,W)},k=()=>{window.print()},T=()=>{switch(e.reportType){case"movements":return i;case"outbound":return o;case"combined":return u;case"stock":return f;case"snapshot":return m;default:return[]}},b=()=>{switch(e.reportType){case"movements":return s;case"outbound":return l;case"combined":return d;case"stock":return h;case"snapshot":return p;default:return!1}},D=()=>!i||i.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun movimento trovato"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),c.jsx("th",{className:"text-left p-2",children:"DDT"}),c.jsx("th",{className:"text-left p-2",children:"Silos"}),c.jsx("th",{className:"text-left p-2",children:"Prodotto"}),c.jsx("th",{className:"text-left p-2",children:"Quantit"}),c.jsx("th",{className:"text-left p-2",children:"Lotto Fornitore"}),c.jsx("th",{className:"text-left p-2",children:"Lotto TF"}),c.jsx("th",{className:"text-left p-2",children:"Pulizia"}),c.jsx("th",{className:"text-left p-2",children:"Proteine"}),c.jsx("th",{className:"text-left p-2",children:"Umidit"}),c.jsx("th",{className:"text-left p-2",children:"Operatore"})]})}),c.jsx("tbody",{children:i.map(O=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2",children:new Date(O.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),c.jsx("td",{className:"p-2",children:O.ddt_number}),c.jsx("td",{className:"p-2",children:O.silos.name}),c.jsx("td",{className:"p-2",children:O.product}),c.jsxs("td",{className:"p-2",children:[O.quantity_kg," kg"]}),c.jsx("td",{className:"p-2",children:O.lot_supplier}),c.jsx("td",{className:"p-2",children:O.lot_tf}),c.jsx("td",{className:"p-2",children:O.cleaned?"Accettata":"Non Accettata"}),c.jsxs("td",{className:"p-2",children:[O.proteins,"%"]}),c.jsxs("td",{className:"p-2",children:[O.humidity,"%"]}),c.jsx("td",{className:"p-2",children:O.operator_name})]},O.id))})]})}),R=()=>!o||o.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun prelievo trovato"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),c.jsx("th",{className:"text-left p-2",children:"Silos"}),c.jsx("th",{className:"text-left p-2",children:"Quantit"}),c.jsx("th",{className:"text-left p-2",children:"Operatore"}),c.jsx("th",{className:"text-left p-2",children:"Dettagli Prelievo"})]})}),c.jsx("tbody",{children:o.map(O=>{var Q;return c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2",children:new Date(O.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),c.jsx("td",{className:"p-2",children:O.silos.name}),c.jsxs("td",{className:"p-2",children:[O.quantity_kg," kg"]}),c.jsx("td",{className:"p-2",children:O.operator_name}),c.jsx("td",{className:"p-2",children:c.jsx("div",{className:"text-xs",children:(Q=O.items)==null?void 0:Q.map((M,K)=>{var J,Y;return c.jsxs("div",{children:[((J=M.snapshot)==null?void 0:J.product)||"N/A",": ",M.quantity_kg,"kg",((Y=M.snapshot)==null?void 0:Y.lot_supplier)&&` (${M.snapshot.lot_supplier})`]},K)})})})]},O.id)})})]})}),z=()=>!u||u.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun movimento trovato"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),c.jsx("th",{className:"text-left p-2",children:"Tipo"}),c.jsx("th",{className:"text-left p-2",children:"DDT"}),c.jsx("th",{className:"text-left p-2",children:"Silos"}),c.jsx("th",{className:"text-left p-2",children:"Prodotto"}),c.jsx("th",{className:"text-left p-2",children:"Quantit"}),c.jsx("th",{className:"text-left p-2",children:"Lotto Fornitore"}),c.jsx("th",{className:"text-left p-2",children:"Lotto TF"}),c.jsx("th",{className:"text-left p-2",children:"Pulizia"}),c.jsx("th",{className:"text-left p-2",children:"Proteine"}),c.jsx("th",{className:"text-left p-2",children:"Umidit"}),c.jsx("th",{className:"text-left p-2",children:"Operatore"})]})}),c.jsx("tbody",{children:u.map(O=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2",children:new Date(O.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),c.jsx("td",{className:"p-2",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O.movement_type==="IN"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:O.movement_type})}),c.jsx("td",{className:"p-2",children:O.ddt_number||"-"}),c.jsx("td",{className:"p-2",children:O.silos.name}),c.jsx("td",{className:"p-2",children:O.product||"-"}),c.jsxs("td",{className:"p-2",children:[O.quantity_kg," kg"]}),c.jsx("td",{className:"p-2",children:O.lot_supplier||"-"}),c.jsx("td",{className:"p-2",children:O.lot_tf||"-"}),c.jsx("td",{className:"p-2",children:O.movement_type==="IN"?O.cleaned?"Accettata":"Non Accettata":"-"}),c.jsx("td",{className:"p-2",children:O.proteins?`${O.proteins}%`:"-"}),c.jsx("td",{className:"p-2",children:O.humidity?`${O.humidity}%`:"-"}),c.jsx("td",{className:"p-2",children:O.operator_name||"-"})]},`${O.movement_type}-${O.id}`))})]})}),re=()=>!f||f.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun dato silos trovato"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Silos"}),c.jsx("th",{className:"text-left p-2",children:"Capacit"}),c.jsx("th",{className:"text-left p-2",children:"Totale Entrate"}),c.jsx("th",{className:"text-left p-2",children:"Totale Uscite"}),c.jsx("th",{className:"text-left p-2",children:"Giacenza Attuale"}),c.jsx("th",{className:"text-left p-2",children:"Utilizzo"})]})}),c.jsx("tbody",{children:f.map(O=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2",children:O.name}),c.jsxs("td",{className:"p-2",children:[O.capacity_kg.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2",children:[O.totalInbound.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2",children:[O.totalOutbound.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2",children:[O.currentStock.toLocaleString()," kg"]}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${O.utilizationPercentage>=90?"bg-red-500":O.utilizationPercentage>=70?"bg-yellow-500":O.utilizationPercentage>=30?"bg-green-500":"bg-gray-300"}`,style:{width:`${Math.min(O.utilizationPercentage,100)}%`}})}),c.jsxs("span",{children:[Math.round(O.utilizationPercentage),"%"]})]})})]},O.id))})]})}),ie=()=>{var O;return!m||m.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun dato snapshot trovato"}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Snapshot al:"})," ",new Date((O=m[0])==null?void 0:O.snapshotDateTime).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:" Clicca su una riga per vedere i dettagli dei lotti"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Silos"}),c.jsx("th",{className:"text-left p-2",children:"Capacit"}),c.jsx("th",{className:"text-left p-2",children:"Totale Entrate"}),c.jsx("th",{className:"text-left p-2",children:"Totale Uscite"}),c.jsx("th",{className:"text-left p-2",children:"Giacenza Attuale"}),c.jsx("th",{className:"text-left p-2",children:"Utilizzo"})]})}),c.jsx("tbody",{children:m.map(Q=>c.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>y(Q),title:"Clicca per vedere i dettagli dei lotti",children:[c.jsx("td",{className:"p-2 font-medium",children:Q.name}),c.jsxs("td",{className:"p-2",children:[Q.capacity_kg.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2",children:[Q.totalInbound.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2",children:[Q.totalOutbound.toLocaleString()," kg"]}),c.jsxs("td",{className:"p-2 font-medium",children:[Q.currentStock.toLocaleString()," kg"]}),c.jsx("td",{className:"p-2",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${Q.utilizationPercentage>=90?"bg-red-500":Q.utilizationPercentage>=70?"bg-yellow-500":Q.utilizationPercentage>=30?"bg-green-500":"bg-gray-300"}`,style:{width:`${Math.min(Q.utilizationPercentage,100)}%`}})}),c.jsxs("span",{className:"font-medium",children:[Math.round(Q.utilizationPercentage),"%"]})]})})]},Q.id))})]})})]})};return c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Report e Analisi"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ae,{onClick:()=>E(T(),`report_${e.reportType}`,e.reportType),variant:"outline",children:"Esporta XLSX"}),c.jsx(Ae,{onClick:k,className:"",children:"Stampa Report"})]})]}),c.jsxs(vt,{className:"p-2",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filtri Report"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo Report"}),c.jsxs("select",{value:e.reportType,onChange:O=>v("reportType",O.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[c.jsx("option",{value:"movements",children:"Movimenti IN"}),c.jsx("option",{value:"outbound",children:"Movimenti OUT"}),c.jsx("option",{value:"combined",children:"Movimenti IN & OUT"}),c.jsx("option",{value:"stock",children:"Giacenze Silos"}),c.jsx("option",{value:"snapshot",children:"Snapshot Silos"})]})]}),e.reportType==="snapshot"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Snapshot"}),c.jsx(Ke,{type:"date",value:e.snapshotDate,onChange:O=>v("snapshotDate",O.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ora Snapshot"}),c.jsx(Ke,{type:"time",value:e.snapshotTime,onChange:O=>v("snapshotTime",O.target.value)})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Inizio"}),c.jsx(Ke,{type:"date",value:e.startDate,onChange:O=>v("startDate",O.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fine"}),c.jsx(Ke,{type:"date",value:e.endDate,onChange:O=>v("endDate",O.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Silos"}),c.jsxs("select",{value:e.siloId,onChange:O=>v("siloId",O.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[c.jsx("option",{value:"all",children:"Tutti i silos"}),a==null?void 0:a.map(O=>c.jsx("option",{value:O.id.toString(),children:O.name},O.id))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx(Ae,{onClick:()=>t({startDate:"",endDate:"",siloId:"all",reportType:"movements",snapshotDate:"",snapshotTime:""}),variant:"outline",className:"w-full",children:"Reset Filtri"})})]})]}),c.jsxs(vt,{className:"p-2",children:[c.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[e.reportType==="movements"&&"Report Movimenti IN",e.reportType==="outbound"&&"Report Movimenti OUT",e.reportType==="combined"&&"Report Movimenti IN & OUT",e.reportType==="stock"&&"Report Giacenze Silos",e.reportType==="snapshot"&&"Report Snapshot Silos"]}),b()?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-muted rounded"})}):c.jsxs(c.Fragment,{children:[e.reportType==="movements"&&D(),e.reportType==="outbound"&&R(),e.reportType==="combined"&&z(),e.reportType==="stock"&&re(),e.reportType==="snapshot"&&ie()]})]}),r&&g&&c.jsx(Bg,{silo:g,onClose:_,isSnapshot:!0,snapshotDateTime:e.snapshotDate&&e.snapshotTime?`${e.snapshotDate}T${e.snapshotTime}:59.999Z`:null})]})}function kX(){const[e,t]=S.useState(!1),[r,n]=S.useState(null),{data:a,isLoading:i}=zt({queryKey:["analysis-archive"],queryFn:async()=>{const{data:v,error:y}=await me.from("inbound").select(`
          *,
          silos!inner(name)
        `).order("created_at",{ascending:!1});if(y)throw y;return console.log("Archive data:",v),console.log("First item:",v==null?void 0:v[0]),v}});es();const{data:s}=jl();zt({queryKey:["suppliers"],queryFn:async()=>{const{data:v,error:y}=await me.from("suppliers").select("*").eq("active",!0).order("name");if(y)throw y;return v}}),zt({queryKey:["operators"],queryFn:async()=>{const{data:v,error:y}=await me.from("operators").select("*").eq("active",!0).order("name");if(y)throw y;return v}});const o=st({mutationFn:async v=>{const y=new Date,_={...v,silo_id:parseInt(v.silo_id),cleaned:v.cleaned==="true",updated_at:y.toISOString()};if(r){const{error:w}=await me.from("inbound").update(_).eq("id",r.id);if(w)throw w}else{const{error:w}=await me.from("inbound").insert([_]);if(w)throw w}},onSuccess:()=>{l.invalidateQueries(["analysis-archive"]),t(!1),n(null),Ft(r?"Analisi aggiornata con successo":"Analisi registrata con successo")},onError:v=>{Rt("Errore durante il salvataggio: "+v.message)}}),l=ot(),u=st({mutationFn:async v=>{const{error:y}=await me.from("inbound").delete().eq("id",v);if(y)throw y},onSuccess:()=>{l.invalidateQueries(["analysis-archive"]),Ft("Analisi eliminata con successo")},onError:v=>{Rt("Errore durante l'eliminazione: "+v.message)}}),d=st({mutationFn:async v=>{const{error:y}=await me.from("inbound").delete().in("id",v);if(y)throw y},onSuccess:()=>l.invalidateQueries(["analysis-archive"])}),f=v=>{n(v),t(!0)},h=v=>{window.confirm("Sei sicuro di voler eliminare questa analisi?")&&u.mutate(v.id)},m=v=>{o.mutate(v)},p=()=>{t(!1),n(null)},g={sections:[{title:"Informazioni Generali",fields:[{name:"ddt_number",label:"Numero DDT",type:"number",required:!0,placeholder:"Inserisci numero DDT"},{name:"product",label:"Prodotto",type:"text",required:!0,placeholder:"Inserisci nome prodotto"},{name:"quantity_kg",label:"Quantit (Kg)",type:"number",required:!0,placeholder:"Inserisci quantit in kg"},{name:"silo_id",label:"Silos Destinazione",type:"select",required:!0,options:(s==null?void 0:s.map(v=>({value:v.id,label:v.name})))||[]},{name:"lot_supplier",label:"Fornitore",type:"text",required:!0,placeholder:"Inserisci nome fornitore"}]},{title:"Dettagli Lotto",fields:[{name:"lot_tf",label:"Lotto TF",type:"text",placeholder:"Inserisci lotto TF"}]},{title:"Analisi Qualit",fields:[{name:"cleaned",label:"Pulizia Merce",type:"select",required:!0,options:[{value:"true",label:"Accettata"},{value:"false",label:"Non Accettata"}]},{name:"proteins",label:"Proteine Prodotto (%)",type:"number",placeholder:"Inserisci percentuale proteine"},{name:"humidity",label:"Umidit Prodotto (%)",type:"number",placeholder:"Inserisci percentuale umidit"}]},{title:"Operatore",fields:[{name:"operator_name",label:"Nome Operatore",type:"text",required:!0,placeholder:"Inserisci nome operatore"}]}],addButtonText:"Registra Analisi",editButtonText:"Aggiorna Analisi",addLoadingText:"Registrando...",editLoadingText:"Aggiornando...",addContext:"Registrazione analisi",editContext:"Aggiornamento analisi",addErrorMessage:"Errore durante la registrazione dell'analisi",editErrorMessage:"Errore durante l'aggiornamento dell'analisi"},x=[{accessorKey:"id",header:"ID",cell:({getValue:v})=>`#${v()}`},{accessorKey:"created_at",header:"Data/Ora",cell:({getValue:v})=>new Date(v()).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{accessorKey:"ddt_number",header:"DDT"},{accessorKey:"product",header:"Prodotto"},{accessorKey:"quantity_kg",header:"Quantit (Kg)",cell:({getValue:v})=>`${v()} kg`},{accessorKey:"silos.name",header:"Silos",cell:({row:v})=>{var y;return((y=v.original.silos)==null?void 0:y.name)||"N/A"}},{accessorKey:"lot_supplier",header:"Fornitore"},{accessorKey:"lot_tf",header:"Lotto TF",cell:({getValue:v})=>{const y=v();return console.log("Lot TF value:",y),y||"N/A"}},{accessorKey:"cleaned",header:"Pulizia",cell:({getValue:v})=>{const y=v();return console.log("Cleaned value:",y,typeof y),y?"Accettata":"Non Accettata"}},{accessorKey:"proteins",header:"Proteine (%)",cell:({getValue:v})=>v()?`${v()}%`:"N/A"},{accessorKey:"humidity",header:"Umidit (%)",cell:({getValue:v})=>v()?`${v()}%`:"N/A"},{accessorKey:"operator_name",header:"Operatore",cell:({getValue:v})=>{const y=v();return console.log("Operator name value:",y),y||"N/A"}}];return i?c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):c.jsxs("div",{className:"h-full flex flex-col p-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Archivio Analisi"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Registra e gestisci tutti i valori di ogni analisi per migliorare la tracciabilit"})]}),c.jsx(Ae,{onClick:()=>t(!0),className:"",children:"Registra Analisi"})]}),e&&c.jsxs(vt,{className:"p-4 mb-4 flex-shrink-0",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h2",{className:"text-lg font-semibold",children:r?"Modifica Analisi":"Nuova Analisi"})}),c.jsx(ph,{config:g,initialData:r||{},onSubmit:m,onCancel:p,isEditMode:!!r,isLoading:o.isPending})]}),c.jsxs(vt,{className:"p-4 flex-1 flex flex-col min-h-0",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:"Storico Analisi"}),c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(T_,{data:a||[],columns:x,onEditRow:f,onDeleteRow:h,enableFiltering:!0,filterableColumns:["product","silos.name","cleaned","operator_name","lot_supplier"],onBulkDelete:v=>d.mutate(v)})})]})]})}class DX extends zu{constructor(){super(me,"silos")}async getSilosWithFilters(t={}){return this.getAll({select:"id, name, capacity, current_level, material_type, location, created_at, updated_at",orderBy:"name",ascending:!0,...t})}async getPaginatedSilos(t=1,r=10,n={}){return this.getPaginated({select:"id, name, capacity, current_level, material_type, location, created_at, updated_at",orderBy:"name",ascending:!0,page:t,perPage:r,filters:n})}async searchSilos(t,r={}){return this.search(t,["name","material_type"],{select:"id, name, capacity, current_level, material_type, location",orderBy:"name",...r})}async getSilosByMaterialType(t){return this.getAll({filters:{material_type:t},orderBy:"name"})}async getLowCapacitySilos(){try{const{data:t,error:r}=await this.client.from(this.tableName).select("id, name, capacity, current_level, material_type").lt("current_level",.2).order("current_level",{ascending:!0});if(r)throw new Error(this.handleSupabaseError(r,"getLowCapacitySilos"));return t||[]}catch(t){throw new Error(`Failed to get low capacity silos: ${t.message}`)}}async updateSiloLevel(t,r){if(r<0||r>1)throw new Error("Silo level must be between 0 and 1");return this.update(t,{current_level:r,updated_at:new Date().toISOString()})}async bulkUpdateLevels(t){const r=t.map(({id:n,level:a})=>this.updateSiloLevel(n,a));return Promise.all(r)}}const MX=new DX;function IX(){const[e,t]=S.useState(""),[r,n]=S.useState([]),[a,i]=S.useState({current:1,pageSize:10}),s=qz(MX,"silos"),{data:o,isLoading:l,error:u}=s.useGetPaginated({page:a.current,perPage:a.pageSize,filters:e?{name:`%${e}%`}:{}}),d=s.useDelete(),f=s.useBulkDelete(),h=[{key:"name",title:"Silo Name",dataIndex:"name",sortable:!0,render:(y,_)=>c.jsx("div",{className:"font-medium",children:y})},{key:"material_type",title:"Material Type",dataIndex:"material_type",sortable:!0,render:y=>c.jsx(Bi,{variant:"secondary",children:y||"N/A"})},{key:"capacity",title:"Capacity",dataIndex:"capacity",sortable:!0,align:"right",render:y=>`${(y==null?void 0:y.toLocaleString())||0} tons`},{key:"current_level",title:"Current Level",dataIndex:"current_level",sortable:!0,align:"right",render:y=>{const _=Math.round((y||0)*100),w=_<20?"destructive":_<50?"secondary":"default";return c.jsxs(Bi,{variant:w,children:[_,"%"]})}},{key:"location",title:"Location",dataIndex:"location",sortable:!0},{key:"actions",title:"Actions",render:(y,_)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ae,{size:"sm",variant:"outline",onClick:()=>m(_),children:"Edit"}),c.jsx(Ae,{size:"sm",variant:"destructive",onClick:()=>p(_.id),children:"Delete"})]})}],m=y=>{console.log("Edit silo:",y)},p=async y=>{try{await d.mutateAsync(y),Ft("Silo deleted successfully")}catch(_){Rt(`Failed to delete silo: ${_.message}`)}},g=async()=>{if(r.length!==0)try{await f.mutateAsync(r),Ft(`${r.length} silos deleted successfully`),n([])}catch(y){Rt(`Failed to delete silos: ${y.message}`)}},x={selectedRowKeys:r,onChange:(y,_)=>{n(y)}},v=(y,_)=>{i({current:y,pageSize:_})};return u?c.jsx("div",{className:"p-6",children:c.jsx(vt,{children:c.jsx(Dn,{className:"pt-6",children:c.jsxs("div",{className:"text-destructive",children:["Error loading silos: ",u.message]})})})}):c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Modern Silos Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Powered by @santonastaso/shared - Professional data handling patterns"})]}),c.jsx(Ae,{onClick:()=>console.log("Add new silo"),children:"Add New Silo"})]}),c.jsxs(vt,{children:[c.jsxs(aa,{children:[c.jsx(ia,{children:"Silos Overview"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx(Ke,{placeholder:"Search silos...",value:e,onChange:y=>t(y.target.value),className:"max-w-sm"}),r.length>0&&c.jsxs(Ae,{variant:"destructive",onClick:g,disabled:f.isPending,children:["Delete Selected (",r.length,")"]})]})]}),c.jsx(Dn,{children:c.jsx(T_,{data:(o==null?void 0:o.data)||[],columns:h,loading:l,rowSelection:x,pagination:{current:a.current,pageSize:a.pageSize,total:(o==null?void 0:o.total)||0,onChange:v},onRowClick:y=>console.log("Row clicked:",y),emptyText:"No silos found"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsx(ia,{children:"Total Silos"})}),c.jsx(Dn,{children:c.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.total)||0})})]}),c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsx(ia,{children:"Selected"})}),c.jsx(Dn,{children:c.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),c.jsxs(vt,{children:[c.jsx(aa,{children:c.jsx(ia,{children:"Current Page"})}),c.jsx(Dn,{children:c.jsxs("div",{className:"text-2xl font-bold",children:[a.current," of ",(o==null?void 0:o.totalPages)||1]})})]})]})]})}function FX(){const[e,t]=S.useState(!1),[r,n]=S.useState({email:"",password:""}),{signIn:a}=Ol(),i=zr(),s=l=>{const{name:u,value:d}=l.target;n(f=>({...f,[u]:d}))},o=async l=>{l.preventDefault(),t(!0);try{await a(r.email,r.password),i("/")}catch(u){console.error("Login error:",u)}finally{t(!1)}};return c.jsx("div",{className:"min-h-screen flex",children:c.jsxs("div",{className:"container relative grid flex-col items-center justify-center sm:max-w-none lg:grid-cols-2 lg:px-0",children:[c.jsxs("div",{className:"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex",children:[c.jsx("div",{className:"absolute inset-0 bg-primary"}),c.jsxs("div",{className:"relative z-20 flex items-center text-lg font-medium",children:[c.jsx("img",{className:"h-6 mr-2",src:"/trace.svg",alt:"TRACC"}),"TRACC"]})]}),c.jsx("div",{className:"lg:p-8",children:c.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[c.jsx("div",{className:"flex flex-col space-y-2 text-center",children:c.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Accedi"})}),c.jsxs("form",{className:"space-y-8",onSubmit:o,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"email",children:"Email"}),c.jsx(Ke,{id:"email",name:"email",type:"email",value:r.email,onChange:s,placeholder:"name@example.com",required:!0,disabled:e})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ke,{htmlFor:"password",children:"Password"}),c.jsx(Ke,{id:"password",name:"password",type:"password",value:r.password,onChange:s,required:!0,disabled:e})]}),c.jsx(Ae,{type:"submit",className:"w-full cursor-pointer",disabled:e,children:e?"Accesso in corso...":"Accedi"})]}),c.jsx(Xa,{to:"/forgot-password",className:"text-sm text-center hover:underline",children:"Password dimenticata?"})]})})]})})}function LX(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[a,i]=S.useState(""),[s,o]=S.useState(!1),{signUp:l}=Ol(),u=zr(),d=async f=>{if(f.preventDefault(),r!==a){Rt("Le password non coincidono");return}if(r.length<6){Rt("La password deve essere di almeno 6 caratteri");return}o(!0);try{await l(e,r),Ft("Registrazione completata! Controlla la tua email per confermare l'account."),u("/login")}catch(h){Rt("Errore durante la registrazione: "+h.message)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs(vt,{className:"w-full max-w-md p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"TRACC"}),c.jsx("p",{className:"text-gray-600",children:"Sistema Tracciabilit Molino"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx(Ke,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,placeholder:"Inserisci la tua email",className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx(Ke,{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0,placeholder:"Inserisci la tua password (min. 6 caratteri)",className:"w-full"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Conferma Password"}),c.jsx(Ke,{id:"confirmPassword",type:"password",value:a,onChange:f=>i(f.target.value),required:!0,placeholder:"Conferma la tua password",className:"w-full"})]}),c.jsx(Ae,{type:"submit",disabled:s,className:"w-full",children:s?"Registrazione in corso...":"Registrati"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Hai gi un account?"," ",c.jsx(Xa,{to:"/login",className:"text-primary hover:underline font-medium",children:"Accedi qui"})]})})]})})}const PX=({children:e})=>{const{user:t,loading:r}=Ol();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Caricamento..."})]})}):t?e:c.jsx(YR,{to:"/login",replace:!0})},UX=()=>(Ol(),Tq(),c.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[c.jsx(Y$,{}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsx(J$,{}),c.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0 p-4",id:"main-content",children:c.jsx("div",{className:"max-w-full",children:c.jsx(tI,{})})})]}),c.jsx(EF,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3})]}));function BX(){return c.jsx(kz,{children:c.jsx(Kz,{children:c.jsxs(nI,{children:[c.jsx(wt,{path:"/login",element:c.jsx(FX,{})}),c.jsx(wt,{path:"/signup",element:c.jsx(LX,{})}),c.jsxs(wt,{path:"/",element:c.jsx(PX,{children:c.jsx(UX,{})}),children:[c.jsx(wt,{index:!0,element:c.jsx(Cq,{})}),c.jsx(wt,{path:"silos",element:c.jsx(Aq,{})}),c.jsx(wt,{path:"silos/list",element:c.jsx(Nq,{})}),c.jsx(wt,{path:"silos/modern",element:c.jsx(IX,{})}),c.jsx(wt,{path:"silos/new",element:c.jsx(NE,{})}),c.jsx(wt,{path:"silos/edit/:id",element:c.jsx(NE,{})}),c.jsx(wt,{path:"operators/list",element:c.jsx(jq,{})}),c.jsx(wt,{path:"operators/new",element:c.jsx(OE,{})}),c.jsx(wt,{path:"operators/edit/:id",element:c.jsx(OE,{})}),c.jsx(wt,{path:"materials/list",element:c.jsx(Dq,{})}),c.jsx(wt,{path:"materials/new",element:c.jsx(jE,{})}),c.jsx(wt,{path:"materials/edit/:id",element:c.jsx(jE,{})}),c.jsx(wt,{path:"suppliers/list",element:c.jsx(Iq,{})}),c.jsx(wt,{path:"suppliers/new",element:c.jsx(kE,{})}),c.jsx(wt,{path:"suppliers/edit/:id",element:c.jsx(kE,{})}),c.jsx(wt,{path:"merce-in/list",element:c.jsx(Lq,{})}),c.jsx(wt,{path:"merce-in/new",element:c.jsx(DE,{})}),c.jsx(wt,{path:"merce-in/edit/:id",element:c.jsx(DE,{})}),c.jsx(wt,{path:"merce-out/list",element:c.jsx(Uq,{})}),c.jsx(wt,{path:"merce-out/new",element:c.jsx(ME,{})}),c.jsx(wt,{path:"merce-out/edit/:id",element:c.jsx(ME,{})}),c.jsx(wt,{path:"reports",element:c.jsx(jX,{})}),c.jsx(wt,{path:"archive",element:c.jsx(kX,{})})]}),c.jsx(wt,{path:"*",element:c.jsx(YR,{to:"/",replace:!0})})]})})})}const zX=new FI({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});uM.createRoot(document.getElementById("root")).render(c.jsx(ce.StrictMode,{children:c.jsx(LI,{client:zX,children:c.jsx(uI,{basename:"/tracc/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsxs(s$,{children:[c.jsx(BX,{}),c.jsx(XI,{initialIsOpen:!1})]})})})}));
