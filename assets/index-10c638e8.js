var $h=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var S=(e,t,n)=>($h(e,t,"read from private field"),n?n.call(e):t.get(e)),G=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},V=(e,t,n,r)=>($h(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Xu=(e,t,n,r)=>({set _(s){V(e,t,s,n)},get _(){return S(e,t,r)}}),oe=(e,t,n)=>($h(e,t,"access private method"),n);function rN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var l_={exports:{}},th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=Symbol.for("react.transitional.element"),aN=Symbol.for("react.fragment");function c_(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:sN,type:e,key:r,ref:t!==void 0?t:null,props:n}}th.Fragment=aN;th.jsx=c_;th.jsxs=c_;l_.exports=th;var l=l_.exports,u_={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.transitional.element"),iN=Symbol.for("react.portal"),oN=Symbol.for("react.fragment"),lN=Symbol.for("react.strict_mode"),cN=Symbol.for("react.profiler"),uN=Symbol.for("react.consumer"),dN=Symbol.for("react.context"),fN=Symbol.for("react.forward_ref"),hN=Symbol.for("react.suspense"),mN=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),gN=Symbol.for("react.activity"),i0=Symbol.iterator;function pN(e){return e===null||typeof e!="object"?null:(e=i0&&e[i0]||e["@@iterator"],typeof e=="function"?e:null)}var f_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h_=Object.assign,m_={};function ul(e,t,n){this.props=e,this.context=t,this.refs=m_,this.updater=n||f_}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function g_(){}g_.prototype=ul.prototype;function ov(e,t,n){this.props=e,this.context=t,this.refs=m_,this.updater=n||f_}var lv=ov.prototype=new g_;lv.constructor=ov;h_(lv,ul.prototype);lv.isPureReactComponent=!0;var o0=Array.isArray;function rg(){}var Ye={H:null,A:null,T:null,S:null},p_=Object.prototype.hasOwnProperty;function cv(e,t,n){var r=n.ref;return{$$typeof:iv,type:e,key:t,ref:r!==void 0?r:null,props:n}}function vN(e,t){return cv(e.type,t,e.props)}function uv(e){return typeof e=="object"&&e!==null&&e.$$typeof===iv}function yN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l0=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yN(""+e.key):t.toString(36)}function bN(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rg,rg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Yi(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case iv:case iN:i=!0;break;case d_:return i=e._init,Yi(i(e._payload),t,n,r,s)}}if(i)return s=s(e),i=r===""?"."+Fh(e,0):r,o0(s)?(n="",i!=null&&(n=i.replace(l0,"$&/")+"/"),Yi(s,t,n,"",function(u){return u})):s!=null&&(uv(s)&&(s=vN(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(l0,"$&/")+"/")+i)),t.push(s)),1;i=0;var o=r===""?".":r+":";if(o0(e))for(var c=0;c<e.length;c++)r=e[c],a=o+Fh(r,c),i+=Yi(r,t,n,a,s);else if(c=pN(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,a=o+Fh(r,c++),i+=Yi(r,t,n,a,s);else if(a==="object"){if(typeof e.then=="function")return Yi(bN(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function Zu(e,t,n){if(e==null)return e;var r=[],s=0;return Yi(e,r,"","",function(a){return t.call(n,a,s++)}),r}function xN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var c0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wN={map:Zu,forEach:function(e,t,n){Zu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zu(e,function(){t++}),t},toArray:function(e){return Zu(e,function(t){return t})||[]},only:function(e){if(!uv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Activity=gN;be.Children=wN;be.Component=ul;be.Fragment=oN;be.Profiler=cN;be.PureComponent=ov;be.StrictMode=lN;be.Suspense=hN;be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;be.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ye.H.useMemoCache(e)}};be.cache=function(e){return function(){return e.apply(null,arguments)}};be.cacheSignal=function(){return null};be.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=h_({},e.props),s=e.key;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)!p_.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];r.children=i}return cv(e.type,s,r)};be.createContext=function(e){return e={$$typeof:dN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:uN,_context:e},e};be.createElement=function(e,t,n){var r,s={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)p_.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];s.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return cv(e,a,s)};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:fN,render:e}};be.isValidElement=uv;be.lazy=function(e){return{$$typeof:d_,_payload:{_status:-1,_result:e},_init:xN}};be.memo=function(e,t){return{$$typeof:mN,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ye.T,n={};Ye.T=n;try{var r=e(),s=Ye.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(rg,c0)}catch(a){c0(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ye.T=t}};be.unstable_useCacheRefresh=function(){return Ye.H.useCacheRefresh()};be.use=function(e){return Ye.H.use(e)};be.useActionState=function(e,t,n){return Ye.H.useActionState(e,t,n)};be.useCallback=function(e,t){return Ye.H.useCallback(e,t)};be.useContext=function(e){return Ye.H.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e,t){return Ye.H.useDeferredValue(e,t)};be.useEffect=function(e,t){return Ye.H.useEffect(e,t)};be.useEffectEvent=function(e){return Ye.H.useEffectEvent(e)};be.useId=function(){return Ye.H.useId()};be.useImperativeHandle=function(e,t,n){return Ye.H.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Ye.H.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Ye.H.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Ye.H.useMemo(e,t)};be.useOptimistic=function(e,t){return Ye.H.useOptimistic(e,t)};be.useReducer=function(e,t,n){return Ye.H.useReducer(e,t,n)};be.useRef=function(e){return Ye.H.useRef(e)};be.useState=function(e){return Ye.H.useState(e)};be.useSyncExternalStore=function(e,t,n){return Ye.H.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Ye.H.useTransition()};be.version="19.2.0";u_.exports=be;var w=u_.exports;const F=eh(w),dv=rN({__proto__:null,default:F},[w]);var v_={exports:{}},nh={},y_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var U=D.length;D.push($);e:for(;0<U;){var P=U-1>>>1,H=D[P];if(0<s(H,$))D[P]=$,D[U]=H,U=P;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],U=D.pop();if(U!==$){D[0]=U;e:for(var P=0,H=D.length,Q=H>>>1;P<Q;){var re=2*(P+1)-1,Y=D[re],Z=re+1,W=D[Z];if(0>s(Y,U))Z<H&&0>s(W,Y)?(D[P]=W,D[Z]=U,P=Z):(D[P]=Y,D[re]=U,P=re);else if(Z<H&&0>s(W,U))D[P]=W,D[Z]=U,P=Z;else break e}}return $}function s(D,$){var U=D.sortIndex-$.sortIndex;return U!==0?U:D.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],f=1,d=null,m=3,h=!1,y=!1,v=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function _(D){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function R(D){if(v=!1,_(D),!y)if(n(c)!==null)y=!0,T||(T=!0,N());else{var $=n(u);$!==null&&B(R,$.startTime-D)}}var T=!1,C=-1,M=5,O=-1;function E(){return b?!0:!(e.unstable_now()-O<M)}function k(){if(b=!1,T){var D=e.unstable_now();O=D;var $=!0;try{e:{y=!1,v&&(v=!1,p(C),C=-1),h=!0;var U=m;try{t:{for(_(D),d=n(c);d!==null&&!(d.expirationTime>D&&E());){var P=d.callback;if(typeof P=="function"){d.callback=null,m=d.priorityLevel;var H=P(d.expirationTime<=D);if(D=e.unstable_now(),typeof H=="function"){d.callback=H,_(D),$=!0;break t}d===n(c)&&r(c),_(D)}else r(c);d=n(c)}if(d!==null)$=!0;else{var Q=n(u);Q!==null&&B(R,Q.startTime-D),$=!1}}break e}finally{d=null,m=U,h=!1}$=void 0}}finally{$?N():T=!1}}}var N;if(typeof x=="function")N=function(){x(k)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=k,N=function(){L.postMessage(null)}}else N=function(){g(k,0)};function B(D,$){C=g(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var U=m;m=$;try{return D()}finally{m=U}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=m;m=D;try{return $()}finally{m=U}},e.unstable_scheduleCallback=function(D,$,U){var P=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,D={id:f++,callback:$,priorityLevel:D,startTime:U,expirationTime:H,sortIndex:-1},U>P?(D.sortIndex=U,t(u,D),n(c)===null&&D===n(u)&&(v?(p(C),C=-1):v=!0,B(R,U-P))):(D.sortIndex=H,t(c,D),y||h||(y=!0,T||(T=!0,N()))),D},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(D){var $=m;return function(){var U=m;m=$;try{return D.apply(this,arguments)}finally{m=U}}}})(b_);y_.exports=b_;var _N=y_.exports,x_={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=w;function w_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ss(){}var Kt={d:{f:Ss,r:function(){throw Error(w_(522))},D:Ss,C:Ss,L:Ss,m:Ss,X:Ss,S:Ss,M:Ss},p:0,findDOMNode:null},EN=Symbol.for("react.portal");function RN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:EN,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var ic=SN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(w_(299));return RN(e,t,null,n)};Qt.flushSync=function(e){var t=ic.T,n=Kt.p;try{if(ic.T=null,Kt.p=2,e)return e()}finally{ic.T=t,Kt.p=n,Kt.d.f()}};Qt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Kt.d.C(e,t))};Qt.prefetchDNS=function(e){typeof e=="string"&&Kt.d.D(e)};Qt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=rh(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Kt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:a}):n==="script"&&Kt.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=rh(t.as,t.crossOrigin);Kt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Kt.d.M(e)};Qt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=rh(n,t.crossOrigin);Kt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=rh(t.as,t.crossOrigin);Kt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Kt.d.m(e)};Qt.requestFormReset=function(e){Kt.d.r(e)};Qt.unstable_batchedUpdates=function(e,t){return e(t)};Qt.useFormState=function(e,t,n){return ic.H.useFormState(e,t,n)};Qt.useFormStatus=function(){return ic.H.useHostTransitionStatus()};Qt.version="19.2.0";function __(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(__)}catch(e){console.error(e)}}__(),x_.exports=Qt;var sh=x_.exports;const S_=eh(sh);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=_N,E_=w,jN=sh;function q(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function R_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Su(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function j_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u0(e){if(Su(e)!==e)throw Error(q(188))}function CN(e){var t=e.alternate;if(!t){if(t=Su(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return u0(s),e;if(a===r)return u0(s),t;a=a.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function N_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N_(e),t!==null)return t;e=e.sibling}return null}var Ze=Object.assign,NN=Symbol.for("react.element"),Wu=Symbol.for("react.transitional.element"),Zl=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),O_=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),T_=Symbol.for("react.consumer"),as=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),og=Symbol.for("react.activity"),ON=Symbol.for("react.memo_cache_sentinel"),d0=Symbol.iterator;function Pl(e){return e===null||typeof e!="object"?null:(e=d0&&e[d0]||e["@@iterator"],typeof e=="function"?e:null)}var TN=Symbol.for("react.client.reference");function lg(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===TN?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case sg:return"Profiler";case O_:return"StrictMode";case ag:return"Suspense";case ig:return"SuspenseList";case og:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Zl:return"Portal";case as:return e.displayName||"Context";case T_:return(e._context.displayName||"Context")+".Consumer";case fv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hv:return t=e.displayName||null,t!==null?t:lg(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return lg(e(t))}catch{}}return null}var Wl=Array.isArray,pe=E_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie=jN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ci={pending:!1,data:null,method:null,action:null},cg=[],no=-1;function Dr(e){return{current:e}}function Nt(e){0>no||(e.current=cg[no],cg[no]=null,no--)}function He(e,t){no++,cg[no]=e.current,e.current=t}var Or=Dr(null),Cc=Dr(null),ia=Dr(null),rf=Dr(null);function sf(e,t){switch(He(ia,t),He(Cc,e),He(Or,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vb(t),e=XE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Nt(Or),He(Or,e)}function Ko(){Nt(Or),Nt(Cc),Nt(ia)}function ug(e){e.memoizedState!==null&&He(rf,e);var t=Or.current,n=XE(t,e.type);t!==n&&(He(Cc,e),He(Or,n))}function af(e){Cc.current===e&&(Nt(Or),Nt(Cc)),rf.current===e&&(Nt(rf),zc._currentValue=ci)}var qh,f0;function za(e){if(qh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qh=t&&t[1]||"",f0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qh+e+f0}var Bh=!1;function Vh(e,t){if(!e||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var m=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){m=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){m=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var c=i.split(`
`),u=o.split(`
`);for(s=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(r===c.length||s===u.length)for(r=c.length-1,s=u.length-1;1<=r&&0<=s&&c[r]!==u[s];)s--;for(;1<=r&&0<=s;r--,s--)if(c[r]!==u[s]){if(r!==1||s!==1)do if(r--,s--,0>s||c[r]!==u[s]){var f=`
`+c[r].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=r&&0<=s);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?za(n):""}function AN(e,t){switch(e.tag){case 26:case 27:case 5:return za(e.type);case 16:return za("Lazy");case 13:return e.child!==t&&t!==null?za("Suspense Fallback"):za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return Vh(e.type,!1);case 11:return Vh(e.type.render,!1);case 1:return Vh(e.type,!0);case 31:return za("Activity");default:return""}}function h0(e){try{var t="",n=null;do t+=AN(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var dg=Object.prototype.hasOwnProperty,mv=wt.unstable_scheduleCallback,Hh=wt.unstable_cancelCallback,MN=wt.unstable_shouldYield,DN=wt.unstable_requestPaint,jn=wt.unstable_now,kN=wt.unstable_getCurrentPriorityLevel,A_=wt.unstable_ImmediatePriority,M_=wt.unstable_UserBlockingPriority,of=wt.unstable_NormalPriority,IN=wt.unstable_LowPriority,D_=wt.unstable_IdlePriority,LN=wt.log,UN=wt.unstable_setDisableYieldValue,Eu=null,Cn=null;function Js(e){if(typeof LN=="function"&&UN(e),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(Eu,e)}catch{}}var Nn=Math.clz32?Math.clz32:$N,zN=Math.log,PN=Math.LN2;function $N(e){return e>>>=0,e===0?32:31-(zN(e)/PN|0)|0}var Ju=256,ed=262144,td=4194304;function Pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ah(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?s=Pa(r):(i&=o,i!==0?s=Pa(i):n||(n=o&~e,n!==0&&(s=Pa(n))))):(o=r&~a,o!==0?s=Pa(o):i!==0?s=Pa(i):n||(n=r&~e,n!==0&&(s=Pa(n)))),s===0?0:t!==0&&t!==s&&!(t&a)&&(a=s&-s,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:s}function Ru(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function FN(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k_(){var e=td;return td<<=1,!(td&62914560)&&(td=4194304),e}function Gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ju(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qN(e,t,n,r,s,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var f=31-Nn(n),d=1<<f;o[f]=0,c[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var h=m[f];h!==null&&(h.lane&=-536870913)}n&=~d}r!==0&&I_(e,r,0),a!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=a&~(i&~t))}function I_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Nn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function L_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function U_(e,t){var n=t&-t;return n=n&42?1:gv(n),n&(e.suspendedLanes|t)?0:n}function gv(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pv(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function z_(){var e=Ie.p;return e!==0?e:(e=window.event,e===void 0?32:o1(e.type))}function m0(e,t){var n=Ie.p;try{return Ie.p=e,t()}finally{Ie.p=n}}var Ra=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ra,un="__reactProps$"+Ra,dl="__reactContainer$"+Ra,fg="__reactEvents$"+Ra,BN="__reactListeners$"+Ra,VN="__reactHandles$"+Ra,g0="__reactResources$"+Ra,Cu="__reactMarker$"+Ra;function vv(e){delete e[kt],delete e[un],delete e[fg],delete e[BN],delete e[VN]}function ro(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dl]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_b(e);e!==null;){if(n=e[kt])return n;e=_b(e)}return t}e=n,n=e.parentNode}return null}function fl(e){if(e=e[kt]||e[dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Jl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(q(33))}function mo(e){var t=e[g0];return t||(t=e[g0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ct(e){e[Cu]=!0}var P_=new Set,$_={};function Si(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for($_[e]=t,e=0;e<t.length;e++)P_.add(t[e])}var HN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p0={},v0={};function GN(e){return dg.call(v0,e)?!0:dg.call(p0,e)?!1:HN.test(e)?v0[e]=!0:(p0[e]=!0,!1)}function Ud(e,t,n){if(GN(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function nd(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $r(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function qn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KN(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hg(e){if(!e._valueTracker){var t=F_(e)?"checked":"value";e._valueTracker=KN(e,t,""+e[t])}}function q_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var QN=/[\n"\\]/g;function Hn(e){return e.replace(QN,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mg(e,t,n,r,s,a,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qn(t)):e.value!==""+qn(t)&&(e.value=""+qn(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?gg(e,i,qn(t)):n!=null?gg(e,i,qn(n)):r!=null&&e.removeAttribute("value"),s==null&&a!=null&&(e.defaultChecked=!!a),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+qn(o):e.removeAttribute("name")}function B_(e,t,n,r,s,a,i,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){hg(e);return}n=n!=null?""+qn(n):"",t=t!=null?""+qn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),hg(e)}function gg(e,t,n){t==="number"&&lf(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function go(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function V_(e,t,n){if(t!=null&&(t=""+qn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qn(n):""}function H_(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(q(92));if(Wl(r)){if(1<r.length)throw Error(q(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=qn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),hg(e)}function Yo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var YN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||YN.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function G_(e,t,n){if(t!=null&&typeof t!="object")throw Error(q(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&y0(e,s,r)}else for(var a in t)t.hasOwnProperty(a)&&y0(e,a,t[a])}function yv(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zd(e){return ZN.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function is(){}var pg=null;function bv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var so=null,po=null;function b0(e){var t=fl(e);if(t&&(e=t.stateNode)){var n=e[un]||null;e:switch(e=t.stateNode,t.type){case"input":if(mg(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[un]||null;if(!s)throw Error(q(90));mg(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&q_(r)}break e;case"textarea":V_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&go(e,!!n.multiple,t,!1)}}}var Kh=!1;function K_(e,t,n){if(Kh)return e(t,n);Kh=!0;try{var r=e(t);return r}finally{if(Kh=!1,(so!==null||po!==null)&&(vh(),so&&(t=so,e=po,po=so=null,b0(t),e)))for(t=0;t<e.length;t++)b0(e[t])}}function Nc(e,t){var n=e.stateNode;if(n===null)return null;var r=n[un]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vg=!1;if(fs)try{var $l={};Object.defineProperty($l,"passive",{get:function(){vg=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{vg=!1}var ea=null,xv=null,Pd=null;function Q_(){if(Pd)return Pd;var e,t=xv,n=t.length,r,s="value"in ea?ea.value:ea.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Pd=s.slice(e,1<r?1-r:void 0)}function $d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rd(){return!0}function x0(){return!1}function fn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rd:x0,this.isPropagationStopped=x0,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=fn(Ei),Nu=Ze({},Ei,{view:0,detail:0}),WN=fn(Nu),Qh,Yh,Fl,oh=Ze({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(Qh=e.screenX-Fl.screenX,Yh=e.screenY-Fl.screenY):Yh=Qh=0,Fl=e),Qh)},movementY:function(e){return"movementY"in e?e.movementY:Yh}}),w0=fn(oh),JN=Ze({},oh,{dataTransfer:0}),eO=fn(JN),tO=Ze({},Nu,{relatedTarget:0}),Xh=fn(tO),nO=Ze({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),rO=fn(nO),sO=Ze({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aO=fn(sO),iO=Ze({},Ei,{data:0}),_0=fn(iO),oO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cO[e])?!!t[e]:!1}function wv(){return uO}var dO=Ze({},Nu,{key:function(e){if(e.key){var t=oO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(e){return e.type==="keypress"?$d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fO=fn(dO),hO=Ze({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S0=fn(hO),mO=Ze({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),gO=fn(mO),pO=Ze({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),vO=fn(pO),yO=Ze({},oh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bO=fn(yO),xO=Ze({},Ei,{newState:0,oldState:0}),wO=fn(xO),_O=[9,13,27,32],_v=fs&&"CompositionEvent"in window,oc=null;fs&&"documentMode"in document&&(oc=document.documentMode);var SO=fs&&"TextEvent"in window&&!oc,Y_=fs&&(!_v||oc&&8<oc&&11>=oc),E0=String.fromCharCode(32),R0=!1;function X_(e,t){switch(e){case"keyup":return _O.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ao=!1;function EO(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(R0=!0,E0);case"textInput":return e=t.data,e===E0&&R0?null:e;default:return null}}function RO(e,t){if(ao)return e==="compositionend"||!_v&&X_(e,t)?(e=Q_(),Pd=xv=ea=null,ao=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Y_&&t.locale!=="ko"?null:t.data;default:return null}}var jO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jO[e.type]:t==="textarea"}function W_(e,t,n,r){so?po?po.push(r):po=[r]:so=r,t=jf(t,"onChange"),0<t.length&&(n=new ih("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lc=null,Oc=null;function CO(e){KE(e,0)}function lh(e){var t=Jl(e);if(q_(t))return e}function C0(e,t){if(e==="change")return t}var J_=!1;if(fs){var Zh;if(fs){var Wh="oninput"in document;if(!Wh){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),Wh=typeof N0.oninput=="function"}Zh=Wh}else Zh=!1;J_=Zh&&(!document.documentMode||9<document.documentMode)}function O0(){lc&&(lc.detachEvent("onpropertychange",eS),Oc=lc=null)}function eS(e){if(e.propertyName==="value"&&lh(Oc)){var t=[];W_(t,Oc,e,bv(e)),K_(CO,t)}}function NO(e,t,n){e==="focusin"?(O0(),lc=t,Oc=n,lc.attachEvent("onpropertychange",eS)):e==="focusout"&&O0()}function OO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lh(Oc)}function TO(e,t){if(e==="click")return lh(t)}function AO(e,t){if(e==="input"||e==="change")return lh(t)}function MO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var An=typeof Object.is=="function"?Object.is:MO;function Tc(e,t){if(An(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dg.call(t,s)||!An(e[s],t[s]))return!1}return!0}function T0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A0(e,t){var n=T0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T0(n)}}function tS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lf(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lf(e.document)}return t}function Sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DO=fs&&"documentMode"in document&&11>=document.documentMode,io=null,yg=null,cc=null,bg=!1;function M0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bg||io==null||io!==lf(r)||(r=io,"selectionStart"in r&&Sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cc&&Tc(cc,r)||(cc=r,r=jf(yg,"onSelect"),0<r.length&&(t=new ih("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=io)))}function Aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oo={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Jh={},rS={};fs&&(rS=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Ri(e){if(Jh[e])return Jh[e];if(!oo[e])return e;var t=oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rS)return Jh[e]=t[n];return e}var sS=Ri("animationend"),aS=Ri("animationiteration"),iS=Ri("animationstart"),kO=Ri("transitionrun"),IO=Ri("transitionstart"),LO=Ri("transitioncancel"),oS=Ri("transitionend"),lS=new Map,xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xg.push("scrollEnd");function vr(e,t){lS.set(e,t),Si(t,[e])}var cf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],lo=0,Ev=0;function ch(){for(var e=lo,t=Ev=lo=0;t<e;){var n=zn[t];zn[t++]=null;var r=zn[t];zn[t++]=null;var s=zn[t];zn[t++]=null;var a=zn[t];if(zn[t++]=null,r!==null&&s!==null){var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}a!==0&&cS(n,s,a)}}function uh(e,t,n,r){zn[lo++]=e,zn[lo++]=t,zn[lo++]=n,zn[lo++]=r,Ev|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Rv(e,t,n,r){return uh(e,t,n,r),uf(e)}function ji(e,t){return uh(e,null,null,t),uf(e)}function cS(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(s=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,s&&t!==null&&(s=31-Nn(n),e=a.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),a):null}function uf(e){if(50<yc)throw yc=0,Fg=null,Error(q(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var co={};function UO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new UO(e,t,n,r)}function jv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ls(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function uS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fd(e,t,n,r,s,a){var i=0;if(r=e,typeof e=="function")jv(e)&&(i=1);else if(typeof e=="string")i=qT(e,n,Or.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case og:return e=xn(31,n,t,s),e.elementType=og,e.lanes=a,e;case to:return ui(n.children,s,a,t);case O_:i=8,s|=24;break;case sg:return e=xn(12,n,t,s|2),e.elementType=sg,e.lanes=a,e;case ag:return e=xn(13,n,t,s),e.elementType=ag,e.lanes=a,e;case ig:return e=xn(19,n,t,s),e.elementType=ig,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case as:i=10;break e;case T_:i=9;break e;case fv:i=11;break e;case hv:i=14;break e;case Ts:i=16,r=null;break e}i=29,n=Error(q(130,e===null?"null":typeof e,"")),r=null}return t=xn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ui(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function em(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function dS(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function tm(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var D0=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=D0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:h0(t)},D0.set(e,t),t)}return{value:e,source:t,stack:h0(t)}}var uo=[],fo=0,df=null,Ac=0,Bn=[],Vn=0,va=null,Rr=1,jr="";function Xr(e,t){uo[fo++]=Ac,uo[fo++]=df,df=e,Ac=t}function fS(e,t,n){Bn[Vn++]=Rr,Bn[Vn++]=jr,Bn[Vn++]=va,va=e;var r=Rr;e=jr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var a=32-Nn(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Rr=1<<32-Nn(t)+s|n<<s|r,jr=a+e}else Rr=1<<a|n<<s|r,jr=e}function Cv(e){e.return!==null&&(Xr(e,1),fS(e,1,0))}function Nv(e){for(;e===df;)df=uo[--fo],uo[fo]=null,Ac=uo[--fo],uo[fo]=null;for(;e===va;)va=Bn[--Vn],Bn[Vn]=null,jr=Bn[--Vn],Bn[Vn]=null,Rr=Bn[--Vn],Bn[Vn]=null}function hS(e,t){Bn[Vn++]=Rr,Bn[Vn++]=jr,Bn[Vn++]=va,Rr=t.id,jr=t.overflow,va=e}var It=null,Qe=null,Ne=!1,oa=null,Kn=!1,wg=Error(q(519));function ya(e){var t=Error(q(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mc(Gn(t,e)),wg}function k0(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[kt]=e,t[un]=r,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<Lc.length;n++)Se(Lc[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),B_(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),H_(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||YE(t.textContent,n)?(r.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),r.onScroll!=null&&Se("scroll",t),r.onScrollEnd!=null&&Se("scrollend",t),r.onClick!=null&&(t.onclick=is),t=!0):t=!1,t||ya(e,!0)}function I0(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:It=It.return}}function Ui(e){if(e!==It)return!1;if(!Ne)return I0(e),Ne=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gg(e.type,e.memoizedProps)),n=!n),n&&Qe&&ya(e),I0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));Qe=wb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));Qe=wb(e)}else t===27?(t=Qe,ja(e.type)?(e=Xg,Xg=null,Qe=e):Qe=t):Qe=It?Xn(e.stateNode.nextSibling):null;return!0}function mi(){Qe=It=null,Ne=!1}function nm(){var e=oa;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),oa=null),e}function Mc(e){oa===null?oa=[e]:oa.push(e)}var _g=Dr(null),Ci=null,os=null;function Ms(e,t,n){He(_g,t._currentValue),t._currentValue=n}function cs(e){e._currentValue=_g.current,Nt(_g)}function Sg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eg(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){var i=s.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Sg(a.return,n,e),r||(i=null);break e}a=o.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Sg(i,n,e),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function hl(e,t,n,r){e=null;for(var s=t,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(q(387));if(i=i.memoizedProps,i!==null){var o=s.type;An(s.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(s===rf.current){if(i=s.alternate,i===null)throw Error(q(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(zc):e=[zc])}s=s.return}e!==null&&Eg(t,e,n,r),t.flags|=262144}function ff(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gi(e){Ci=e,os=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return mS(Ci,e)}function sd(e,t){return Ci===null&&gi(e),mS(e,t)}function mS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},os===null){if(e===null)throw Error(q(308));os=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else os=os.next=t;return n}var zO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},PO=wt.unstable_scheduleCallback,$O=wt.unstable_NormalPriority,gt={$$typeof:as,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ov(){return{controller:new zO,data:new Map,refCount:0}}function Ou(e){e.refCount--,e.refCount===0&&PO($O,function(){e.controller.abort()})}var uc=null,Rg=0,Xo=0,vo=null;function FO(e,t){if(uc===null){var n=uc=[];Rg=0,Xo=ey(),vo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Rg++,t.then(L0,L0),t}function L0(){if(--Rg===0&&uc!==null){vo!==null&&(vo.status="fulfilled");var e=uc;uc=null,Xo=0,vo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qO(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var U0=pe.S;pe.S=function(e,t){NE=jn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&FO(e,t),U0!==null&&U0(e,t)};var di=Dr(null);function Tv(){var e=di.current;return e!==null?e:Be.pooledCache}function qd(e,t){t===null?He(di,di.current):He(di,t.pool)}function gS(){var e=Tv();return e===null?null:{parent:gt._currentValue,pool:e}}var ml=Error(q(460)),Av=Error(q(474)),dh=Error(q(542)),hf={then:function(){}};function z0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(is,is),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$0(e),e;default:if(typeof t.status=="string")t.then(is,is);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(q(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$0(e),e}throw fi=t,ml}}function $a(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fi=n,ml):n}}var fi=null;function P0(){if(fi===null)throw Error(q(459));var e=fi;return fi=null,e}function $0(e){if(e===ml||e===dh)throw Error(q(483))}var yo=null,Dc=0;function ad(e){var t=Dc;return Dc+=1,yo===null&&(yo=[]),pS(yo,e,t)}function ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function id(e,t){throw t.$$typeof===NN?Error(q(525)):(e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vS(e){function t(g,p){if(e){var x=g.deletions;x===null?(g.deletions=[p],g.flags|=16):x.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(g,p){return g=ls(g,p),g.index=0,g.sibling=null,g}function a(g,p,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<p?(g.flags|=67108866,p):x):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,p,x,_){return p===null||p.tag!==6?(p=em(x,g.mode,_),p.return=g,p):(p=s(p,x),p.return=g,p)}function c(g,p,x,_){var R=x.type;return R===to?f(g,p,x.props.children,_,x.key):p!==null&&(p.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ts&&$a(R)===p.type)?(p=s(p,x.props),ql(p,x),p.return=g,p):(p=Fd(x.type,x.key,x.props,null,g.mode,_),ql(p,x),p.return=g,p)}function u(g,p,x,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=tm(x,g.mode,_),p.return=g,p):(p=s(p,x.children||[]),p.return=g,p)}function f(g,p,x,_,R){return p===null||p.tag!==7?(p=ui(x,g.mode,_,R),p.return=g,p):(p=s(p,x),p.return=g,p)}function d(g,p,x){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=em(""+p,g.mode,x),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wu:return x=Fd(p.type,p.key,p.props,null,g.mode,x),ql(x,p),x.return=g,x;case Zl:return p=tm(p,g.mode,x),p.return=g,p;case Ts:return p=$a(p),d(g,p,x)}if(Wl(p)||Pl(p))return p=ui(p,g.mode,x,null),p.return=g,p;if(typeof p.then=="function")return d(g,ad(p),x);if(p.$$typeof===as)return d(g,sd(g,p),x);id(g,p)}return null}function m(g,p,x,_){var R=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return R!==null?null:o(g,p,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:return x.key===R?c(g,p,x,_):null;case Zl:return x.key===R?u(g,p,x,_):null;case Ts:return x=$a(x),m(g,p,x,_)}if(Wl(x)||Pl(x))return R!==null?null:f(g,p,x,_,null);if(typeof x.then=="function")return m(g,p,ad(x),_);if(x.$$typeof===as)return m(g,p,sd(g,x),_);id(g,x)}return null}function h(g,p,x,_,R){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return g=g.get(x)||null,o(p,g,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return g=g.get(_.key===null?x:_.key)||null,c(p,g,_,R);case Zl:return g=g.get(_.key===null?x:_.key)||null,u(p,g,_,R);case Ts:return _=$a(_),h(g,p,x,_,R)}if(Wl(_)||Pl(_))return g=g.get(x)||null,f(p,g,_,R,null);if(typeof _.then=="function")return h(g,p,x,ad(_),R);if(_.$$typeof===as)return h(g,p,x,sd(p,_),R);id(p,_)}return null}function y(g,p,x,_){for(var R=null,T=null,C=p,M=p=0,O=null;C!==null&&M<x.length;M++){C.index>M?(O=C,C=null):O=C.sibling;var E=m(g,C,x[M],_);if(E===null){C===null&&(C=O);break}e&&C&&E.alternate===null&&t(g,C),p=a(E,p,M),T===null?R=E:T.sibling=E,T=E,C=O}if(M===x.length)return n(g,C),Ne&&Xr(g,M),R;if(C===null){for(;M<x.length;M++)C=d(g,x[M],_),C!==null&&(p=a(C,p,M),T===null?R=C:T.sibling=C,T=C);return Ne&&Xr(g,M),R}for(C=r(C);M<x.length;M++)O=h(C,g,M,x[M],_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?M:O.key),p=a(O,p,M),T===null?R=O:T.sibling=O,T=O);return e&&C.forEach(function(k){return t(g,k)}),Ne&&Xr(g,M),R}function v(g,p,x,_){if(x==null)throw Error(q(151));for(var R=null,T=null,C=p,M=p=0,O=null,E=x.next();C!==null&&!E.done;M++,E=x.next()){C.index>M?(O=C,C=null):O=C.sibling;var k=m(g,C,E.value,_);if(k===null){C===null&&(C=O);break}e&&C&&k.alternate===null&&t(g,C),p=a(k,p,M),T===null?R=k:T.sibling=k,T=k,C=O}if(E.done)return n(g,C),Ne&&Xr(g,M),R;if(C===null){for(;!E.done;M++,E=x.next())E=d(g,E.value,_),E!==null&&(p=a(E,p,M),T===null?R=E:T.sibling=E,T=E);return Ne&&Xr(g,M),R}for(C=r(C);!E.done;M++,E=x.next())E=h(C,g,M,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?M:E.key),p=a(E,p,M),T===null?R=E:T.sibling=E,T=E);return e&&C.forEach(function(N){return t(g,N)}),Ne&&Xr(g,M),R}function b(g,p,x,_){if(typeof x=="object"&&x!==null&&x.type===to&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:e:{for(var R=x.key;p!==null;){if(p.key===R){if(R=x.type,R===to){if(p.tag===7){n(g,p.sibling),_=s(p,x.props.children),_.return=g,g=_;break e}}else if(p.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ts&&$a(R)===p.type){n(g,p.sibling),_=s(p,x.props),ql(_,x),_.return=g,g=_;break e}n(g,p);break}else t(g,p);p=p.sibling}x.type===to?(_=ui(x.props.children,g.mode,_,x.key),_.return=g,g=_):(_=Fd(x.type,x.key,x.props,null,g.mode,_),ql(_,x),_.return=g,g=_)}return i(g);case Zl:e:{for(R=x.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(g,p.sibling),_=s(p,x.children||[]),_.return=g,g=_;break e}else{n(g,p);break}else t(g,p);p=p.sibling}_=tm(x,g.mode,_),_.return=g,g=_}return i(g);case Ts:return x=$a(x),b(g,p,x,_)}if(Wl(x))return y(g,p,x,_);if(Pl(x)){if(R=Pl(x),typeof R!="function")throw Error(q(150));return x=R.call(x),v(g,p,x,_)}if(typeof x.then=="function")return b(g,p,ad(x),_);if(x.$$typeof===as)return b(g,p,sd(g,x),_);id(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,p!==null&&p.tag===6?(n(g,p.sibling),_=s(p,x),_.return=g,g=_):(n(g,p),_=em(x,g.mode,_),_.return=g,g=_),i(g)):n(g,p)}return function(g,p,x,_){try{Dc=0;var R=b(g,p,x,_);return yo=null,R}catch(C){if(C===ml||C===dh)throw C;var T=xn(29,C,null,g.mode);return T.lanes=_,T.return=g,T}finally{}}}var pi=vS(!0),yS=vS(!1),As=!1;function Mv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=uf(e),cS(e,null,n),t}return uh(e,r,t,n),uf(e)}function dc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L_(e,n)}}function rm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Cg=!1;function fc(){if(Cg){var e=vo;if(e!==null)throw e}}function hc(e,t,n,r){Cg=!1;var s=e.updateQueue;As=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;i=0,f=u=c=null,o=a;do{var m=o.lane&-536870913,h=m!==o.lane;if(h?(Re&m)===m:(r&m)===m){m!==0&&m===Xo&&(Cg=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=e,v=o;m=t;var b=n;switch(v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(b,d,m);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,m=typeof y=="function"?y.call(b,d,m):y,m==null)break e;d=Ze({},d,m);break e;case 2:As=!0}}m=o.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=s.callbacks,h===null?s.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=h,c=d):f=f.next=h,i|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,a===null&&(s.shared.lanes=0),xa|=i,e.lanes=i,e.memoizedState=d}}function bS(e,t){if(typeof e!="function")throw Error(q(191,e));e.call(t)}function xS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bS(n[e],t)}var Zo=Dr(null),mf=Dr(0);function F0(e,t){e=ps,He(mf,e),He(Zo,t),ps=e|t.baseLanes}function Ng(){He(mf,ps),He(Zo,Zo.current)}function Dv(){ps=mf.current,Nt(Zo),Nt(mf)}var Mn=Dr(null),Yn=null;function Ds(e){var t=e.alternate;He(ot,ot.current&1),He(Mn,e),Yn===null&&(t===null||Zo.current!==null||t.memoizedState!==null)&&(Yn=e)}function Og(e){He(ot,ot.current),He(Mn,e),Yn===null&&(Yn=e)}function wS(e){e.tag===22?(He(ot,ot.current),He(Mn,e),Yn===null&&(Yn=e)):ks()}function ks(){He(ot,ot.current),He(Mn,Mn.current)}function yn(e){Nt(Mn),Yn===e&&(Yn=null),Nt(ot)}var ot=Dr(0);function gf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qg(n)||Yg(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hs=0,xe=null,Fe=null,ht=null,pf=!1,bo=!1,vi=!1,vf=0,kc=0,xo=null,BO=0;function rt(){throw Error(q(321))}function kv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!An(e[n],t[n]))return!1;return!0}function Iv(e,t,n,r,s,a){return hs=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pe.H=e===null||e.memoizedState===null?WS:Gv,vi=!1,a=n(r,s),vi=!1,bo&&(a=SS(t,n,r,s)),_S(e),a}function _S(e){pe.H=Ic;var t=Fe!==null&&Fe.next!==null;if(hs=0,ht=Fe=xe=null,pf=!1,kc=0,xo=null,t)throw Error(q(300));e===null||pt||(e=e.dependencies,e!==null&&ff(e)&&(pt=!0))}function SS(e,t,n,r){xe=e;var s=0;do{if(bo&&(xo=null),kc=0,bo=!1,25<=s)throw Error(q(301));if(s+=1,ht=Fe=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}pe.H=JS,a=t(n,r)}while(bo);return a}function VO(){var e=pe.H,t=e.useState()[0];return t=typeof t.then=="function"?Tu(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(xe.flags|=1024),t}function Lv(){var e=vf!==0;return vf=0,e}function Uv(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zv(e){if(pf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pf=!1}hs=0,ht=Fe=xe=null,bo=!1,kc=vf=0,xo=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?xe.memoizedState=ht=e:ht=ht.next=e,ht}function lt(){if(Fe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=ht===null?xe.memoizedState:ht.next;if(t!==null)ht=t,Fe=e;else{if(e===null)throw xe.alternate===null?Error(q(467)):Error(q(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ht===null?xe.memoizedState=ht=e:ht=ht.next=e}return ht}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(e){var t=kc;return kc+=1,xo===null&&(xo=[]),e=pS(xo,e,t),t=xe,(ht===null?t.memoizedState:ht.next)===null&&(t=t.alternate,pe.H=t===null||t.memoizedState===null?WS:Gv),e}function hh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tu(e);if(e.$$typeof===as)return Lt(e)}throw Error(q(438,String(e)))}function Pv(e){var t=null,n=xe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=xe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fh(),xe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ON;return t.index++,n}function ms(e,t){return typeof t=="function"?t(e):t}function Bd(e){var t=lt();return $v(t,Fe,e)}function $v(e,t,n){var r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=n;var s=e.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}t.baseQueue=s=a,r.pending=null}if(a=e.baseState,s===null)e.memoizedState=a;else{t=s.next;var o=i=null,c=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Re&d)===d:(hs&d)===d){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Xo&&(f=!0);else if((hs&m)===m){u=u.next,m===Xo&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,i=a):c=c.next=d,xe.lanes|=m,xa|=m;d=u.action,vi&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else m={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=m,i=a):c=c.next=m,xe.lanes|=d,xa|=d;u=u.next}while(u!==null&&u!==t);if(c===null?i=a:c.next=o,!An(a,e.memoizedState)&&(pt=!0,f&&(n=vo,n!==null)))throw n;e.memoizedState=a,e.baseState=i,e.baseQueue=c,r.lastRenderedState=a}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function sm(e){var t=lt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);An(a,t.memoizedState)||(pt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ES(e,t,n){var r=xe,s=lt(),a=Ne;if(a){if(n===void 0)throw Error(q(407));n=n()}else n=t();var i=!An((Fe||s).memoizedState,n);if(i&&(s.memoizedState=n,pt=!0),s=s.queue,Fv(CS.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ht!==null&&ht.memoizedState.tag&1){if(r.flags|=2048,Wo(9,{destroy:void 0},jS.bind(null,r,s,n,t),null),Be===null)throw Error(q(349));a||hs&127||RS(r,t,n)}return n}function RS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t=fh(),xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jS(e,t,n,r){t.value=n,t.getSnapshot=r,NS(t)&&OS(e)}function CS(e,t,n){return n(function(){NS(t)&&OS(e)})}function NS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!An(e,n)}catch{return!0}}function OS(e){var t=ji(e,2);t!==null&&cn(t,e,2)}function Tg(e){var t=Ht();if(typeof e=="function"){var n=e;if(e=n(),vi){Js(!0);try{n()}finally{Js(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t}function TS(e,t,n,r){return e.baseState=n,$v(e,Fe,typeof r=="function"?r:ms)}function HO(e,t,n,r,s){if(gh(e))throw Error(q(485));if(e=t.action,e!==null){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){a.listeners.push(i)}};pe.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,AS(t,a)):(a.next=n.next,t.pending=n.next=a)}}function AS(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var a=pe.T,i={};pe.T=i;try{var o=n(s,r),c=pe.S;c!==null&&c(i,o),q0(e,t,o)}catch(u){Ag(e,t,u)}finally{a!==null&&i.types!==null&&(a.types=i.types),pe.T=a}}else try{a=n(s,r),q0(e,t,a)}catch(u){Ag(e,t,u)}}function q0(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){B0(e,t,r)},function(r){return Ag(e,t,r)}):B0(e,t,n)}function B0(e,t,n){t.status="fulfilled",t.value=n,MS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,AS(e,n)))}function Ag(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,MS(t),t=t.next;while(t!==r)}e.action=null}function MS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function DS(e,t){return t}function V0(e,t){if(Ne){var n=Be.formState;if(n!==null){e:{var r=xe;if(Ne){if(Qe){t:{for(var s=Qe,a=Kn;s.nodeType!==8;){if(!a){s=null;break t}if(s=Xn(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Qe=Xn(s.nextSibling),r=s.data==="F!";break e}}ya(r)}r=!1}r&&(t=n[0])}}return n=Ht(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DS,lastRenderedState:t},n.queue=r,n=YS.bind(null,xe,r),r.dispatch=n,r=Tg(!1),a=Hv.bind(null,xe,!1,r.queue),r=Ht(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=HO.bind(null,xe,s,a,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function H0(e){var t=lt();return kS(t,Fe,e)}function kS(e,t,n){if(t=$v(e,t,DS)[0],e=Bd(ms)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Tu(t)}catch(i){throw i===ml?dh:i}else r=t;t=lt();var s=t.queue,a=s.dispatch;return n!==t.memoizedState&&(xe.flags|=2048,Wo(9,{destroy:void 0},GO.bind(null,s,n),null)),[r,a,e]}function GO(e,t){e.action=t}function G0(e){var t=lt(),n=Fe;if(n!==null)return kS(t,n,e);lt(),t=t.memoizedState,n=lt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Wo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=xe.updateQueue,t===null&&(t=fh(),xe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function IS(){return lt().memoizedState}function Vd(e,t,n,r){var s=Ht();xe.flags|=e,s.memoizedState=Wo(1|t,{destroy:void 0},n,r===void 0?null:r)}function mh(e,t,n,r){var s=lt();r=r===void 0?null:r;var a=s.memoizedState.inst;Fe!==null&&r!==null&&kv(r,Fe.memoizedState.deps)?s.memoizedState=Wo(t,a,n,r):(xe.flags|=e,s.memoizedState=Wo(1|t,a,n,r))}function K0(e,t){Vd(8390656,8,e,t)}function Fv(e,t){mh(2048,8,e,t)}function KO(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=fh(),xe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function LS(e){var t=lt().memoizedState;return KO({ref:t,nextImpl:e}),function(){if(ke&2)throw Error(q(440));return t.impl.apply(void 0,arguments)}}function US(e,t){return mh(4,2,e,t)}function zS(e,t){return mh(4,4,e,t)}function PS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $S(e,t,n){n=n!=null?n.concat([e]):null,mh(4,4,PS.bind(null,t,e),n)}function qv(){}function FS(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&kv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qS(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&kv(t,r[1]))return r[0];if(r=e(),vi){Js(!0);try{e()}finally{Js(!1)}}return n.memoizedState=[r,t],r}function Bv(e,t,n){return n===void 0||hs&1073741824&&!(Re&261930)?e.memoizedState=t:(e.memoizedState=n,e=TE(),xe.lanes|=e,xa|=e,n)}function BS(e,t,n,r){return An(n,t)?n:Zo.current!==null?(e=Bv(e,n,r),An(e,t)||(pt=!0),e):!(hs&42)||hs&1073741824&&!(Re&261930)?(pt=!0,e.memoizedState=n):(e=TE(),xe.lanes|=e,xa|=e,t)}function VS(e,t,n,r,s){var a=Ie.p;Ie.p=a!==0&&8>a?a:8;var i=pe.T,o={};pe.T=o,Hv(e,!1,t,n);try{var c=s(),u=pe.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=qO(c,r);mc(e,t,f,On(e))}else mc(e,t,r,On(e))}catch(d){mc(e,t,{then:function(){},status:"rejected",reason:d},On())}finally{Ie.p=a,i!==null&&o.types!==null&&(i.types=o.types),pe.T=i}}function QO(){}function Mg(e,t,n,r){if(e.tag!==5)throw Error(q(476));var s=HS(e).queue;VS(e,s,t,ci,n===null?QO:function(){return GS(e),n(r)})}function HS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ci,baseState:ci,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ci},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function GS(e){var t=HS(e);t.next===null&&(t=e.alternate.memoizedState),mc(e,t.next.queue,{},On())}function Vv(){return Lt(zc)}function KS(){return lt().memoizedState}function QS(){return lt().memoizedState}function YO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=On();e=la(n);var r=ca(t,e,n);r!==null&&(cn(r,t,n),dc(r,t,n)),t={cache:Ov()},e.payload=t;return}t=t.return}}function XO(e,t,n){var r=On();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gh(e)?XS(t,n):(n=Rv(e,t,n,r),n!==null&&(cn(n,e,r),ZS(n,t,r)))}function YS(e,t,n){var r=On();mc(e,t,n,r)}function mc(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(e))XS(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,An(o,i))return uh(e,t,s,0),Be===null&&ch(),!1}catch{}finally{}if(n=Rv(e,t,s,r),n!==null)return cn(n,e,r),ZS(n,t,r),!0}return!1}function Hv(e,t,n,r){if(r={lane:2,revertLane:ey(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},gh(e)){if(t)throw Error(q(479))}else t=Rv(e,n,r,2),t!==null&&cn(t,e,2)}function gh(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function XS(e,t){bo=pf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZS(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L_(e,n)}}var Ic={readContext:Lt,use:hh,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};Ic.useEffectEvent=rt;var WS={readContext:Lt,use:hh,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:K0,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Vd(4194308,4,PS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vd(4194308,4,e,t)},useInsertionEffect:function(e,t){Vd(4,2,e,t)},useMemo:function(e,t){var n=Ht();t=t===void 0?null:t;var r=e();if(vi){Js(!0);try{e()}finally{Js(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ht();if(n!==void 0){var s=n(t);if(vi){Js(!0);try{n(t)}finally{Js(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=XO.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Tg(e);var t=e.queue,n=YS.bind(null,xe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qv,useDeferredValue:function(e,t){var n=Ht();return Bv(n,e,t)},useTransition:function(){var e=Tg(!1);return e=VS.bind(null,xe,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xe,s=Ht();if(Ne){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Be===null)throw Error(q(349));Re&127||RS(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,K0(CS.bind(null,r,a,e),[e]),r.flags|=2048,Wo(9,{destroy:void 0},jS.bind(null,r,a,n,t),null),n},useId:function(){var e=Ht(),t=Be.identifierPrefix;if(Ne){var n=jr,r=Rr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=vf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=BO++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vv,useFormState:V0,useActionState:V0,useOptimistic:function(e){var t=Ht();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hv.bind(null,xe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Pv,useCacheRefresh:function(){return Ht().memoizedState=YO.bind(null,xe)},useEffectEvent:function(e){var t=Ht(),n={impl:e};return t.memoizedState=n,function(){if(ke&2)throw Error(q(440));return n.impl.apply(void 0,arguments)}}},Gv={readContext:Lt,use:hh,useCallback:FS,useContext:Lt,useEffect:Fv,useImperativeHandle:$S,useInsertionEffect:US,useLayoutEffect:zS,useMemo:qS,useReducer:Bd,useRef:IS,useState:function(){return Bd(ms)},useDebugValue:qv,useDeferredValue:function(e,t){var n=lt();return BS(n,Fe.memoizedState,e,t)},useTransition:function(){var e=Bd(ms)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Tu(e),t]},useSyncExternalStore:ES,useId:KS,useHostTransitionStatus:Vv,useFormState:H0,useActionState:H0,useOptimistic:function(e,t){var n=lt();return TS(n,Fe,e,t)},useMemoCache:Pv,useCacheRefresh:QS};Gv.useEffectEvent=LS;var JS={readContext:Lt,use:hh,useCallback:FS,useContext:Lt,useEffect:Fv,useImperativeHandle:$S,useInsertionEffect:US,useLayoutEffect:zS,useMemo:qS,useReducer:sm,useRef:IS,useState:function(){return sm(ms)},useDebugValue:qv,useDeferredValue:function(e,t){var n=lt();return Fe===null?Bv(n,e,t):BS(n,Fe.memoizedState,e,t)},useTransition:function(){var e=sm(ms)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Tu(e),t]},useSyncExternalStore:ES,useId:KS,useHostTransitionStatus:Vv,useFormState:G0,useActionState:G0,useOptimistic:function(e,t){var n=lt();return Fe!==null?TS(n,Fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Pv,useCacheRefresh:QS};JS.useEffectEvent=LS;function am(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dg={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=On(),s=la(r);s.payload=t,n!=null&&(s.callback=n),t=ca(e,s,r),t!==null&&(cn(t,e,r),dc(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=On(),s=la(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ca(e,s,r),t!==null&&(cn(t,e,r),dc(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),r=la(n);r.tag=2,t!=null&&(r.callback=t),t=ca(e,r,n),t!==null&&(cn(t,e,n),dc(t,e,n))}};function Q0(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Tc(n,r)||!Tc(s,a):!0}function Y0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dg.enqueueReplaceState(t,t.state,null)}function yi(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ze({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function eE(e){cf(e)}function tE(e){console.error(e)}function nE(e){cf(e)}function yf(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function X0(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function kg(e,t,n){return n=la(n),n.tag=3,n.payload={element:null},n.callback=function(){yf(e,t)},n}function rE(e){return e=la(e),e.tag=3,e}function sE(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;e.payload=function(){return s(a)},e.callback=function(){X0(t,n,r)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){X0(t,n,r),typeof s!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function ZO(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&hl(t,n,s,!0),n=Mn.current,n!==null){switch(n.tag){case 31:case 13:return Yn===null?Sf():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===hf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),pm(e,r,s)),!1;case 22:return n.flags|=65536,r===hf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),pm(e,r,s)),!1}throw Error(q(435,n.tag))}return pm(e,r,s),Sf(),!1}if(Ne)return t=Mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==wg&&(e=Error(q(422),{cause:r}),Mc(Gn(e,n)))):(r!==wg&&(t=Error(q(423),{cause:r}),Mc(Gn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=Gn(r,n),s=kg(e.stateNode,r,s),rm(e,s),at!==4&&(at=2)),!1;var a=Error(q(520),{cause:r});if(a=Gn(a,n),vc===null?vc=[a]:vc.push(a),at!==4&&(at=2),t===null)return!0;r=Gn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=kg(n.stateNode,r,e),rm(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ua===null||!ua.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=rE(s),sE(s,e,n,r),rm(n,s),!1}n=n.return}while(n!==null);return!1}var Kv=Error(q(461)),pt=!1;function Dt(e,t,n,r){t.child=e===null?yS(t,null,n,r):pi(t,e.child,n,r)}function Z0(e,t,n,r,s){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var o in r)o!=="ref"&&(i[o]=r[o])}else i=r;return gi(t),r=Iv(e,t,n,i,a,s),o=Lv(),e!==null&&!pt?(Uv(e,t,s),gs(e,t,s)):(Ne&&o&&Cv(t),t.flags|=1,Dt(e,t,r,s),t.child)}function W0(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!jv(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,aE(e,t,a,r,s)):(e=Fd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Qv(e,s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tc,n(i,r)&&e.ref===t.ref)return gs(e,t,s)}return t.flags|=1,e=ls(a,r),e.ref=t.ref,e.return=t,t.child=e}function aE(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Tc(a,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=a,Qv(e,s))e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,gs(e,t,s)}return Ig(e,t,n,r,s)}function iE(e,t,n,r){var s=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~a}else r=0,t.child=null;return J0(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qd(t,a!==null?a.cachePool:null),a!==null?F0(t,a):Ng(),wS(t);else return r=t.lanes=536870912,J0(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(qd(t,a.cachePool),F0(t,a),ks(),t.memoizedState=null):(e!==null&&qd(t,null),Ng(),ks());return Dt(e,t,s,n),t.child}function ec(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function J0(e,t,n,r,s){var a=Tv();return a=a===null?null:{parent:gt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&qd(t,null),Ng(),wS(t),e!==null&&hl(e,t,r,!0),t.childLanes=s,null}function Hd(e,t){return t=bf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function eb(e,t,n){return pi(t,e.child,null,n),e=Hd(t,t.pendingProps),e.flags|=2,yn(t),t.memoizedState=null,e}function WO(e,t,n){var r=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(r.mode==="hidden")return e=Hd(t,r),t.lanes=536870912,ec(null,e);if(Og(t),(e=Qe)?(e=WE(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Rr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},n=dS(e),n.return=t,t.child=n,It=t,Qe=null)):e=null,e===null)throw ya(t);return t.lanes=536870912,null}return Hd(t,r)}var a=e.memoizedState;if(a!==null){var i=a.dehydrated;if(Og(t),s)if(t.flags&256)t.flags&=-257,t=eb(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(q(558));else if(pt||hl(e,t,n,!1),s=(n&e.childLanes)!==0,pt||s){if(r=Be,r!==null&&(i=U_(r,n),i!==0&&i!==a.retryLane))throw a.retryLane=i,ji(e,i),cn(r,e,i),Kv;Sf(),t=eb(e,t,n)}else e=a.treeContext,Qe=Xn(i.nextSibling),It=t,Ne=!0,oa=null,Kn=!1,e!==null&&hS(t,e),t=Hd(t,r),t.flags|=4096;return t}return e=ls(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gd(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(q(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ig(e,t,n,r,s){return gi(t),n=Iv(e,t,n,r,void 0,s),r=Lv(),e!==null&&!pt?(Uv(e,t,s),gs(e,t,s)):(Ne&&r&&Cv(t),t.flags|=1,Dt(e,t,n,s),t.child)}function tb(e,t,n,r,s,a){return gi(t),t.updateQueue=null,n=SS(t,r,n,s),_S(e),r=Lv(),e!==null&&!pt?(Uv(e,t,a),gs(e,t,a)):(Ne&&r&&Cv(t),t.flags|=1,Dt(e,t,n,a),t.child)}function nb(e,t,n,r,s){if(gi(t),t.stateNode===null){var a=co,i=n.contextType;typeof i=="object"&&i!==null&&(a=Lt(i)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dg,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Mv(t),i=n.contextType,a.context=typeof i=="object"&&i!==null?Lt(i):co,a.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(am(t,n,i,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&Dg.enqueueReplaceState(a,a.state,null),hc(t,r,a,s),fc(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,c=yi(n,o);a.props=c;var u=a.context,f=n.contextType;i=co,typeof f=="object"&&f!==null&&(i=Lt(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==i)&&Y0(t,a,r,i),As=!1;var m=t.memoizedState;a.state=m,hc(t,r,a,s),fc(),u=t.memoizedState,o||m!==u||As?(typeof d=="function"&&(am(t,n,d,r),u=t.memoizedState),(c=As||Q0(t,n,c,r,m,u,i))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=i,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,jg(e,t),i=t.memoizedProps,f=yi(n,i),a.props=f,d=t.pendingProps,m=a.context,u=n.contextType,c=co,typeof u=="object"&&u!==null&&(c=Lt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==d||m!==c)&&Y0(t,a,r,c),As=!1,m=t.memoizedState,a.state=m,hc(t,r,a,s),fc();var h=t.memoizedState;i!==d||m!==h||As||e!==null&&e.dependencies!==null&&ff(e.dependencies)?(typeof o=="function"&&(am(t,n,o,r),h=t.memoizedState),(f=As||Q0(t,n,f,r,m,h,c)||e!==null&&e.dependencies!==null&&ff(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Gd(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=pi(t,e.child,null,s),t.child=pi(t,null,n,s)):Dt(e,t,n,s),t.memoizedState=a.state,e=t.child):e=gs(e,t,s),e}function rb(e,t,n,r){return mi(),t.flags|=256,Dt(e,t,n,r),t.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(e){return{baseLanes:e,cachePool:gS()}}function lm(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=En),e}function oE(e,t,n){var r=t.pendingProps,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),i&&(s=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(s?Ds(t):ks(),(e=Qe)?(e=WE(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Rr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},n=dS(e),n.return=t,t.child=n,It=t,Qe=null)):e=null,e===null)throw ya(t);return Yg(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,s?(ks(),s=t.mode,o=bf({mode:"hidden",children:o},s),r=ui(r,s,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=om(n),r.childLanes=lm(e,i,n),t.memoizedState=im,ec(null,r)):(Ds(t),Lg(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(a)t.flags&256?(Ds(t),t.flags&=-257,t=cm(e,t,n)):t.memoizedState!==null?(ks(),t.child=e.child,t.flags|=128,t=null):(ks(),o=r.fallback,s=t.mode,r=bf({mode:"visible",children:r.children},s),o=ui(o,s,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,pi(t,e.child,null,n),r=t.child,r.memoizedState=om(n),r.childLanes=lm(e,i,n),t.memoizedState=im,t=ec(null,r));else if(Ds(t),Yg(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;i=u,r=Error(q(419)),r.stack="",r.digest=i,Mc({value:r,source:null,stack:null}),t=cm(e,t,n)}else if(pt||hl(e,t,n,!1),i=(n&e.childLanes)!==0,pt||i){if(i=Be,i!==null&&(r=U_(i,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,ji(e,r),cn(i,e,r),Kv;Qg(o)||Sf(),t=cm(e,t,n)}else Qg(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Qe=Xn(o.nextSibling),It=t,Ne=!0,oa=null,Kn=!1,e!==null&&hS(t,e),t=Lg(t,r.children),t.flags|=4096);return t}return s?(ks(),o=r.fallback,s=t.mode,c=e.child,u=c.sibling,r=ls(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=ls(u,o):(o=ui(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,ec(null,r),r=t.child,o=e.child.memoizedState,o===null?o=om(n):(s=o.cachePool,s!==null?(c=gt._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=gS(),o={baseLanes:o.baseLanes|n,cachePool:s}),r.memoizedState=o,r.childLanes=lm(e,i,n),t.memoizedState=im,ec(e.child,r)):(Ds(t),n=e.child,e=n.sibling,n=ls(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Lg(e,t){return t=bf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bf(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function cm(e,t,n){return pi(t,e.child,null,n),e=Lg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sg(e.return,t,n)}function um(e,t,n,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s,i.treeForkCount=a)}function lE(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;r=r.children;var i=ot.current,o=(i&2)!==0;if(o?(i=i&1|2,t.flags|=128):i&=1,He(ot,i),Dt(e,t,r,n),r=Ne?Ac:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sb(e,n,t);else if(e.tag===19)sb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&gf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),um(t,!1,s,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&gf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}um(t,!0,n,null,a,r);break;case"together":um(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,!(n&t.childLanes))if(e!==null){if(hl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=ls(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ls(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qv(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ff(e)))}function JO(e,t,n){switch(t.tag){case 3:sf(t,t.stateNode.containerInfo),Ms(t,gt,e.memoizedState.cache),mi();break;case 27:case 5:ug(t);break;case 4:sf(t,t.stateNode.containerInfo);break;case 10:Ms(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Og(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ds(t),t.flags|=128,null):n&t.child.childLanes?oE(e,t,n):(Ds(t),e=gs(e,t,n),e!==null?e.sibling:null);Ds(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(hl(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return lE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(ot,ot.current),r)break;return null;case 22:return t.lanes=0,iE(e,t,n,t.pendingProps);case 24:Ms(t,gt,e.memoizedState.cache)}return gs(e,t,n)}function cE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Qv(e,n)&&!(t.flags&128))return pt=!1,JO(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Ne&&t.flags&1048576&&fS(t,Ac,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=$a(t.elementType),t.type=e,typeof e=="function")jv(e)?(r=yi(e,r),t.tag=1,t=nb(null,t,e,r,n)):(t.tag=0,t=Ig(null,t,e,r,n));else{if(e!=null){var s=e.$$typeof;if(s===fv){t.tag=11,t=Z0(null,t,e,r,n);break e}else if(s===hv){t.tag=14,t=W0(null,t,e,r,n);break e}}throw t=lg(e)||e,Error(q(306,t,""))}}return t;case 0:return Ig(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=yi(r,t.pendingProps),nb(e,t,r,s,n);case 3:e:{if(sf(t,t.stateNode.containerInfo),e===null)throw Error(q(387));r=t.pendingProps;var a=t.memoizedState;s=a.element,jg(e,t),hc(t,r,null,n);var i=t.memoizedState;if(r=i.cache,Ms(t,gt,r),r!==a.cache&&Eg(t,[gt],n,!0),fc(),r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=rb(e,t,r,n);break e}else if(r!==s){s=Gn(Error(q(424)),t),Mc(s),t=rb(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Xn(e.firstChild),It=t,Ne=!0,oa=null,Kn=!0,n=yS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mi(),r===s){t=gs(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 26:return Gd(e,t),e===null?(n=Eb(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ne||(n=t.type,e=t.pendingProps,r=Cf(ia.current).createElement(n),r[kt]=t,r[un]=e,Ut(r,n,e),Ct(r),t.stateNode=r):t.memoizedState=Eb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ug(t),e===null&&Ne&&(r=t.stateNode=JE(t.type,t.pendingProps,ia.current),It=t,Kn=!0,s=Qe,ja(t.type)?(Xg=s,Qe=Xn(r.firstChild)):Qe=s),Dt(e,t,t.pendingProps.children,n),Gd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((s=r=Qe)&&(r=OT(r,t.type,t.pendingProps,Kn),r!==null?(t.stateNode=r,It=t,Qe=Xn(r.firstChild),Kn=!1,s=!0):s=!1),s||ya(t)),ug(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,r=a.children,Gg(s,a)?r=null:i!==null&&Gg(s,i)&&(t.flags|=32),t.memoizedState!==null&&(s=Iv(e,t,VO,null,null,n),zc._currentValue=s),Gd(e,t),Dt(e,t,r,n),t.child;case 6:return e===null&&Ne&&((e=n=Qe)&&(n=TT(n,t.pendingProps,Kn),n!==null?(t.stateNode=n,It=t,Qe=null,e=!0):e=!1),e||ya(t)),null;case 13:return oE(e,t,n);case 4:return sf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pi(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return Z0(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ms(t,t.type,r.value),Dt(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,gi(t),s=Lt(s),r=r(s),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return W0(e,t,t.type,t.pendingProps,n);case 15:return aE(e,t,t.type,t.pendingProps,n);case 19:return lE(e,t,n);case 31:return WO(e,t,n);case 22:return iE(e,t,n,t.pendingProps);case 24:return gi(t),r=Lt(gt),e===null?(s=Tv(),s===null&&(s=Be,a=Ov(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:r,cache:s},Mv(t),Ms(t,gt,s)):(e.lanes&n&&(jg(e,t),hc(t,null,null,n),fc()),s=e.memoizedState,a=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ms(t,gt,r)):(r=a.cache,Ms(t,gt,r),r!==s.cache&&Eg(t,[gt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(q(156,t.tag))}function Fr(e){e.flags|=4}function dm(e,t,n,r,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(DE())e.flags|=8192;else throw fi=hf,Av}else e.flags&=-16777217}function ab(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!n1(t))if(DE())e.flags|=8192;else throw fi=hf,Av}function od(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?k_():536870912,e.lanes|=t,Jo|=t)}function Bl(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eT(e,t,n){var r=t.pendingProps;switch(Nv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),cs(gt),Ko(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?Fr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nm())),Ge(t),null;case 26:var s=t.type,a=t.memoizedState;return e===null?(Fr(t),a!==null?(Ge(t),ab(t,a)):(Ge(t),dm(t,s,null,r,n))):a?a!==e.memoizedState?(Fr(t),Ge(t),ab(t,a)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Fr(t),Ge(t),dm(t,s,e,r,n)),null;case 27:if(af(t),n=ia.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Ge(t),null}e=Or.current,Ui(t)?k0(t):(e=JE(s,r,n),t.stateNode=e,Fr(t))}return Ge(t),null;case 5:if(af(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Ge(t),null}if(a=Or.current,Ui(t))k0(t);else{var i=Cf(ia.current);switch(a){case 1:a=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=i.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?i.createElement(s,{is:r.is}):i.createElement(s)}}a[kt]=t,a[un]=r;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)a.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=a;e:switch(Ut(a,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Fr(t)}}return Ge(t),dm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(e=ia.current,Ui(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=It,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[kt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||YE(e.nodeValue,n)),e||ya(t,!0)}else e=Cf(e).createTextNode(r),e[kt]=t,t.stateNode=e}return Ge(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ui(t),n!==null){if(e===null){if(!r)throw Error(q(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(557));e[kt]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else n=nm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(yn(t),t):(yn(t),null);if(t.flags&128)throw Error(q(558))}return Ge(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Ui(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[kt]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),s=!1}else s=nm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(yn(t),t):(yn(t),null)}return yn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),od(t,t.updateQueue),Ge(t),null);case 4:return Ko(),e===null&&ty(t.stateNode.containerInfo),Ge(t),null;case 10:return cs(t.type),Ge(t),null;case 19:if(Nt(ot),r=t.memoizedState,r===null)return Ge(t),null;if(s=(t.flags&128)!==0,a=r.rendering,a===null)if(s)Bl(r,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=gf(e),a!==null){for(t.flags|=128,Bl(r,!1),e=a.updateQueue,t.updateQueue=e,od(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)uS(n,e),n=n.sibling;return He(ot,ot.current&1|2),Ne&&Xr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&jn()>wf&&(t.flags|=128,s=!0,Bl(r,!1),t.lanes=4194304)}else{if(!s)if(e=gf(a),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,od(t,e),Bl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ne)return Ge(t),null}else 2*jn()-r.renderingStartTime>wf&&n!==536870912&&(t.flags|=128,s=!0,Bl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=jn(),e.sibling=null,n=ot.current,He(ot,s?n&1|2:n&1),Ne&&Xr(t,r.treeForkCount),e):(Ge(t),null);case 22:case 23:return yn(t),Dv(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&od(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Nt(di),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cs(gt),Ge(t),null;case 25:return null;case 30:return null}throw Error(q(156,t.tag))}function tT(e,t){switch(Nv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cs(gt),Ko(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return af(t),null;case 31:if(t.memoizedState!==null){if(yn(t),t.alternate===null)throw Error(q(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(ot),null;case 4:return Ko(),null;case 10:return cs(t.type),null;case 22:case 23:return yn(t),Dv(),e!==null&&Nt(di),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cs(gt),null;case 25:return null;default:return null}}function uE(e,t){switch(Nv(t),t.tag){case 3:cs(gt),Ko();break;case 26:case 27:case 5:af(t);break;case 4:Ko();break;case 31:t.memoizedState!==null&&yn(t);break;case 13:yn(t);break;case 19:Nt(ot);break;case 10:cs(t.type);break;case 22:case 23:yn(t),Dv(),e!==null&&Nt(di);break;case 24:cs(gt)}}function Au(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==s)}}catch(o){ze(t,t.return,o)}}function ba(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var a=s.next;r=a;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,s=t;var c=n,u=o;try{u()}catch(f){ze(s,c,f)}}}r=r.next}while(r!==a)}}catch(f){ze(t,t.return,f)}}function dE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xS(t,n)}catch(r){ze(e,e.return,r)}}}function fE(e,t,n){n.props=yi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ze(e,t,r)}}function gc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){ze(e,t,s)}}function Cr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){ze(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ze(e,t,s)}else n.current=null}function hE(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){ze(e,e.return,s)}}function fm(e,t,n){try{var r=e.stateNode;ST(r,e.type,n,t),r[un]=t}catch(s){ze(e,e.return,s)}}function mE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ja(e.type)||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ug(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=is));else if(r!==4&&(r===27&&ja(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ug(e,t,n),e=e.sibling;e!==null;)Ug(e,t,n),e=e.sibling}function xf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ja(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xf(e,t,n),e=e.sibling;e!==null;)xf(e,t,n),e=e.sibling}function gE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ut(t,r,n),t[kt]=e,t[un]=n}catch(a){ze(e,e.return,a)}}var ss=!1,mt=!1,mm=!1,ib=typeof WeakSet=="function"?WeakSet:Set,jt=null;function nT(e,t){if(e=e.containerInfo,Vg=Af,e=nS(e),Sv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(o=i+s),d!==a||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)m=d,d=h;for(;;){if(d===e)break t;if(m===n&&++u===s&&(o=i),m===a&&++f===r&&(c=i),(h=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=h}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hg={focusedElem:e,selectionRange:n},Af=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){switch(t=jt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=yi(n.type,s);e=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ze(n,n.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kg(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(q(163))}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}}function pE(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Br(e,n),r&4&&Au(5,n);break;case 1:if(Br(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){ze(n,n.return,i)}else{var s=yi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ze(n,n.return,i)}}r&64&&dE(n),r&512&&gc(n,n.return);break;case 3:if(Br(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xS(e,t)}catch(i){ze(n,n.return,i)}}break;case 27:t===null&&r&4&&gE(n);case 26:case 5:Br(e,n),t===null&&r&4&&hE(n),r&512&&gc(n,n.return);break;case 12:Br(e,n);break;case 31:Br(e,n),r&4&&bE(e,n);break;case 13:Br(e,n),r&4&&xE(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=dT.bind(null,n),AT(e,n))));break;case 22:if(r=n.memoizedState!==null||ss,!r){t=t!==null&&t.memoizedState!==null||mt,s=ss;var a=mt;ss=r,(mt=t)&&!a?Gr(e,n,(n.subtreeFlags&8772)!==0):Br(e,n),ss=s,mt=a}break;case 30:break;default:Br(e,n)}}function vE(e){var t=e.alternate;t!==null&&(e.alternate=null,vE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,nn=!1;function qr(e,t,n){for(n=n.child;n!==null;)yE(e,t,n),n=n.sibling}function yE(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Eu,n)}catch{}switch(n.tag){case 26:mt||Cr(n,t),qr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:mt||Cr(n,t);var r=Je,s=nn;ja(n.type)&&(Je=n.stateNode,nn=!1),qr(e,t,n),bc(n.stateNode),Je=r,nn=s;break;case 5:mt||Cr(n,t);case 6:if(r=Je,s=nn,Je=null,qr(e,t,n),Je=r,nn=s,Je!==null)if(nn)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(a){ze(n,t,a)}else try{Je.removeChild(n.stateNode)}catch(a){ze(n,t,a)}break;case 18:Je!==null&&(nn?(e=Je,bb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),rl(e)):bb(Je,n.stateNode));break;case 4:r=Je,s=nn,Je=n.stateNode.containerInfo,nn=!0,qr(e,t,n),Je=r,nn=s;break;case 0:case 11:case 14:case 15:ba(2,n,t),mt||ba(4,n,t),qr(e,t,n);break;case 1:mt||(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&fE(n,t,r)),qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:mt=(r=mt)||n.memoizedState!==null,qr(e,t,n),mt=r;break;default:qr(e,t,n)}}function bE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rl(e)}catch(n){ze(t,t.return,n)}}}function xE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(n){ze(t,t.return,n)}}function rT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ib),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ib),t;default:throw Error(q(435,e.tag))}}function ld(e,t){var n=rT(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var s=fT.bind(null,e,r);r.then(s,s)}})}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(ja(o.type)){Je=o.stateNode,nn=!1;break e}break;case 5:Je=o.stateNode,nn=!1;break e;case 3:case 4:Je=o.stateNode.containerInfo,nn=!0;break e}o=o.return}if(Je===null)throw Error(q(160));yE(a,i,s),Je=null,nn=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wE(t,e),t=t.sibling}var lr=null;function wE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Zt(e),r&4&&(ba(3,e,e.return),Au(3,e),ba(5,e,e.return));break;case 1:Xt(t,e),Zt(e),r&512&&(mt||n===null||Cr(n,n.return)),r&64&&ss&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=lr;if(Xt(t,e),Zt(e),r&512&&(mt||n===null||Cr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Cu]||a[kt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(r),s.head.insertBefore(a,s.querySelector("head > title"))),Ut(a,r,n),a[kt]=e,Ct(a),r=a;break e;case"link":var i=jb("link","href",s).get(r+(n.href||""));if(i){for(var o=0;o<i.length;o++)if(a=i[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(o,1);break t}}a=s.createElement(r),Ut(a,r,n),s.head.appendChild(a);break;case"meta":if(i=jb("meta","content",s).get(r+(n.content||""))){for(o=0;o<i.length;o++)if(a=i[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(o,1);break t}}a=s.createElement(r),Ut(a,r,n),s.head.appendChild(a);break;default:throw Error(q(468,r))}a[kt]=e,Ct(a),r=a}e.stateNode=r}else Cb(s,e.type,e.stateNode);else e.stateNode=Rb(s,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Cb(s,e.type,e.stateNode):Rb(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&fm(e,e.memoizedProps,n.memoizedProps)}break;case 27:Xt(t,e),Zt(e),r&512&&(mt||n===null||Cr(n,n.return)),n!==null&&r&4&&fm(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Xt(t,e),Zt(e),r&512&&(mt||n===null||Cr(n,n.return)),e.flags&32){s=e.stateNode;try{Yo(s,"")}catch(y){ze(e,e.return,y)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,fm(e,s,n!==null?n.memoizedProps:s)),r&1024&&(mm=!0);break;case 6:if(Xt(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error(q(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(y){ze(e,e.return,y)}}break;case 3:if(Yd=null,s=lr,lr=Nf(t.containerInfo),Xt(t,e),lr=s,Zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(t.containerInfo)}catch(y){ze(e,e.return,y)}mm&&(mm=!1,_E(e));break;case 4:r=lr,lr=Nf(e.stateNode.containerInfo),Xt(t,e),Zt(e),lr=r;break;case 12:Xt(t,e),Zt(e);break;case 31:Xt(t,e),Zt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ld(e,r)));break;case 13:Xt(t,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ph=jn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ld(e,r)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ss,f=mt;if(ss=u||s,mt=f||c,Xt(t,e),mt=f,ss=u,Zt(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||ss||mt||Fa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(a=c.stateNode,s)i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var d=c.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){ze(c,c.return,y)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(y){ze(c,c.return,y)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;s?xb(h,!0):xb(c.stateNode,!1)}catch(y){ze(c,c.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ld(e,n))));break;case 19:Xt(t,e),Zt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ld(e,r)));break;case 30:break;case 21:break;default:Xt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(mE(r)){n=r;break}r=r.return}if(n==null)throw Error(q(160));switch(n.tag){case 27:var s=n.stateNode,a=hm(e);xf(e,a,s);break;case 5:var i=n.stateNode;n.flags&32&&(Yo(i,""),n.flags&=-33);var o=hm(e);xf(e,o,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=hm(e);Ug(e,u,c);break;default:throw Error(q(161))}}catch(f){ze(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _E(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_E(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Br(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pE(e,t.alternate,t),t=t.sibling}function Fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ba(4,t,t.return),Fa(t);break;case 1:Cr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&fE(t,t.return,n),Fa(t);break;case 27:bc(t.stateNode);case 26:case 5:Cr(t,t.return),Fa(t);break;case 22:t.memoizedState===null&&Fa(t);break;case 30:Fa(t);break;default:Fa(t)}e=e.sibling}}function Gr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(s,a,n),Au(4,a);break;case 1:if(Gr(s,a,n),r=a,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ze(r,r.return,u)}if(r=a,s=r.updateQueue,s!==null){var o=r.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)bS(c[s],o)}catch(u){ze(r,r.return,u)}}n&&i&64&&dE(a),gc(a,a.return);break;case 27:gE(a);case 26:case 5:Gr(s,a,n),n&&r===null&&i&4&&hE(a),gc(a,a.return);break;case 12:Gr(s,a,n);break;case 31:Gr(s,a,n),n&&i&4&&bE(s,a);break;case 13:Gr(s,a,n),n&&i&4&&xE(s,a);break;case 22:a.memoizedState===null&&Gr(s,a,n),gc(a,a.return);break;case 30:break;default:Gr(s,a,n)}t=t.sibling}}function Yv(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ou(n))}function Xv(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ou(e))}function rr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)SE(e,t,n,r),t=t.sibling}function SE(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:rr(e,t,n,r),s&2048&&Au(9,t);break;case 1:rr(e,t,n,r);break;case 3:rr(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ou(e)));break;case 12:if(s&2048){rr(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ze(t,t.return,c)}}else rr(e,t,n,r);break;case 31:rr(e,t,n,r);break;case 13:rr(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,t.memoizedState!==null?a._visibility&2?rr(e,t,n,r):pc(e,t):a._visibility&2?rr(e,t,n,r):(a._visibility|=2,Xi(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Yv(i,t);break;case 24:rr(e,t,n,r),s&2048&&Xv(t.alternate,t);break;default:rr(e,t,n,r)}}function Xi(e,t,n,r,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,i=t,o=n,c=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:Xi(a,i,o,c,s),Au(8,i);break;case 23:break;case 22:var f=i.stateNode;i.memoizedState!==null?f._visibility&2?Xi(a,i,o,c,s):pc(a,i):(f._visibility|=2,Xi(a,i,o,c,s)),s&&u&2048&&Yv(i.alternate,i);break;case 24:Xi(a,i,o,c,s),s&&u&2048&&Xv(i.alternate,i);break;default:Xi(a,i,o,c,s)}t=t.sibling}}function pc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:pc(n,r),s&2048&&Yv(r.alternate,r);break;case 24:pc(n,r),s&2048&&Xv(r.alternate,r);break;default:pc(n,r)}t=t.sibling}}var tc=8192;function zi(e,t,n){if(e.subtreeFlags&tc)for(e=e.child;e!==null;)EE(e,t,n),e=e.sibling}function EE(e,t,n){switch(e.tag){case 26:zi(e,t,n),e.flags&tc&&e.memoizedState!==null&&BT(n,lr,e.memoizedState,e.memoizedProps);break;case 5:zi(e,t,n);break;case 3:case 4:var r=lr;lr=Nf(e.stateNode.containerInfo),zi(e,t,n),lr=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=tc,tc=16777216,zi(e,t,n),tc=r):zi(e,t,n));break;default:zi(e,t,n)}}function RE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jt=r,CE(r,e)}RE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jE(e),e=e.sibling}function jE(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&ba(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kd(e)):Vl(e);break;default:Vl(e)}}function Kd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];jt=r,CE(r,e)}RE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ba(8,t,t.return),Kd(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Kd(t));break;default:Kd(t)}e=e.sibling}}function CE(e,t){for(;jt!==null;){var n=jt;switch(n.tag){case 0:case 11:case 15:ba(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ou(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,jt=r;else e:for(n=e;jt!==null;){r=jt;var s=r.sibling,a=r.return;if(vE(r),r===n){jt=null;break e}if(s!==null){s.return=a,jt=s;break e}jt=a}}}var sT={getCacheForType:function(e){var t=Lt(gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Lt(gt).controller.signal}},aT=typeof WeakMap=="function"?WeakMap:Map,ke=0,Be=null,Ee=null,Re=0,Ue=0,pn=null,ta=!1,gl=!1,Zv=!1,ps=0,at=0,xa=0,hi=0,Wv=0,En=0,Jo=0,vc=null,sn=null,zg=!1,ph=0,NE=0,wf=1/0,_f=null,ua=null,xt=0,da=null,el=null,us=0,Pg=0,$g=null,OE=null,yc=0,Fg=null;function On(){return ke&2&&Re!==0?Re&-Re:pe.T!==null?ey():z_()}function TE(){if(En===0)if(!(Re&536870912)||Ne){var e=ed;ed<<=1,!(ed&3932160)&&(ed=262144),En=e}else En=536870912;return e=Mn.current,e!==null&&(e.flags|=32),En}function cn(e,t,n){(e===Be&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(tl(e,0),na(e,Re,En,!1)),ju(e,n),(!(ke&2)||e!==Be)&&(e===Be&&(!(ke&2)&&(hi|=n),at===4&&na(e,Re,En,!1)),kr(e))}function AE(e,t,n){if(ke&6)throw Error(q(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ru(e,t),s=r?lT(e,t):gm(e,t,!0),a=r;do{if(s===0){gl&&!r&&na(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!iT(n)){s=gm(e,t,!1),a=!1;continue}if(s===2){if(a=t,e.errorRecoveryDisabledLanes&a)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;s=vc;var c=o.current.memoizedState.isDehydrated;if(c&&(tl(o,i).flags|=256),i=gm(o,i,!1),i!==2){if(Zv&&!c){o.errorRecoveryDisabledLanes|=a,hi|=a,s=4;break e}a=sn,sn=s,a!==null&&(sn===null?sn=a:sn.push.apply(sn,a))}s=i}if(a=!1,s!==2)continue}}if(s===1){tl(e,0),na(e,t,0,!0);break}e:{switch(r=e,a=s,a){case 0:case 1:throw Error(q(345));case 4:if((t&4194048)!==t)break;case 6:na(r,t,En,!ta);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(q(329))}if((t&62914560)===t&&(s=ph+300-jn(),10<s)){if(na(r,t,En,!ta),ah(r,0,!0)!==0)break e;us=t,r.timeoutHandle=ZE(ob.bind(null,r,n,sn,_f,zg,t,En,hi,Jo,ta,a,"Throttled",-0,0),s);break e}ob(r,n,sn,_f,zg,t,En,hi,Jo,ta,a,null,-0,0)}}break}while(1);kr(e)}function ob(e,t,n,r,s,a,i,o,c,u,f,d,m,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},EE(t,a,d);var y=(a&62914560)===a?ph-jn():(a&4194048)===a?NE-jn():0;if(y=VT(d,y),y!==null){us=a,e.cancelPendingCommit=y(cb.bind(null,e,t,a,n,r,s,i,o,c,f,d,null,m,h)),na(e,a,i,!u);return}}cb(e,t,a,n,r,s,i,o,c)}function iT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!An(a(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,n,r){t&=~Wv,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var a=31-Nn(s),i=1<<a;r[a]=-1,s&=~i}n!==0&&I_(e,n,t)}function vh(){return ke&6?!0:(Mu(0,!1),!1)}function Jv(){if(Ee!==null){if(Ue===0)var e=Ee.return;else e=Ee,os=Ci=null,zv(e),yo=null,Dc=0,e=Ee;for(;e!==null;)uE(e.alternate,e),e=e.return;Ee=null}}function tl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),us=0,Jv(),Be=e,Ee=n=ls(e.current,null),Re=t,Ue=0,pn=null,ta=!1,gl=Ru(e,t),Zv=!1,Jo=En=Wv=hi=xa=at=0,sn=vc=null,zg=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-Nn(r),a=1<<s;t|=e[s],r&=~a}return ps=t,ch(),n}function ME(e,t){xe=null,pe.H=Ic,t===ml||t===dh?(t=P0(),Ue=3):t===Av?(t=P0(),Ue=4):Ue=t===Kv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pn=t,Ee===null&&(at=1,yf(e,Gn(t,e.current)))}function DE(){var e=Mn.current;return e===null?!0:(Re&4194048)===Re?Yn===null:(Re&62914560)===Re||Re&536870912?e===Yn:!1}function kE(){var e=pe.H;return pe.H=Ic,e===null?Ic:e}function IE(){var e=pe.A;return pe.A=sT,e}function Sf(){at=4,ta||(Re&4194048)!==Re&&Mn.current!==null||(gl=!0),!(xa&134217727)&&!(hi&134217727)||Be===null||na(Be,Re,En,!1)}function gm(e,t,n){var r=ke;ke|=2;var s=kE(),a=IE();(Be!==e||Re!==t)&&(_f=null,tl(e,t)),t=!1;var i=at;e:do try{if(Ue!==0&&Ee!==null){var o=Ee,c=pn;switch(Ue){case 8:Jv(),i=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(t=!0);var u=Ue;if(Ue=0,pn=null,ho(e,o,c,u),n&&gl){i=0;break e}break;default:u=Ue,Ue=0,pn=null,ho(e,o,c,u)}}oT(),i=at;break}catch(f){ME(e,f)}while(1);return t&&e.shellSuspendCounter++,os=Ci=null,ke=r,pe.H=s,pe.A=a,Ee===null&&(Be=null,Re=0,ch()),i}function oT(){for(;Ee!==null;)LE(Ee)}function lT(e,t){var n=ke;ke|=2;var r=kE(),s=IE();Be!==e||Re!==t?(_f=null,wf=jn()+500,tl(e,t)):gl=Ru(e,t);e:do try{if(Ue!==0&&Ee!==null){t=Ee;var a=pn;t:switch(Ue){case 1:Ue=0,pn=null,ho(e,t,a,1);break;case 2:case 9:if(z0(a)){Ue=0,pn=null,lb(t);break}t=function(){Ue!==2&&Ue!==9||Be!==e||(Ue=7),kr(e)},a.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:z0(a)?(Ue=0,pn=null,lb(t)):(Ue=0,pn=null,ho(e,t,a,7));break;case 5:var i=null;switch(Ee.tag){case 26:i=Ee.memoizedState;case 5:case 27:var o=Ee;if(i?n1(i):o.stateNode.complete){Ue=0,pn=null;var c=o.sibling;if(c!==null)Ee=c;else{var u=o.return;u!==null?(Ee=u,yh(u)):Ee=null}break t}}Ue=0,pn=null,ho(e,t,a,5);break;case 6:Ue=0,pn=null,ho(e,t,a,6);break;case 8:Jv(),at=6;break e;default:throw Error(q(462))}}cT();break}catch(f){ME(e,f)}while(1);return os=Ci=null,pe.H=r,pe.A=s,ke=n,Ee!==null?0:(Be=null,Re=0,ch(),at)}function cT(){for(;Ee!==null&&!MN();)LE(Ee)}function LE(e){var t=cE(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?yh(e):Ee=t}function lb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=tb(n,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=tb(n,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:zv(t);default:uE(n,t),t=Ee=uS(t,ps),t=cE(n,t,ps)}e.memoizedProps=e.pendingProps,t===null?yh(e):Ee=t}function ho(e,t,n,r){os=Ci=null,zv(t),yo=null,Dc=0;var s=t.return;try{if(ZO(e,s,t,n,Re)){at=1,yf(e,Gn(n,e.current)),Ee=null;return}}catch(a){if(s!==null)throw Ee=s,a;at=1,yf(e,Gn(n,e.current)),Ee=null;return}t.flags&32768?(Ne||r===1?e=!0:gl||Re&536870912?e=!1:(ta=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mn.current,r!==null&&r.tag===13&&(r.flags|=16384))),UE(t,e)):yh(t)}function yh(e){var t=e;do{if(t.flags&32768){UE(t,ta);return}e=t.return;var n=eT(t.alternate,t,ps);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);at===0&&(at=5)}function UE(e,t){do{var n=tT(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);at=6,Ee=null}function cb(e,t,n,r,s,a,i,o,c){e.cancelPendingCommit=null;do bh();while(xt!==0);if(ke&6)throw Error(q(327));if(t!==null){if(t===e.current)throw Error(q(177));if(a=t.lanes|t.childLanes,a|=Ev,qN(e,n,a,i,o,c),e===Be&&(Ee=Be=null,Re=0),el=t,da=e,us=n,Pg=a,$g=s,OE=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,hT(of,function(){return qE(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=pe.T,pe.T=null,s=Ie.p,Ie.p=2,i=ke,ke|=4;try{nT(e,t,n)}finally{ke=i,Ie.p=s,pe.T=r}}xt=1,zE(),PE(),$E()}}function zE(){if(xt===1){xt=0;var e=da,t=el,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=pe.T,pe.T=null;var r=Ie.p;Ie.p=2;var s=ke;ke|=4;try{wE(t,e);var a=Hg,i=nS(e.containerInfo),o=a.focusedElem,c=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&tS(o.ownerDocument.documentElement,o)){if(c!==null&&Sv(o)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var h=m.getSelection(),y=o.textContent.length,v=Math.min(c.start,y),b=c.end===void 0?v:Math.min(c.end,y);!h.extend&&v>b&&(i=b,b=v,v=i);var g=A0(o,v),p=A0(o,b);if(g&&p&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==p.node||h.focusOffset!==p.offset)){var x=d.createRange();x.setStart(g.node,g.offset),h.removeAllRanges(),v>b?(h.addRange(x),h.extend(p.node,p.offset)):(x.setEnd(p.node,p.offset),h.addRange(x))}}}}for(d=[],h=o;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var _=d[o];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}Af=!!Vg,Hg=Vg=null}finally{ke=s,Ie.p=r,pe.T=n}}e.current=t,xt=2}}function PE(){if(xt===2){xt=0;var e=da,t=el,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=pe.T,pe.T=null;var r=Ie.p;Ie.p=2;var s=ke;ke|=4;try{pE(e,t.alternate,t)}finally{ke=s,Ie.p=r,pe.T=n}}xt=3}}function $E(){if(xt===4||xt===3){xt=0,DN();var e=da,t=el,n=us,r=OE;t.subtreeFlags&10256||t.flags&10256?xt=5:(xt=0,el=da=null,FE(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ua=null),pv(n),t=t.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Eu,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=pe.T,s=Ie.p,Ie.p=2,pe.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];a(o.value,{componentStack:o.stack})}}finally{pe.T=t,Ie.p=s}}us&3&&bh(),kr(e),s=e.pendingLanes,n&261930&&s&42?e===Fg?yc++:(yc=0,Fg=e):yc=0,Mu(0,!1)}}function FE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ou(t)))}function bh(){return zE(),PE(),$E(),qE()}function qE(){if(xt!==5)return!1;var e=da,t=Pg;Pg=0;var n=pv(us),r=pe.T,s=Ie.p;try{Ie.p=32>n?32:n,pe.T=null,n=$g,$g=null;var a=da,i=us;if(xt=0,el=da=null,us=0,ke&6)throw Error(q(331));var o=ke;if(ke|=4,jE(a.current),SE(a,a.current,i,n),ke=o,Mu(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Eu,a)}catch{}return!0}finally{Ie.p=s,pe.T=r,FE(e,t)}}function ub(e,t,n){t=Gn(n,t),t=kg(e.stateNode,t,2),e=ca(e,t,2),e!==null&&(ju(e,2),kr(e))}function ze(e,t,n){if(e.tag===3)ub(e,e,n);else for(;t!==null;){if(t.tag===3){ub(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ua===null||!ua.has(r))){e=Gn(n,e),n=rE(2),r=ca(t,n,2),r!==null&&(sE(n,r,t,e),ju(r,2),kr(r));break}}t=t.return}}function pm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(Zv=!0,s.add(n),e=uT.bind(null,e,t,n),t.then(e,e))}function uT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Be===e&&(Re&n)===n&&(at===4||at===3&&(Re&62914560)===Re&&300>jn()-ph?!(ke&2)&&tl(e,0):Wv|=n,Jo===Re&&(Jo=0)),kr(e)}function BE(e,t){t===0&&(t=k_()),e=ji(e,t),e!==null&&(ju(e,t),kr(e))}function dT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),BE(e,n)}function fT(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(q(314))}r!==null&&r.delete(t),BE(e,n)}function hT(e,t){return mv(e,t)}var Ef=null,Zi=null,qg=!1,Rf=!1,vm=!1,ra=0;function kr(e){e!==Zi&&e.next===null&&(Zi===null?Ef=Zi=e:Zi=Zi.next=e),Rf=!0,qg||(qg=!0,gT())}function Mu(e,t){if(!vm&&Rf){vm=!0;do for(var n=!1,r=Ef;r!==null;){if(!t)if(e!==0){var s=r.pendingLanes;if(s===0)var a=0;else{var i=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-Nn(42|e)+1)-1,a&=s&~(i&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,db(r,a))}else a=Re,a=ah(r,r===Be?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ru(r,a)||(n=!0,db(r,a));r=r.next}while(n);vm=!1}}function mT(){VE()}function VE(){Rf=qg=!1;var e=0;ra!==0&&RT()&&(e=ra);for(var t=jn(),n=null,r=Ef;r!==null;){var s=r.next,a=HE(r,t);a===0?(r.next=null,n===null?Ef=s:n.next=s,s===null&&(Zi=n)):(n=r,(e!==0||a&3)&&(Rf=!0)),r=s}xt!==0&&xt!==5||Mu(e,!1),ra!==0&&(ra=0)}function HE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var i=31-Nn(a),o=1<<i,c=s[i];c===-1?(!(o&n)||o&r)&&(s[i]=FN(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}if(t=Be,n=Re,n=ah(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Hh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ru(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Hh(r),pv(n)){case 2:case 8:n=M_;break;case 32:n=of;break;case 268435456:n=D_;break;default:n=of}return r=GE.bind(null,e),n=mv(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Hh(r),e.callbackPriority=2,e.callbackNode=null,2}function GE(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bh()&&e.callbackNode!==n)return null;var r=Re;return r=ah(e,e===Be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(AE(e,r,t),HE(e,jn()),e.callbackNode!=null&&e.callbackNode===n?GE.bind(null,e):null)}function db(e,t){if(bh())return null;AE(e,t,!0)}function gT(){CT(function(){ke&6?mv(A_,mT):VE()})}function ey(){if(ra===0){var e=Xo;e===0&&(e=Ju,Ju<<=1,!(Ju&261888)&&(Ju=256)),ra=e}return ra}function fb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zd(""+e)}function hb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function pT(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var a=fb((s[un]||null).action),i=r.submitter;i&&(t=(t=i[un]||null)?fb(t.formAction):i.getAttribute("formAction"),t!==null&&(a=t,i=null));var o=new ih("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ra!==0){var c=i?hb(s,i):new FormData(s);Mg(n,{pending:!0,data:c,method:s.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=i?hb(s,i):new FormData(s),Mg(n,{pending:!0,data:c,method:s.method,action:a},a,c))},currentTarget:s}]})}}for(var ym=0;ym<xg.length;ym++){var bm=xg[ym],vT=bm.toLowerCase(),yT=bm[0].toUpperCase()+bm.slice(1);vr(vT,"on"+yT)}vr(sS,"onAnimationEnd");vr(aS,"onAnimationIteration");vr(iS,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(kO,"onTransitionRun");vr(IO,"onTransitionStart");vr(LO,"onTransitionCancel");vr(oS,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function KE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(f){cf(f)}s.currentTarget=null,a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=u;try{a(s)}catch(f){cf(f)}s.currentTarget=null,a=c}}}}function Se(e,t){var n=t[fg];n===void 0&&(n=t[fg]=new Set);var r=e+"__bubble";n.has(r)||(QE(t,e,2,!1),n.add(r))}function xm(e,t,n){var r=0;t&&(r|=4),QE(n,e,r,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function ty(e){if(!e[cd]){e[cd]=!0,P_.forEach(function(n){n!=="selectionchange"&&(bT.has(n)||xm(n,!1,e),xm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cd]||(t[cd]=!0,xm("selectionchange",!1,t))}}function QE(e,t,n,r){switch(o1(t)){case 2:var s=KT;break;case 8:s=QT;break;default:s=ay}n=s.bind(null,t,n,e),s=void 0,!vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wm(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;o!==null;){if(i=ro(o),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){r=a=i;continue e}o=o.parentNode}}r=r.return}K_(function(){var u=a,f=bv(n),d=[];e:{var m=lS.get(e);if(m!==void 0){var h=ih,y=e;switch(e){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":h=fO;break;case"focusin":y="focus",h=Xh;break;case"focusout":y="blur",h=Xh;break;case"beforeblur":case"afterblur":h=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=w0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=eO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=gO;break;case sS:case aS:case iS:h=rO;break;case oS:h=vO;break;case"scroll":case"scrollend":h=WN;break;case"wheel":h=bO;break;case"copy":case"cut":case"paste":h=aO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=S0;break;case"toggle":case"beforetoggle":h=wO}var v=(t&4)!==0,b=!v&&(e==="scroll"||e==="scrollend"),g=v?m!==null?m+"Capture":null:m;v=[];for(var p=u,x;p!==null;){var _=p;if(x=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||x===null||g===null||(_=Nc(p,g),_!=null&&v.push(Uc(p,_,x))),b)break;p=p.return}0<v.length&&(m=new h(m,y,null,n,f),d.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==pg&&(y=n.relatedTarget||n.fromElement)&&(ro(y)||y[dl]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?ro(y):null,y!==null&&(b=Su(y),v=y.tag,y!==b||v!==5&&v!==27&&v!==6)&&(y=null)):(h=null,y=u),h!==y)){if(v=w0,_="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=S0,_="onPointerLeave",g="onPointerEnter",p="pointer"),b=h==null?m:Jl(h),x=y==null?m:Jl(y),m=new v(_,p+"leave",h,n,f),m.target=b,m.relatedTarget=x,_=null,ro(f)===u&&(v=new v(g,p+"enter",y,n,f),v.target=x,v.relatedTarget=b,_=v),b=_,h&&y)t:{for(v=xT,g=h,p=y,x=0,_=g;_;_=v(_))x++;_=0;for(var R=p;R;R=v(R))_++;for(;0<x-_;)g=v(g),x--;for(;0<_-x;)p=v(p),_--;for(;x--;){if(g===p||p!==null&&g===p.alternate){v=g;break t}g=v(g),p=v(p)}v=null}else v=null;h!==null&&mb(d,m,h,v,!1),y!==null&&b!==null&&mb(d,b,y,v,!0)}}e:{if(m=u?Jl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var T=C0;else if(j0(m))if(J_)T=AO;else{T=OO;var C=NO}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&yv(u.elementType)&&(T=C0):T=TO;if(T&&(T=T(e,u))){W_(d,T,n,f);break e}C&&C(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&gg(m,"number",m.value)}switch(C=u?Jl(u):window,e){case"focusin":(j0(C)||C.contentEditable==="true")&&(io=C,yg=u,cc=null);break;case"focusout":cc=yg=io=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,M0(d,n,f);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":M0(d,n,f)}var M;if(_v)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ao?X_(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Y_&&n.locale!=="ko"&&(ao||O!=="onCompositionStart"?O==="onCompositionEnd"&&ao&&(M=Q_()):(ea=f,xv="value"in ea?ea.value:ea.textContent,ao=!0)),C=jf(u,O),0<C.length&&(O=new _0(O,e,null,n,f),d.push({event:O,listeners:C}),M?O.data=M:(M=Z_(n),M!==null&&(O.data=M)))),(M=SO?EO(e,n):RO(e,n))&&(O=jf(u,"onBeforeInput"),0<O.length&&(C=new _0("onBeforeInput","beforeinput",null,n,f),d.push({event:C,listeners:O}),C.data=M)),pT(d,e,u,n,f)}KE(d,t)})}function Uc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jf(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Nc(e,n),s!=null&&r.unshift(Uc(e,s,a)),s=Nc(e,t),s!=null&&r.push(Uc(e,s,a))),e.tag===3)return r;e=e.return}return[]}function xT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mb(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,s?(u=Nc(n,a),u!=null&&i.unshift(Uc(n,u,c))):s||(u=Nc(n,a),u!=null&&i.push(Uc(n,u,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var wT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function gb(e){return(typeof e=="string"?e:""+e).replace(wT,`
`).replace(_T,"")}function YE(e,t){return t=gb(t),gb(e)===t}function $e(e,t,n,r,s,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Yo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Yo(e,""+r);break;case"className":nd(e,"class",r);break;case"tabIndex":nd(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nd(e,n,r);break;case"style":G_(e,r,a);break;case"data":if(t!=="object"){nd(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=zd(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",s.name,s,null),$e(e,t,"formEncType",s.formEncType,s,null),$e(e,t,"formMethod",s.formMethod,s,null),$e(e,t,"formTarget",s.formTarget,s,null)):($e(e,t,"encType",s.encType,s,null),$e(e,t,"method",s.method,s,null),$e(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=zd(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=is);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(q(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=zd(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ud(e,"popover",r);break;case"xlinkActuate":$r(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":$r(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":$r(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":$r(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":$r(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":$r(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":$r(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":$r(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":$r(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ud(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=XN.get(n)||n,Ud(e,n,r))}}function Bg(e,t,n,r,s,a){switch(n){case"style":G_(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(q(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Yo(e,r):(typeof r=="number"||typeof r=="bigint")&&Yo(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),a=e[un]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,s),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Ud(e,n,r)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(i!=null)switch(a){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,t));default:$e(e,t,a,i,n,null)}}s&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var o=a=i=s=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":s=f;break;case"type":i=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(q(137,t));break;default:$e(e,t,r,f,n,null)}}B_(e,a,o,c,u,i,s,!1);return;case"select":Se("invalid",e),r=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":r=o;default:$e(e,t,s,o,n,null)}t=a,n=i,e.multiple=!!r,t!=null?go(e,!!r,t,!1):n!=null&&go(e,!!r,n,!0);return;case"textarea":Se("invalid",e),a=s=r=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":r=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(q(91));break;default:$e(e,t,i,o,n,null)}H_(e,r,s,a);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,c,r,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<Lc.length;r++)Se(Lc[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,t));default:$e(e,t,u,r,n,null)}return;default:if(yv(t)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&Bg(e,t,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&$e(e,t,o,r,n,null))}function ST(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,i=null,o=null,c=null,u=null,f=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(h)||$e(e,t,h,null,r,d)}}for(var m in r){var h=r[m];if(d=n[m],r.hasOwnProperty(m)&&(h!=null||d!=null))switch(m){case"type":a=h;break;case"name":s=h;break;case"checked":u=h;break;case"defaultChecked":f=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(q(137,t));break;default:h!==d&&$e(e,t,m,h,r,d)}}mg(e,i,o,c,u,f,a,s);return;case"select":h=i=o=m=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(a)||$e(e,t,a,null,r,c)}for(s in r)if(a=r[s],c=n[s],r.hasOwnProperty(s)&&(a!=null||c!=null))switch(s){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":i=a;default:a!==c&&$e(e,t,s,a,r,c)}t=o,n=i,r=h,m!=null?go(e,!!n,m,!1):!!r!=!!n&&(t!=null?go(e,!!n,t,!0):go(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:$e(e,t,o,null,r,s)}for(i in r)if(s=r[i],a=n[i],r.hasOwnProperty(i)&&(s!=null||a!=null))switch(i){case"value":m=s;break;case"defaultValue":h=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(q(91));break;default:s!==a&&$e(e,t,i,s,r,a)}V_(e,m,h);return;case"option":for(var y in n)if(m=n[y],n.hasOwnProperty(y)&&m!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:$e(e,t,y,null,r,m)}for(c in r)if(m=r[c],h=n[c],r.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:$e(e,t,c,m,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!r.hasOwnProperty(v)&&$e(e,t,v,null,r,m);for(u in r)if(m=r[u],h=n[u],r.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(q(137,t));break;default:$e(e,t,u,m,r,h)}return;default:if(yv(t)){for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!==void 0&&!r.hasOwnProperty(b)&&Bg(e,t,b,void 0,r,m);for(f in r)m=r[f],h=n[f],!r.hasOwnProperty(f)||m===h||m===void 0&&h===void 0||Bg(e,t,f,m,r,h);return}}for(var g in n)m=n[g],n.hasOwnProperty(g)&&m!=null&&!r.hasOwnProperty(g)&&$e(e,t,g,null,r,m);for(d in r)m=r[d],h=n[d],!r.hasOwnProperty(d)||m===h||m==null&&h==null||$e(e,t,d,m,r,h)}function pb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ET(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],a=s.transferSize,i=s.initiatorType,o=s.duration;if(a&&o&&pb(i)){for(i=0,o=s.responseEnd,r+=1;r<n.length;r++){var c=n[r],u=c.startTime;if(u>o)break;var f=c.transferSize,d=c.initiatorType;f&&pb(d)&&(c=c.responseEnd,i+=f*(c<o?1:(o-u)/(c-u)))}if(--r,t+=8*(a+i)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vg=null,Hg=null;function Cf(e){return e.nodeType===9?e:e.ownerDocument}function vb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _m=null;function RT(){var e=window.event;return e&&e.type==="popstate"?e===_m?!1:(_m=e,!0):(_m=null,!1)}var ZE=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(e){return yb.resolve(null).then(e).catch(NT)}:ZE;function NT(e){setTimeout(function(){throw e})}function ja(e){return e==="head"}function bb(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(s),rl(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")bc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,bc(n);for(var a=n.firstChild;a;){var i=a.nextSibling,o=a.nodeName;a[Cu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=i}}else n==="body"&&bc(e.ownerDocument.body);n=s}while(n);rl(t)}function xb(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Kg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kg(n),vv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function OT(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Cu])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function TT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function WE(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xn(e.nextSibling),e===null))return null;return e}function Qg(e){return e.data==="$?"||e.data==="$~"}function Yg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xg=null;function wb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Xn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function _b(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function JE(e,t,n){switch(t=Cf(n),e){case"html":if(e=t.documentElement,!e)throw Error(q(452));return e;case"head":if(e=t.head,!e)throw Error(q(453));return e;case"body":if(e=t.body,!e)throw Error(q(454));return e;default:throw Error(q(451))}}function bc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vv(e)}var Wn=new Map,Sb=new Set;function Nf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bs=Ie.d;Ie.d={f:MT,r:DT,D:kT,C:IT,L:LT,m:UT,X:PT,S:zT,M:$T};function MT(){var e=bs.f(),t=vh();return e||t}function DT(e){var t=fl(e);t!==null&&t.tag===5&&t.type==="form"?GS(t):bs.r(e)}var pl=typeof document>"u"?null:document;function e1(e,t,n){var r=pl;if(r&&typeof t=="string"&&t){var s=Hn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Sb.has(s)||(Sb.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),Ut(t,"link",e),Ct(t),r.head.appendChild(t)))}}function kT(e){bs.D(e),e1("dns-prefetch",e,null)}function IT(e,t){bs.C(e,t),e1("preconnect",e,t)}function LT(e,t,n){bs.L(e,t,n);var r=pl;if(r&&e&&t){var s='link[rel="preload"][as="'+Hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Hn(n.imageSizes)+'"]')):s+='[href="'+Hn(e)+'"]';var a=s;switch(t){case"style":a=nl(e);break;case"script":a=vl(e)}Wn.has(a)||(e=Ze({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wn.set(a,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(Du(a))||t==="script"&&r.querySelector(ku(a))||(t=r.createElement("link"),Ut(t,"link",e),Ct(t),r.head.appendChild(t)))}}function UT(e,t){bs.m(e,t);var n=pl;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Hn(r)+'"][href="'+Hn(e)+'"]',a=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=vl(e)}if(!Wn.has(a)&&(e=Ze({rel:"modulepreload",href:e},t),Wn.set(a,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ku(a)))return}r=n.createElement("link"),Ut(r,"link",e),Ct(r),n.head.appendChild(r)}}}function zT(e,t,n){bs.S(e,t,n);var r=pl;if(r&&e){var s=mo(r).hoistableStyles,a=nl(e);t=t||"default";var i=s.get(a);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Du(a)))o.loading=5;else{e=Ze({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wn.get(a))&&ny(e,n);var c=i=r.createElement("link");Ct(c),Ut(c,"link",e),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Qd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(a,i)}}}function PT(e,t){bs.X(e,t);var n=pl;if(n&&e){var r=mo(n).hoistableScripts,s=vl(e),a=r.get(s);a||(a=n.querySelector(ku(s)),a||(e=Ze({src:e,async:!0},t),(t=Wn.get(s))&&ry(e,t),a=n.createElement("script"),Ct(a),Ut(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}function $T(e,t){bs.M(e,t);var n=pl;if(n&&e){var r=mo(n).hoistableScripts,s=vl(e),a=r.get(s);a||(a=n.querySelector(ku(s)),a||(e=Ze({src:e,async:!0,type:"module"},t),(t=Wn.get(s))&&ry(e,t),a=n.createElement("script"),Ct(a),Ut(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}function Eb(e,t,n,r){var s=(s=ia.current)?Nf(s):null;if(!s)throw Error(q(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=nl(n.href),n=mo(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=nl(n.href);var a=mo(s).hoistableStyles,i=a.get(e);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,i),(a=s.querySelector(Du(e)))&&!a._p&&(i.instance=a,i.state.loading=5),Wn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wn.set(e,n),a||FT(s,e,n,i.state))),t&&r===null)throw Error(q(528,""));return i}if(t&&r!==null)throw Error(q(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(n),n=mo(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,e))}}function nl(e){return'href="'+Hn(e)+'"'}function Du(e){return'link[rel="stylesheet"]['+e+"]"}function t1(e){return Ze({},e,{"data-precedence":e.precedence,precedence:null})}function FT(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ut(t,"link",n),Ct(t),e.head.appendChild(t))}function vl(e){return'[src="'+Hn(e)+'"]'}function ku(e){return"script[async]"+e}function Rb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Hn(n.href)+'"]');if(r)return t.instance=r,Ct(r),r;var s=Ze({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Ct(r),Ut(r,"style",s),Qd(r,n.precedence,e),t.instance=r;case"stylesheet":s=nl(n.href);var a=e.querySelector(Du(s));if(a)return t.state.loading|=4,t.instance=a,Ct(a),a;r=t1(n),(s=Wn.get(s))&&ny(r,s),a=(e.ownerDocument||e).createElement("link"),Ct(a);var i=a;return i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ut(a,"link",r),t.state.loading|=4,Qd(a,n.precedence,e),t.instance=a;case"script":return a=vl(n.src),(s=e.querySelector(ku(a)))?(t.instance=s,Ct(s),s):(r=n,(s=Wn.get(a))&&(r=Ze({},n),ry(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ct(s),Ut(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(q(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Qd(r,n.precedence,e));return t.instance}function Qd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,a=s,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ny(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ry(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yd=null;function jb(e,t,n){if(Yd===null){var r=new Map,s=Yd=new Map;s.set(n,r)}else s=Yd,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var a=n[s];if(!(a[Cu]||a[kt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var i=a.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(a):r.set(i,[a])}}return r}function Cb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function qT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function n1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function BT(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=nl(r.href),a=t.querySelector(Du(s));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Of.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Ct(a);return}a=t.ownerDocument||t,r=t1(r),(s=Wn.get(s))&&ny(r,s),a=a.createElement("link"),Ct(a);var i=a;i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ut(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Of.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Sm=0;function VT(e,t){return e.stylesheets&&e.count===0&&Xd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Sm===0&&(Sm=62500*ET());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xd(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Sm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}function Of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tf=null;function Xd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tf=new Map,t.forEach(HT,e),Tf=null,Of.call(e))}function HT(e,t){if(!(t.state.loading&4)){var n=Tf.get(e);if(n)var r=n.get(null);else{n=new Map,Tf.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var i=s[a];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}s=t.instance,i=s.getAttribute("data-precedence"),a=n.get(i)||r,a===r&&n.set(null,s),n.set(i,s),this.count++,r=Of.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),a?a.parentNode.insertBefore(s,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var zc={$$typeof:as,Provider:null,Consumer:null,_currentValue:ci,_currentValue2:ci,_threadCount:0};function GT(e,t,n,r,s,a,i,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.hiddenUpdates=Gh(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function r1(e,t,n,r,s,a,i,o,c,u,f,d){return e=new GT(e,t,n,i,c,u,f,d,o),t=1,a===!0&&(t|=24),a=xn(3,null,null,t),e.current=a,a.stateNode=e,t=Ov(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Mv(a),e}function s1(e){return e?(e=co,e):co}function a1(e,t,n,r,s,a){s=s1(s),r.context===null?r.context=s:r.pendingContext=s,r=la(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=ca(e,r,t),n!==null&&(cn(n,e,t),dc(n,e,t))}function Nb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sy(e,t){Nb(e,t),(e=e.alternate)&&Nb(e,t)}function i1(e){if(e.tag===13||e.tag===31){var t=ji(e,67108864);t!==null&&cn(t,e,67108864),sy(e,67108864)}}function Ob(e){if(e.tag===13||e.tag===31){var t=On();t=gv(t);var n=ji(e,t);n!==null&&cn(n,e,t),sy(e,t)}}var Af=!0;function KT(e,t,n,r){var s=pe.T;pe.T=null;var a=Ie.p;try{Ie.p=2,ay(e,t,n,r)}finally{Ie.p=a,pe.T=s}}function QT(e,t,n,r){var s=pe.T;pe.T=null;var a=Ie.p;try{Ie.p=8,ay(e,t,n,r)}finally{Ie.p=a,pe.T=s}}function ay(e,t,n,r){if(Af){var s=Zg(r);if(s===null)wm(e,t,r,Mf,n),Tb(e,r);else if(XT(s,e,t,n,r))r.stopPropagation();else if(Tb(e,r),t&4&&-1<YT.indexOf(e)){for(;s!==null;){var a=fl(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var i=Pa(a.pendingLanes);if(i!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var c=1<<31-Nn(i);o.entanglements[1]|=c,i&=~c}kr(a),!(ke&6)&&(wf=jn()+500,Mu(0,!1))}}break;case 31:case 13:o=ji(a,2),o!==null&&cn(o,a,2),vh(),sy(a,2)}if(a=Zg(r),a===null&&wm(e,t,r,Mf,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else wm(e,t,r,null,n)}}function Zg(e){return e=bv(e),iy(e)}var Mf=null;function iy(e){if(Mf=null,e=ro(e),e!==null){var t=Su(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=j_(t),e!==null)return e;e=null}else if(n===31){if(e=C_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mf=e,null}function o1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kN()){case A_:return 2;case M_:return 8;case of:case IN:return 32;case D_:return 268435456;default:return 32}default:return 32}}var Wg=!1,fa=null,ha=null,ma=null,Pc=new Map,$c=new Map,Is=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tb(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Pc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(t.pointerId)}}function Hl(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=fl(t),t!==null&&i1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XT(e,t,n,r,s){switch(t){case"focusin":return fa=Hl(fa,e,t,n,r,s),!0;case"dragenter":return ha=Hl(ha,e,t,n,r,s),!0;case"mouseover":return ma=Hl(ma,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Pc.set(a,Hl(Pc.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,$c.set(a,Hl($c.get(a)||null,e,t,n,r,s)),!0}return!1}function l1(e){var t=ro(e.target);if(t!==null){var n=Su(t);if(n!==null){if(t=n.tag,t===13){if(t=j_(n),t!==null){e.blockedOn=t,m0(e.priority,function(){Ob(n)});return}}else if(t===31){if(t=C_(n),t!==null){e.blockedOn=t,m0(e.priority,function(){Ob(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zg(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pg=r,n.target.dispatchEvent(r),pg=null}else return t=fl(n),t!==null&&i1(t),e.blockedOn=n,!1;t.shift()}return!0}function Ab(e,t,n){Zd(e)&&n.delete(t)}function ZT(){Wg=!1,fa!==null&&Zd(fa)&&(fa=null),ha!==null&&Zd(ha)&&(ha=null),ma!==null&&Zd(ma)&&(ma=null),Pc.forEach(Ab),$c.forEach(Ab)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,Wg||(Wg=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,ZT)))}var dd=null;function Mb(e){dd!==e&&(dd=e,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){dd===e&&(dd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(iy(r||n)===null)continue;break}var a=fl(n);a!==null&&(e.splice(t,3),t-=3,Mg(a,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function rl(e){function t(c){return ud(c,e)}fa!==null&&ud(fa,e),ha!==null&&ud(ha,e),ma!==null&&ud(ma,e),Pc.forEach(t),$c.forEach(t);for(var n=0;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)l1(n),n.blockedOn===null&&Is.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],a=n[r+1],i=s[un]||null;if(typeof a=="function")i||Mb(n);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,i=a[un]||null)o=i.formAction;else if(iy(s)!==null)continue}else o=i.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Mb(n)}}}function c1(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(i){return s=i})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function oy(e){this._internalRoot=e}xh.prototype.render=oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));var n=t.current,r=On();a1(n,r,e,t,null,null)};xh.prototype.unmount=oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;a1(e.current,2,null,e,null,null),vh(),t[dl]=null}};function xh(e){this._internalRoot=e}xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=z_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Is.length&&t!==0&&t<Is[n].priority;n++);Is.splice(n,0,e),n===0&&l1(e)}};var Db=E_.version;if(Db!=="19.2.0")throw Error(q(527,Db,"19.2.0"));Ie.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=CN(t),e=e!==null?N_(e):null,e=e===null?null:e.stateNode,e};var WT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:pe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Eu=fd.inject(WT),Cn=fd}catch{}}nh.createRoot=function(e,t){if(!R_(e))throw Error(q(299));var n=!1,r="",s=eE,a=tE,i=nE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=r1(e,1,!1,null,null,n,r,null,s,a,i,c1),e[dl]=t.current,ty(e),new oy(t)};nh.hydrateRoot=function(e,t,n){if(!R_(e))throw Error(q(299));var r=!1,s="",a=eE,i=tE,o=nE,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=r1(e,1,!0,t,n??null,r,s,c,a,i,o,c1),t.context=s1(null),n=t.current,r=On(),r=gv(r),s=la(r),s.callback=null,ca(n,s,r),n=r,t.current.lanes=n,ju(t,n),kr(t),e[dl]=t.current,ty(e),new xh(t)};nh.version="19.2.0";function u1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u1)}catch(e){console.error(e)}}u1(),v_.exports=nh;var JT=v_.exports;const eA=eh(JT);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(this,arguments)}var sa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sa||(sa={}));const kb="popstate";function tA(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:o}=r.location;return Jg("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Df(s)}return rA(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function d1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nA(){return Math.random().toString(36).substr(2,8)}function Ib(e,t){return{usr:e.state,key:e.key,idx:t}}function Jg(e,t,n,r){return n===void 0&&(n=null),Fc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yl(t):t,{state:n,key:t&&t.key||r||nA()})}function Df(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rA(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=sa.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Fc({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){o=sa.Pop;let b=f(),g=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:g})}function m(b,g){o=sa.Push;let p=Jg(v.location,b,g);n&&n(p,b),u=f()+1;let x=Ib(p,u),_=v.createHref(p);try{i.pushState(x,"",_)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(_)}a&&c&&c({action:o,location:v.location,delta:1})}function h(b,g){o=sa.Replace;let p=Jg(v.location,b,g);n&&n(p,b),u=f();let x=Ib(p,u),_=v.createHref(p);i.replaceState(x,"",_),a&&c&&c({action:o,location:v.location,delta:0})}function y(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:Df(b);return p=p.replace(/ $/,"%20"),ct(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return o},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kb,d),c=b,()=>{s.removeEventListener(kb,d),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:h,go(b){return i.go(b)}};return v}var Lb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lb||(Lb={}));function sA(e,t,n){return n===void 0&&(n="/"),aA(e,t,n,!1)}function aA(e,t,n,r){let s=typeof t=="string"?yl(t):t,a=ly(s.pathname||"/",n);if(a==null)return null;let i=f1(e);iA(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=vA(a);o=gA(i[c],u,r)}return o}function f1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ga([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f1(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:hA(u,a.index),routesMeta:f})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of h1(a.path))s(a,i,c)}),t}function h1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=h1(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function iA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oA=/^:[\w-]+$/,lA=3,cA=2,uA=1,dA=10,fA=-2,Ub=e=>e==="*";function hA(e,t){let n=e.split("/"),r=n.length;return n.some(Ub)&&(r+=fA),t&&(r+=cA),n.filter(s=>!Ub(s)).reduce((s,a)=>s+(oA.test(a)?lA:a===""?uA:dA),r)}function mA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function gA(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=zb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=zb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:ga([a,d.pathname]),pathnameBase:wA(ga([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=ga([a,d.pathnameBase]))}return i}function zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pA(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:m,isOptional:h}=f;if(m==="*"){let v=o[d]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[d];return h&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function pA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),d1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function vA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return d1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ly(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?yl(e):e;return{pathname:n?n.startsWith("/")?n:bA(n,t):t,search:_A(r),hash:SA(s)}}function bA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Em(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cy(e,t){let n=xA(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uy(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=yl(e):(s=Fc({},e),ct(!s.pathname||!s.pathname.includes("?"),Em("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Em("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Em("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}o=d>=0?t[d]:"/"}let c=yA(s,o),u=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),wA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m1=["post","put","patch","delete"];new Set(m1);const RA=["get",...m1];new Set(RA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}const dy=w.createContext(null),jA=w.createContext(null),Ca=w.createContext(null),wh=w.createContext(null),Ir=w.createContext({outlet:null,matches:[],isDataRoute:!1}),g1=w.createContext(null);function CA(e,t){let{relative:n}=t===void 0?{}:t;bl()||ct(!1);let{basename:r,navigator:s}=w.useContext(Ca),{hash:a,pathname:i,search:o}=v1(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:ga([r,i])),s.createHref({pathname:c,search:o,hash:a})}function bl(){return w.useContext(wh)!=null}function xl(){return bl()||ct(!1),w.useContext(wh).location}function p1(e){w.useContext(Ca).static||w.useLayoutEffect(e)}function zt(){let{isDataRoute:e}=w.useContext(Ir);return e?qA():NA()}function NA(){bl()||ct(!1);let e=w.useContext(dy),{basename:t,future:n,navigator:r}=w.useContext(Ca),{matches:s}=w.useContext(Ir),{pathname:a}=xl(),i=JSON.stringify(cy(s,n.v7_relativeSplatPath)),o=w.useRef(!1);return p1(()=>{o.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=uy(u,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ga([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,a,e])}const OA=w.createContext(null);function TA(e){let t=w.useContext(Ir).outlet;return t&&w.createElement(OA.Provider,{value:e},t)}function wl(){let{matches:e}=w.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function v1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Ca),{matches:s}=w.useContext(Ir),{pathname:a}=xl(),i=JSON.stringify(cy(s,r.v7_relativeSplatPath));return w.useMemo(()=>uy(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function AA(e,t){return MA(e,t)}function MA(e,t,n,r){bl()||ct(!1);let{navigator:s}=w.useContext(Ca),{matches:a}=w.useContext(Ir),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=xl(),f;if(t){var d;let b=typeof t=="string"?yl(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||ct(!1),f=b}else f=u;let m=f.pathname||"/",h=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=sA(e,{pathname:h}),v=UA(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ga([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ga([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&v?w.createElement(wh.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:sa.Pop}},v):v}function DA(){let e=FA(),t=EA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,a)}const kA=w.createElement(DA,null);class IA extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Ir.Provider,{value:this.props.routeContext},w.createElement(g1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LA(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(dy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ir.Provider,{value:t},r)}function UA(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||ct(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:h}=n,y=d.route.loader&&m[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,m)=>{let h,y=!1,v=null,b=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||kA,c&&(u<0&&m===0?(BA("route-fallback",!1),y=!0,b=null):u===m&&(y=!0,b=d.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,m+1)),p=()=>{let x;return h?x=v:y?x=b:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=f,w.createElement(LA,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?w.createElement(IA,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var y1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y1||{}),kf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kf||{});function zA(e){let t=w.useContext(dy);return t||ct(!1),t}function PA(e){let t=w.useContext(jA);return t||ct(!1),t}function $A(e){let t=w.useContext(Ir);return t||ct(!1),t}function b1(e){let t=$A(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function FA(){var e;let t=w.useContext(g1),n=PA(kf.UseRouteError),r=b1(kf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function qA(){let{router:e}=zA(y1.UseNavigateStable),t=b1(kf.UseNavigateStable),n=w.useRef(!1);return p1(()=>{n.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qc({fromRouteId:t},a)))},[e,t])}const Pb={};function BA(e,t,n){!t&&!Pb[e]&&(Pb[e]=!0)}function VA(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function x1(e){let{to:t,replace:n,state:r,relative:s}=e;bl()||ct(!1);let{future:a,static:i}=w.useContext(Ca),{matches:o}=w.useContext(Ir),{pathname:c}=xl(),u=zt(),f=uy(t,cy(o,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function HA(e){return TA(e.context)}function Pe(e){ct(!1)}function GA(e){let{basename:t="/",children:n=null,location:r,navigationType:s=sa.Pop,navigator:a,static:i=!1,future:o}=e;bl()&&ct(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:i,future:qc({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=yl(r));let{pathname:f="/",search:d="",hash:m="",state:h=null,key:y="default"}=r,v=w.useMemo(()=>{let b=ly(f,c);return b==null?null:{location:{pathname:b,search:d,hash:m,state:h,key:y},navigationType:s}},[c,f,d,m,h,y,s]);return v==null?null:w.createElement(Ca.Provider,{value:u},w.createElement(wh.Provider,{children:n,value:v}))}function KA(e){let{children:t,location:n}=e;return AA(ep(t),n)}new Promise(()=>{});function ep(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let a=[...t,s];if(r.type===w.Fragment){n.push.apply(n,ep(r.props.children,a));return}r.type!==Pe&&ct(!1),!r.props.index||!r.props.children||ct(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ep(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tp.apply(this,arguments)}function QA(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function YA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XA(e,t){return e.button===0&&(!t||t==="_self")&&!YA(e)}const ZA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WA="6";try{window.__reactRouterVersion=WA}catch{}const JA="startTransition",$b=dv[JA];function e2(e){let{basename:t,children:n,future:r,window:s}=e,a=w.useRef();a.current==null&&(a.current=tA({window:s,v5Compat:!0}));let i=a.current,[o,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=w.useCallback(d=>{u&&$b?$b(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>i.listen(f),[i,f]),w.useEffect(()=>VA(r),[r]),w.createElement(GA,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const t2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,m=QA(t,ZA),{basename:h}=w.useContext(Ca),y,v=!1;if(typeof u=="string"&&n2.test(u)&&(y=u,t2))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),R=ly(_.pathname,h);_.origin===x.origin&&R!=null?u=R+_.search+_.hash:v=!0}catch{}let b=CA(u,{relative:s}),g=r2(u,{replace:i,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:d});function p(x){r&&r(x),x.defaultPrevented||g(x)}return w.createElement("a",tp({},m,{href:y||b,onClick:v||a?r:p,ref:n,target:c}))});var Fb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fb||(Fb={}));var qb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qb||(qb={}));function r2(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=zt(),u=xl(),f=v1(e,{relative:i});return w.useCallback(d=>{if(XA(d,n)){d.preventDefault();let m=r!==void 0?r:Df(u)===Df(f);c(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,f,r,s,n,e,a,i,o])}var _l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},s2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},zs,sv,Hw,a2=(Hw=class{constructor(){G(this,zs,s2);G(this,sv,!1)}setTimeoutProvider(t){V(this,zs,t)}setTimeout(t,n){return S(this,zs).setTimeout(t,n)}clearTimeout(t){S(this,zs).clearTimeout(t)}setInterval(t,n){return S(this,zs).setInterval(t,n)}clearInterval(t){S(this,zs).clearInterval(t)}},zs=new WeakMap,sv=new WeakMap,Hw),Ha=new a2;function i2(e){setTimeout(e,0)}var bi=typeof window>"u"||"Deno"in globalThis;function Gt(){}function o2(e,t){return typeof e=="function"?e(t):e}function np(e){return typeof e=="number"&&e>=0&&e!==1/0}function w1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pa(e,t){return typeof e=="function"?e(t):e}function Fn(e,t){return typeof e=="function"?e(t):e}function Bb(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==fy(i,t.options))return!1}else if(!Bc(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function Vb(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(xi(t.options.mutationKey)!==xi(a))return!1}else if(!Bc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function fy(e,t){return((t==null?void 0:t.queryKeyHashFn)||xi)(e)}function xi(e){return JSON.stringify(e,(t,n)=>rp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Bc(e[n],t[n])):!1}var l2=Object.prototype.hasOwnProperty;function _1(e,t){if(e===t)return e;const n=Hb(e)&&Hb(t);if(!n&&!(rp(e)&&rp(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),i=a.length,o=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const f=n?u:a[u],d=e[f],m=t[f];if(d===m){o[f]=d,(n?u<s:l2.call(e,f))&&c++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){o[f]=m;continue}const h=_1(d,m);o[f]=h,h===d&&c++}return s===i&&c===s?e:o}function If(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Hb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rp(e){if(!Gb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gb(e){return Object.prototype.toString.call(e)==="[object Object]"}function c2(e){return new Promise(t=>{Ha.setTimeout(t,e)})}function sp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?_1(e,t):t}function u2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function d2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var hy=Symbol();function S1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function E1(e,t){return typeof e=="function"?e(...t):!!e}var Qa,Ps,jo,Gw,f2=(Gw=class extends _l{constructor(){super();G(this,Qa,void 0);G(this,Ps,void 0);G(this,jo,void 0);V(this,jo,n=>{if(!bi&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,Ps)||this.setEventListener(S(this,jo))}onUnsubscribe(){var n;this.hasListeners()||((n=S(this,Ps))==null||n.call(this),V(this,Ps,void 0))}setEventListener(n){var r;V(this,jo,n),(r=S(this,Ps))==null||r.call(this),V(this,Ps,n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(n){S(this,Qa)!==n&&(V(this,Qa,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof S(this,Qa)=="boolean"?S(this,Qa):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},Qa=new WeakMap,Ps=new WeakMap,jo=new WeakMap,Gw),my=new f2;function ap(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var h2=i2;function m2(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=h2;const a=o=>{t?e.push(o):s(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var bt=m2(),Co,$s,No,Kw,g2=(Kw=class extends _l{constructor(){super();G(this,Co,!0);G(this,$s,void 0);G(this,No,void 0);V(this,No,n=>{if(!bi&&window.addEventListener){const r=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){S(this,$s)||this.setEventListener(S(this,No))}onUnsubscribe(){var n;this.hasListeners()||((n=S(this,$s))==null||n.call(this),V(this,$s,void 0))}setEventListener(n){var r;V(this,No,n),(r=S(this,$s))==null||r.call(this),V(this,$s,n(this.setOnline.bind(this)))}setOnline(n){S(this,Co)!==n&&(V(this,Co,n),this.listeners.forEach(s=>{s(n)}))}isOnline(){return S(this,Co)}},Co=new WeakMap,$s=new WeakMap,No=new WeakMap,Kw),Lf=new g2;function p2(e){return Math.min(1e3*2**e,3e4)}function R1(e){return(e??"online")==="online"?Lf.isOnline():!0}var ip=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function j1(e){let t=!1,n=0,r;const s=ap(),a=()=>s.status!=="pending",i=v=>{var b;if(!a()){const g=new ip(v);m(g),(b=e.onCancel)==null||b.call(e,g)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>my.isFocused()&&(e.networkMode==="always"||Lf.isOnline())&&e.canRun(),f=()=>R1(e.networkMode)&&e.canRun(),d=v=>{a()||(r==null||r(),s.resolve(v))},m=v=>{a()||(r==null||r(),s.reject(v))},h=()=>new Promise(v=>{var b;r=g=>{(a()||u())&&v(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;r=void 0,a()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(a())return;let v;const b=n===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var T;if(a())return;const p=e.retry??(bi?0:3),x=e.retryDelay??p2,_=typeof x=="function"?x(n,g):x,R=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(t||!R){m(g);return}n++,(T=e.onFail)==null||T.call(e,n,g),c2(_).then(()=>u()?void 0:h()).then(()=>{t?m(g):y()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?y():h().then(y),s)}}var Ya,Qw,C1=(Qw=class{constructor(){G(this,Ya,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),np(this.gcTime)&&V(this,Ya,Ha.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bi?1/0:5*60*1e3))}clearGcTimeout(){S(this,Ya)&&(Ha.clearTimeout(S(this,Ya)),V(this,Ya,void 0))}},Ya=new WeakMap,Qw),Xa,Oo,Un,Za,Rt,eu,Wa,ir,Kr,Yw,v2=(Yw=class extends C1{constructor(t){super();G(this,ir);G(this,Xa,void 0);G(this,Oo,void 0);G(this,Un,void 0);G(this,Za,void 0);G(this,Rt,void 0);G(this,eu,void 0);G(this,Wa,void 0);V(this,Wa,!1),V(this,eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,Za,t.client),V(this,Un,S(this,Za).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,Xa,Kb(this.options)),this.state=t.state??S(this,Xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Rt))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,eu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Kb(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),V(this,Xa,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Un).remove(this)}setData(t,n){const r=sp(this.state.data,t,this.options);return oe(this,ir,Kr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){oe(this,ir,Kr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=S(this,Rt))==null?void 0:r.promise;return(s=S(this,Rt))==null||s.cancel(t),n?n.then(Gt).catch(Gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Xa))}isActive(){return this.observers.some(t=>Fn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>pa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!w1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Rt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Rt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Un).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,Rt)&&(S(this,Wa)?S(this,Rt).cancel({revert:!0}):S(this,Rt).cancelRetry()),this.scheduleGc()),S(this,Un).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||oe(this,ir,Kr).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,f,d,m,h,y,v,b,g,p,x;if(this.state.fetchStatus!=="idle"&&((c=S(this,Rt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Rt))return S(this,Rt).continueRetry(),S(this,Rt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(R=>R.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(V(this,Wa,!0),r.signal)})},a=()=>{const _=S1(this.options,n),T=(()=>{const C={client:S(this,Za),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return V(this,Wa,!1),this.options.persister?this.options.persister(_,T,this):_(T)},o=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,Za),state:this.state,fetchFn:a};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),V(this,Oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&oe(this,ir,Kr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),V(this,Rt,j1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof ip&&_.revert&&this.setState({...S(this,Oo),fetchStatus:"idle"}),r.abort()},onFail:(_,R)=>{oe(this,ir,Kr).call(this,{type:"failed",failureCount:_,error:R})},onPause:()=>{oe(this,ir,Kr).call(this,{type:"pause"})},onContinue:()=>{oe(this,ir,Kr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await S(this,Rt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(h=(m=S(this,Un).config).onSuccess)==null||h.call(m,_,this),(v=(y=S(this,Un).config).onSettled)==null||v.call(y,_,this.state.error,this),_}catch(_){if(_ instanceof ip){if(_.silent)return S(this,Rt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw oe(this,ir,Kr).call(this,{type:"error",error:_}),(g=(b=S(this,Un).config).onError)==null||g.call(b,_,this),(x=(p=S(this,Un).config).onSettled)==null||x.call(p,this.state.data,_,this),_}finally{this.scheduleGc()}}},Xa=new WeakMap,Oo=new WeakMap,Un=new WeakMap,Za=new WeakMap,Rt=new WeakMap,eu=new WeakMap,Wa=new WeakMap,ir=new WeakSet,Kr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...N1(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,Oo,t.manual?s:void 0),s;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Un).notify({query:this,type:"updated",action:t})})},Yw);function N1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wt,je,tu,qt,Ja,To,Zr,Fs,nu,Ao,Mo,ei,ti,qs,Do,ni,nc,ru,op,su,lp,au,cp,iu,up,ou,dp,lu,fp,cu,hp,Wf,O1,Xw,y2=(Xw=class extends _l{constructor(n,r){super();G(this,ni);G(this,ru);G(this,su);G(this,au);G(this,iu);G(this,ou);G(this,lu);G(this,cu);G(this,Wf);G(this,Wt,void 0);G(this,je,void 0);G(this,tu,void 0);G(this,qt,void 0);G(this,Ja,void 0);G(this,To,void 0);G(this,Zr,void 0);G(this,Fs,void 0);G(this,nu,void 0);G(this,Ao,void 0);G(this,Mo,void 0);G(this,ei,void 0);G(this,ti,void 0);G(this,qs,void 0);G(this,Do,new Set);this.options=r,V(this,Wt,n),V(this,Fs,null),V(this,Zr,ap()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,je).addObserver(this),Qb(S(this,je),this.options)?oe(this,ni,nc).call(this):this.updateResult(),oe(this,iu,up).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mp(S(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mp(S(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,oe(this,ou,dp).call(this),oe(this,lu,fp).call(this),S(this,je).removeObserver(this)}setOptions(n){const r=this.options,s=S(this,je);if(this.options=S(this,Wt).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fn(this.options.enabled,S(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");oe(this,cu,hp).call(this),S(this,je).setOptions(this.options),r._defaulted&&!If(this.options,r)&&S(this,Wt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,je),observer:this});const a=this.hasListeners();a&&Yb(S(this,je),s,this.options,r)&&oe(this,ni,nc).call(this),this.updateResult(),a&&(S(this,je)!==s||Fn(this.options.enabled,S(this,je))!==Fn(r.enabled,S(this,je))||pa(this.options.staleTime,S(this,je))!==pa(r.staleTime,S(this,je)))&&oe(this,ru,op).call(this);const i=oe(this,su,lp).call(this);a&&(S(this,je)!==s||Fn(this.options.enabled,S(this,je))!==Fn(r.enabled,S(this,je))||i!==S(this,qs))&&oe(this,au,cp).call(this,i)}getOptimisticResult(n){const r=S(this,Wt).getQueryCache().build(S(this,Wt),n),s=this.createResult(r,n);return x2(this,s)&&(V(this,qt,s),V(this,To,this.options),V(this,Ja,S(this,je).state)),s}getCurrentResult(){return S(this,qt)}trackResult(n,r){return new Proxy(n,{get:(s,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,Zr).status==="pending"&&S(this,Zr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(n){S(this,Do).add(n)}getCurrentQuery(){return S(this,je)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=S(this,Wt).defaultQueryOptions(n),s=S(this,Wt).getQueryCache().build(S(this,Wt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(n){return oe(this,ni,nc).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,qt)))}createResult(n,r){var E;const s=S(this,je),a=this.options,i=S(this,qt),o=S(this,Ja),c=S(this,To),f=n!==s?n.state:S(this,tu),{state:d}=n;let m={...d},h=!1,y;if(r._optimisticResults){const k=this.hasListeners(),N=!k&&Qb(n,r),j=k&&Yb(n,s,r,a);(N||j)&&(m={...m,...N1(d.data,n.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:g}=m;y=m.data;let p=!1;if(r.placeholderData!==void 0&&y===void 0&&g==="pending"){let k;i!=null&&i.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(k=i.data,p=!0):k=typeof r.placeholderData=="function"?r.placeholderData((E=S(this,Mo))==null?void 0:E.state.data,S(this,Mo)):r.placeholderData,k!==void 0&&(g="success",y=sp(i==null?void 0:i.data,k,r),h=!0)}if(r.select&&y!==void 0&&!p)if(i&&y===(o==null?void 0:o.data)&&r.select===S(this,nu))y=S(this,Ao);else try{V(this,nu,r.select),y=r.select(y),y=sp(i==null?void 0:i.data,y,r),V(this,Ao,y),V(this,Fs,null)}catch(k){V(this,Fs,k)}S(this,Fs)&&(v=S(this,Fs),y=S(this,Ao),b=Date.now(),g="error");const x=m.fetchStatus==="fetching",_=g==="pending",R=g==="error",T=_&&x,C=y!==void 0,O={status:g,fetchStatus:m.fetchStatus,isPending:_,isSuccess:g==="success",isError:R,isInitialLoading:T,isLoading:T,data:y,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:x,isRefetching:x&&!_,isLoadingError:R&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:R&&C,isStale:gy(n,r),refetch:this.refetch,promise:S(this,Zr),isEnabled:Fn(r.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const k=L=>{O.status==="error"?L.reject(O.error):O.data!==void 0&&L.resolve(O.data)},N=()=>{const L=V(this,Zr,O.promise=ap());k(L)},j=S(this,Zr);switch(j.status){case"pending":n.queryHash===s.queryHash&&k(j);break;case"fulfilled":(O.status==="error"||O.data!==j.value)&&N();break;case"rejected":(O.status!=="error"||O.error!==j.reason)&&N();break}}return O}updateResult(){const n=S(this,qt),r=this.createResult(S(this,je),this.options);if(V(this,Ja,S(this,je).state),V(this,To,this.options),S(this,Ja).data!==void 0&&V(this,Mo,S(this,je)),If(r,n))return;V(this,qt,r);const s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!S(this,Do).size)return!0;const o=new Set(i??S(this,Do));return this.options.throwOnError&&o.add("error"),Object.keys(S(this,qt)).some(c=>{const u=c;return S(this,qt)[u]!==n[u]&&o.has(u)})};oe(this,Wf,O1).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&oe(this,iu,up).call(this)}},Wt=new WeakMap,je=new WeakMap,tu=new WeakMap,qt=new WeakMap,Ja=new WeakMap,To=new WeakMap,Zr=new WeakMap,Fs=new WeakMap,nu=new WeakMap,Ao=new WeakMap,Mo=new WeakMap,ei=new WeakMap,ti=new WeakMap,qs=new WeakMap,Do=new WeakMap,ni=new WeakSet,nc=function(n){oe(this,cu,hp).call(this);let r=S(this,je).fetch(this.options,n);return n!=null&&n.throwOnError||(r=r.catch(Gt)),r},ru=new WeakSet,op=function(){oe(this,ou,dp).call(this);const n=pa(this.options.staleTime,S(this,je));if(bi||S(this,qt).isStale||!np(n))return;const s=w1(S(this,qt).dataUpdatedAt,n)+1;V(this,ei,Ha.setTimeout(()=>{S(this,qt).isStale||this.updateResult()},s))},su=new WeakSet,lp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,je)):this.options.refetchInterval)??!1},au=new WeakSet,cp=function(n){oe(this,lu,fp).call(this),V(this,qs,n),!(bi||Fn(this.options.enabled,S(this,je))===!1||!np(S(this,qs))||S(this,qs)===0)&&V(this,ti,Ha.setInterval(()=>{(this.options.refetchIntervalInBackground||my.isFocused())&&oe(this,ni,nc).call(this)},S(this,qs)))},iu=new WeakSet,up=function(){oe(this,ru,op).call(this),oe(this,au,cp).call(this,oe(this,su,lp).call(this))},ou=new WeakSet,dp=function(){S(this,ei)&&(Ha.clearTimeout(S(this,ei)),V(this,ei,void 0))},lu=new WeakSet,fp=function(){S(this,ti)&&(Ha.clearInterval(S(this,ti)),V(this,ti,void 0))},cu=new WeakSet,hp=function(){const n=S(this,Wt).getQueryCache().build(S(this,Wt),this.options);if(n===S(this,je))return;const r=S(this,je);V(this,je,n),V(this,tu,n.state),this.hasListeners()&&(r==null||r.removeObserver(this),n.addObserver(this))},Wf=new WeakSet,O1=function(n){bt.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(S(this,qt))}),S(this,Wt).getQueryCache().notify({query:S(this,je),type:"observerResultsUpdated"})})},Xw);function b2(e,t){return Fn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qb(e,t){return b2(e,t)||e.state.data!==void 0&&mp(e,t,t.refetchOnMount)}function mp(e,t,n){if(Fn(t.enabled,e)!==!1&&pa(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&gy(e,t)}return!1}function Yb(e,t,n,r){return(e!==t||Fn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&gy(e,n)}function gy(e,t){return Fn(t.enabled,e)!==!1&&e.isStaleByTime(pa(t.staleTime,e))}function x2(e,t){return!If(e.getCurrentResult(),t)}function Xb(e){return{onFetch:(t,n)=>{var f,d,m,h,y;const r=t.options,s=(m=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=S1(t.options,t.fetchOptions),p=async(x,_,R)=>{if(v)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:R?"backward":"forward",meta:t.options.meta};return b(k),k})(),M=await g(C),{maxPages:O}=t.options,E=R?d2:u2;return{pages:E(x.pages,M,O),pageParams:E(x.pageParams,_,O)}};if(s&&a.length){const x=s==="backward",_=x?w2:Zb,R={pages:a,pageParams:i},T=_(r,R);o=await p(R,T,x)}else{const x=e??a.length;do{const _=c===0?i[0]??r.initialPageParam:Zb(r,o);if(c>0&&_==null)break;o=await p(o,_),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Zb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function w2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var uu,xr,Bt,ri,wr,Cs,Zw,_2=(Zw=class extends C1{constructor(t){super();G(this,wr);G(this,uu,void 0);G(this,xr,void 0);G(this,Bt,void 0);G(this,ri,void 0);V(this,uu,t.client),this.mutationId=t.mutationId,V(this,Bt,t.mutationCache),V(this,xr,[]),this.state=t.state||T1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,xr).includes(t)||(S(this,xr).push(t),this.clearGcTimeout(),S(this,Bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,xr,S(this,xr).filter(n=>n!==t)),this.scheduleGc(),S(this,Bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,xr).length||(this.state.status==="pending"?this.scheduleGc():S(this,Bt).remove(this))}continue(){var t;return((t=S(this,ri))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,u,f,d,m,h,y,v,b,g,p,x,_,R,T,C,M,O;const n=()=>{oe(this,wr,Cs).call(this,{type:"continue"})},r={client:S(this,uu),meta:this.options.meta,mutationKey:this.options.mutationKey};V(this,ri,j1({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,k)=>{oe(this,wr,Cs).call(this,{type:"failed",failureCount:E,error:k})},onPause:()=>{oe(this,wr,Cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Bt).canRun(this)}));const s=this.state.status==="pending",a=!S(this,ri).canStart();try{if(s)n();else{oe(this,wr,Cs).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=S(this,Bt).config).onMutate)==null?void 0:o.call(i,t,this,r));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));k!==this.state.context&&oe(this,wr,Cs).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const E=await S(this,ri).start();return await((d=(f=S(this,Bt).config).onSuccess)==null?void 0:d.call(f,E,t,this.state.context,this,r)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,E,t,this.state.context,r)),await((v=(y=S(this,Bt).config).onSettled)==null?void 0:v.call(y,E,null,this.state.variables,this.state.context,this,r)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,E,null,t,this.state.context,r)),oe(this,wr,Cs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(p=S(this,Bt).config).onError)==null?void 0:x.call(p,E,t,this.state.context,this,r)),await((R=(_=this.options).onError)==null?void 0:R.call(_,E,t,this.state.context,r)),await((C=(T=S(this,Bt).config).onSettled)==null?void 0:C.call(T,void 0,E,this.state.variables,this.state.context,this,r)),await((O=(M=this.options).onSettled)==null?void 0:O.call(M,void 0,E,t,this.state.context,r)),E}finally{oe(this,wr,Cs).call(this,{type:"error",error:E})}}finally{S(this,Bt).runNext(this)}}},uu=new WeakMap,xr=new WeakMap,Bt=new WeakMap,ri=new WeakMap,wr=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bt.batch(()=>{S(this,xr).forEach(r=>{r.onMutationUpdate(t)}),S(this,Bt).notify({mutation:this,type:"updated",action:t})})},Zw);function T1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wr,or,du,Ww,S2=(Ww=class extends _l{constructor(t={}){super();G(this,Wr,void 0);G(this,or,void 0);G(this,du,void 0);this.config=t,V(this,Wr,new Set),V(this,or,new Map),V(this,du,0)}build(t,n,r){const s=new _2({client:t,mutationCache:this,mutationId:++Xu(this,du)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){S(this,Wr).add(t);const n=hd(t);if(typeof n=="string"){const r=S(this,or).get(n);r?r.push(t):S(this,or).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,Wr).delete(t)){const n=hd(t);if(typeof n=="string"){const r=S(this,or).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&S(this,or).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=hd(t);if(typeof n=="string"){const r=S(this,or).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=hd(t);if(typeof n=="string"){const s=(r=S(this,or).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bt.batch(()=>{S(this,Wr).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,Wr).clear(),S(this,or).clear()})}getAll(){return Array.from(S(this,Wr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vb(n,r))}findAll(t={}){return this.getAll().filter(n=>Vb(t,n))}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Gt))))}},Wr=new WeakMap,or=new WeakMap,du=new WeakMap,Ww);function hd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Jr,Bs,Jt,es,ko,Wd,fu,gp,Jw,E2=(Jw=class extends _l{constructor(n,r){super();G(this,ko);G(this,fu);G(this,Jr,void 0);G(this,Bs,void 0);G(this,Jt,void 0);G(this,es,void 0);V(this,Jr,n),this.setOptions(r),this.bindMethods(),oe(this,ko,Wd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=S(this,Jr).defaultMutationOptions(n),If(this.options,r)||S(this,Jr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Jt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xi(r.mutationKey)!==xi(this.options.mutationKey)?this.reset():((s=S(this,Jt))==null?void 0:s.state.status)==="pending"&&S(this,Jt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,Jt))==null||n.removeObserver(this)}onMutationUpdate(n){oe(this,ko,Wd).call(this),oe(this,fu,gp).call(this,n)}getCurrentResult(){return S(this,Bs)}reset(){var n;(n=S(this,Jt))==null||n.removeObserver(this),V(this,Jt,void 0),oe(this,ko,Wd).call(this),oe(this,fu,gp).call(this)}mutate(n,r){var s;return V(this,es,r),(s=S(this,Jt))==null||s.removeObserver(this),V(this,Jt,S(this,Jr).getMutationCache().build(S(this,Jr),this.options)),S(this,Jt).addObserver(this),S(this,Jt).execute(n)}},Jr=new WeakMap,Bs=new WeakMap,Jt=new WeakMap,es=new WeakMap,ko=new WeakSet,Wd=function(){var r;const n=((r=S(this,Jt))==null?void 0:r.state)??T1();V(this,Bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fu=new WeakSet,gp=function(n){bt.batch(()=>{var r,s,a,i,o,c,u,f;if(S(this,es)&&this.hasListeners()){const d=S(this,Bs).variables,m=S(this,Bs).context,h={client:S(this,Jr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=S(this,es)).onSuccess)==null||s.call(r,n.data,d,m,h),(i=(a=S(this,es)).onSettled)==null||i.call(a,n.data,null,d,m,h)):(n==null?void 0:n.type)==="error"&&((c=(o=S(this,es)).onError)==null||c.call(o,n.error,d,m,h),(f=(u=S(this,es)).onSettled)==null||f.call(u,void 0,n.error,d,m,h))}this.listeners.forEach(d=>{d(S(this,Bs))})})},Jw),_r,e_,R2=(e_=class extends _l{constructor(t={}){super();G(this,_r,void 0);this.config=t,V(this,_r,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??fy(s,n);let i=this.get(a);return i||(i=new v2({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){S(this,_r).has(t.queryHash)||(S(this,_r).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,_r).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,_r).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,_r).get(t)}getAll(){return[...S(this,_r).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Bb(t,r)):n}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_r=new WeakMap,e_),st,Vs,Hs,Io,Lo,Gs,Uo,zo,t_,j2=(t_=class{constructor(e={}){G(this,st,void 0);G(this,Vs,void 0);G(this,Hs,void 0);G(this,Io,void 0);G(this,Lo,void 0);G(this,Gs,void 0);G(this,Uo,void 0);G(this,zo,void 0);V(this,st,e.queryCache||new R2),V(this,Vs,e.mutationCache||new S2),V(this,Hs,e.defaultOptions||{}),V(this,Io,new Map),V(this,Lo,new Map),V(this,Gs,0)}mount(){Xu(this,Gs)._++,S(this,Gs)===1&&(V(this,Uo,my.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,st).onFocus())})),V(this,zo,Lf.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,st).onOnline())})))}unmount(){var e,t;Xu(this,Gs)._--,S(this,Gs)===0&&((e=S(this,Uo))==null||e.call(this),V(this,Uo,void 0),(t=S(this,zo))==null||t.call(this),V(this,zo,void 0))}isFetching(e){return S(this,st).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Vs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,st).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=S(this,st).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(pa(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,st).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=S(this,st).get(r.queryHash),a=s==null?void 0:s.state.data,i=o2(t,a);if(i!==void 0)return S(this,st).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return bt.batch(()=>S(this,st).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,st).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,st);bt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,st);return bt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=bt.batch(()=>S(this,st).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Gt).catch(Gt)}invalidateQueries(e,t={}){return bt.batch(()=>(S(this,st).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=bt.batch(()=>S(this,st).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Gt)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Gt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,st).build(this,t);return n.isStaleByTime(pa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gt).catch(Gt)}fetchInfiniteQuery(e){return e.behavior=Xb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gt).catch(Gt)}ensureInfiniteQueryData(e){return e.behavior=Xb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lf.isOnline()?S(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,st)}getMutationCache(){return S(this,Vs)}getDefaultOptions(){return S(this,Hs)}setDefaultOptions(e){V(this,Hs,e)}setQueryDefaults(e,t){S(this,Io).set(xi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,Io).values()],n={};return t.forEach(r=>{Bc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){S(this,Lo).set(xi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Lo).values()],n={};return t.forEach(r=>{Bc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,Hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,Hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,st).clear(),S(this,Vs).clear()}},st=new WeakMap,Vs=new WeakMap,Hs=new WeakMap,Io=new WeakMap,Lo=new WeakMap,Gs=new WeakMap,Uo=new WeakMap,zo=new WeakMap,t_),A1=w.createContext(void 0),Me=e=>{const t=w.useContext(A1);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},C2=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(A1.Provider,{value:e,children:t})),M1=w.createContext(!1),N2=()=>w.useContext(M1);M1.Provider;function O2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var T2=w.createContext(O2()),A2=()=>w.useContext(T2),M2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},D2=e=>{w.useEffect(()=>{e.clearReset()},[e])},k2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||E1(n,[e.error,r])),I2=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},L2=(e,t)=>e.isLoading&&e.isFetching&&!t,U2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wb=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function z2(e,t,n){var d,m,h,y,v;const r=N2(),s=A2(),a=Me(n),i=a.defaultQueryOptions(e);(m=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,i),i._optimisticResults=r?"isRestoring":"optimistic",I2(i),M2(i,s),D2(s);const o=!a.getQueryCache().get(i.queryHash),[c]=w.useState(()=>new t(a,i)),u=c.getOptimisticResult(i),f=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(b=>{const g=f?c.subscribe(bt.batchCalls(b)):Gt;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(i)},[i,c]),U2(i,u))throw Wb(i,c,s);if(k2({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((y=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,i,u),i.experimental_prefetchInRender&&!bi&&L2(u,r)){const b=o?Wb(i,c,s):(v=a.getQueryCache().get(i.queryHash))==null?void 0:v.promise;b==null||b.catch(Gt).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function tt(e,t){return z2(e,y2,t)}function Ae(e,t){const n=Me(t),[r]=w.useState(()=>new E2(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const s=w.useSyncExternalStore(w.useCallback(i=>r.subscribe(bt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=w.useCallback((i,o)=>{r.mutate(i,o).catch(Gt)},[r]);if(s.error&&E1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const P2="modulepreload",$2=function(e){return"/tracc/"+e},Jb={},Sl=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=$2(a),a in Jb)return;Jb[a]=!0;const i=a.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===a&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":P2,i||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),i)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})};var F2=function(){return null};function q2(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const B2=e=>{switch(e){case"success":return G2;case"info":return Q2;case"warning":return K2;case"error":return Y2;default:return null}},V2=Array(12).fill(0),H2=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},V2.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),G2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),K2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Q2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Y2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),X2=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Z2=()=>{const[e,t]=F.useState(document.hidden);return F.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let pp=1,W2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:pp++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:o,title:r}):c):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,i;const o=s.then(async u=>{if(i=["resolve",u],F.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(eM(u)&&!u.ok){a=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...y})}else if(u instanceof Error){a=!1;const d=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...y})}else if(n.success!==void 0){a=!1;const d=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:m,...y})}}).catch(async u=>{if(i=["reject",u],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(u):n.error,d=typeof n.description=="function"?await n.description(u):n.description,h=typeof f=="object"&&!F.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:d,...h})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>o.then(()=>i[0]==="reject"?f(i[1]):u(i[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||pp++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}};const an=new W2,J2=(e,t)=>{const n=(t==null?void 0:t.id)||pp++;return an.addToast({title:e,...t,id:n}),n},eM=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tM=J2,nM=()=>an.toasts,rM=()=>an.getActiveToasts();Object.assign(tM,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:nM,getToasts:rM});q2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function md(e){return e.label!==void 0}const sM=3,aM="24px",iM="16px",ex=4e3,oM=356,lM=14,cM=45,uM=200;function yr(...e){return e.filter(Boolean).join(" ")}function dM(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const fM=e=>{var t,n,r,s,a,i,o,c,u;const{invert:f,toast:d,unstyled:m,interacting:h,setHeights:y,visibleToasts:v,heights:b,index:g,toasts:p,expanded:x,removeToast:_,defaultRichColors:R,closeButton:T,style:C,cancelButtonStyle:M,actionButtonStyle:O,className:E="",descriptionClassName:k="",duration:N,position:j,gap:L,expandByDefault:B,classNames:D,icons:$,closeButtonAriaLabel:U="Close toast"}=e,[P,H]=F.useState(null),[Q,re]=F.useState(null),[Y,Z]=F.useState(!1),[W,se]=F.useState(!1),[de,fe]=F.useState(!1),[Te,_t]=F.useState(!1),[hn,kn]=F.useState(!1),[Ur,zr]=F.useState(0),[ki,Ii]=F.useState(0),Pr=F.useRef(d.duration||N||ex),Il=F.useRef(null),At=F.useRef(null),A=g===0,I=g+1<=v,z=d.type,te=d.dismissible!==!1,J=d.className||"",X=d.descriptionClassName||"",ue=F.useMemo(()=>b.findIndex(we=>we.toastId===d.id)||0,[b,d.id]),De=F.useMemo(()=>{var we;return(we=d.closeButton)!=null?we:T},[d.closeButton,T]),Le=F.useMemo(()=>d.duration||N||ex,[d.duration,N]),Pt=F.useRef(0),Jn=F.useRef(0),er=F.useRef(0),ws=F.useRef(null),[Ll,Ul]=j.split("-"),Ku=F.useMemo(()=>b.reduce((we,St,$t)=>$t>=ue?we:we+St.height,0),[b,ue]),zl=Z2(),Ph=d.invert||f,Li=z==="loading";Jn.current=F.useMemo(()=>ue*L+Ku,[ue,Ku]),F.useEffect(()=>{Pr.current=Le},[Le]),F.useEffect(()=>{Z(!0)},[]),F.useEffect(()=>{const we=At.current;if(we){const St=we.getBoundingClientRect().height;return Ii(St),y($t=>[{toastId:d.id,height:St,position:d.position},...$t]),()=>y($t=>$t.filter(mn=>mn.toastId!==d.id))}},[y,d.id]),F.useLayoutEffect(()=>{if(!Y)return;const we=At.current,St=we.style.height;we.style.height="auto";const $t=we.getBoundingClientRect().height;we.style.height=St,Ii($t),y(mn=>mn.find(Mt=>Mt.toastId===d.id)?mn.map(Mt=>Mt.toastId===d.id?{...Mt,height:$t}:Mt):[{toastId:d.id,height:$t,position:d.position},...mn])},[Y,d.title,d.description,y,d.id,d.jsx,d.action,d.cancel]);const _s=F.useCallback(()=>{se(!0),zr(Jn.current),y(we=>we.filter(St=>St.toastId!==d.id)),setTimeout(()=>{_(d)},uM)},[d,_,y,Jn]);F.useEffect(()=>{if(d.promise&&z==="loading"||d.duration===1/0||d.type==="loading")return;let we;return x||h||zl?(()=>{if(er.current<Pt.current){const mn=new Date().getTime()-Pt.current;Pr.current=Pr.current-mn}er.current=new Date().getTime()})():(()=>{Pr.current!==1/0&&(Pt.current=new Date().getTime(),we=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),_s()},Pr.current))})(),()=>clearTimeout(we)},[x,h,d,z,zl,_s]),F.useEffect(()=>{d.delete&&(_s(),d.onDismiss==null||d.onDismiss.call(d,d))},[_s,d.delete]);function tN(){var we;if($!=null&&$.loading){var St;return F.createElement("div",{className:yr(D==null?void 0:D.loader,d==null||(St=d.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":z==="loading"},$.loading)}return F.createElement(H2,{className:yr(D==null?void 0:D.loader,d==null||(we=d.classNames)==null?void 0:we.loader),visible:z==="loading"})}const nN=d.icon||($==null?void 0:$[z])||B2(z);var r0,s0;return F.createElement("li",{tabIndex:0,ref:At,className:yr(E,J,D==null?void 0:D.toast,d==null||(t=d.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[z],d==null||(n=d.classNames)==null?void 0:n[z]),"data-sonner-toast":"","data-rich-colors":(r0=d.richColors)!=null?r0:R,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":Y,"data-promise":!!d.promise,"data-swiped":hn,"data-removed":W,"data-visible":I,"data-y-position":Ll,"data-x-position":Ul,"data-index":g,"data-front":A,"data-swiping":de,"data-dismissible":te,"data-type":z,"data-invert":Ph,"data-swipe-out":Te,"data-swipe-direction":Q,"data-expanded":!!(x||B&&Y),"data-testid":d.testId,style:{"--index":g,"--toasts-before":g,"--z-index":p.length-g,"--offset":`${W?Ur:Jn.current}px`,"--initial-height":B?"auto":`${ki}px`,...C,...d.style},onDragEnd:()=>{fe(!1),H(null),ws.current=null},onPointerDown:we=>{we.button!==2&&(Li||!te||(Il.current=new Date,zr(Jn.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(fe(!0),ws.current={x:we.clientX,y:we.clientY})))},onPointerUp:()=>{var we,St,$t;if(Te||!te)return;ws.current=null;const mn=Number(((we=At.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qu=Number(((St=At.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mt=new Date().getTime()-(($t=Il.current)==null?void 0:$t.getTime()),In=P==="x"?mn:Qu,Yu=Math.abs(In)/Mt;if(Math.abs(In)>=cM||Yu>.11){zr(Jn.current),d.onDismiss==null||d.onDismiss.call(d,d),re(P==="x"?mn>0?"right":"left":Qu>0?"down":"up"),_s(),_t(!0);return}else{var tr,nr;(tr=At.current)==null||tr.style.setProperty("--swipe-amount-x","0px"),(nr=At.current)==null||nr.style.setProperty("--swipe-amount-y","0px")}kn(!1),fe(!1),H(null)},onPointerMove:we=>{var St,$t,mn;if(!ws.current||!te||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Mt=we.clientY-ws.current.y,In=we.clientX-ws.current.x;var Yu;const tr=(Yu=e.swipeDirections)!=null?Yu:dM(j);!P&&(Math.abs(In)>1||Math.abs(Mt)>1)&&H(Math.abs(In)>Math.abs(Mt)?"x":"y");let nr={x:0,y:0};const a0=Ta=>1/(1.5+Math.abs(Ta)/20);if(P==="y"){if(tr.includes("top")||tr.includes("bottom"))if(tr.includes("top")&&Mt<0||tr.includes("bottom")&&Mt>0)nr.y=Mt;else{const Ta=Mt*a0(Mt);nr.y=Math.abs(Ta)<Math.abs(Mt)?Ta:Mt}}else if(P==="x"&&(tr.includes("left")||tr.includes("right")))if(tr.includes("left")&&In<0||tr.includes("right")&&In>0)nr.x=In;else{const Ta=In*a0(In);nr.x=Math.abs(Ta)<Math.abs(In)?Ta:In}(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&kn(!0),($t=At.current)==null||$t.style.setProperty("--swipe-amount-x",`${nr.x}px`),(mn=At.current)==null||mn.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},De&&!d.jsx&&z!=="loading"?F.createElement("button",{"aria-label":U,"data-disabled":Li,"data-close-button":!0,onClick:Li||!te?()=>{}:()=>{_s(),d.onDismiss==null||d.onDismiss.call(d,d)},className:yr(D==null?void 0:D.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(s0=$==null?void 0:$.close)!=null?s0:X2):null,(z||d.icon||d.promise)&&d.icon!==null&&(($==null?void 0:$[z])!==null||d.icon)?F.createElement("div",{"data-icon":"",className:yr(D==null?void 0:D.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||tN():null,d.type!=="loading"?nN:null):null,F.createElement("div",{"data-content":"",className:yr(D==null?void 0:D.content,d==null||(a=d.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:yr(D==null?void 0:D.title,d==null||(i=d.classNames)==null?void 0:i.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?F.createElement("div",{"data-description":"",className:yr(k,X,D==null?void 0:D.description,d==null||(o=d.classNames)==null?void 0:o.description)},typeof d.description=="function"?d.description():d.description):null),F.isValidElement(d.cancel)?d.cancel:d.cancel&&md(d.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||M,onClick:we=>{md(d.cancel)&&te&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,we),_s())},className:yr(D==null?void 0:D.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,F.isValidElement(d.action)?d.action:d.action&&md(d.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||O,onClick:we=>{md(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,we),!we.defaultPrevented&&_s())},className:yr(D==null?void 0:D.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function tx(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hM(e,t){const n={};return[e,t].forEach((r,s)=>{const a=s===1,i=a?"--mobile-offset":"--offset",o=a?iM:aM;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${i}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=o:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}const mM=F.forwardRef(function(t,n){const{id:r,invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:f,mobileOffset:d,theme:m="light",richColors:h,duration:y,style:v,visibleToasts:b=sM,toastOptions:g,dir:p=tx(),gap:x=lM,icons:_,containerAriaLabel:R="Notifications"}=t,[T,C]=F.useState([]),M=F.useMemo(()=>r?T.filter(Y=>Y.toasterId===r):T.filter(Y=>!Y.toasterId),[T,r]),O=F.useMemo(()=>Array.from(new Set([a].concat(M.filter(Y=>Y.position).map(Y=>Y.position)))),[M,a]),[E,k]=F.useState([]),[N,j]=F.useState(!1),[L,B]=F.useState(!1),[D,$]=F.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=F.useRef(null),Q=F.useRef(!1),re=F.useCallback(Y=>{C(Z=>{var W;return(W=Z.find(se=>se.id===Y.id))!=null&&W.delete||an.dismiss(Y.id),Z.filter(({id:se})=>se!==Y.id)})},[]);return F.useEffect(()=>an.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{C(Z=>Z.map(W=>W.id===Y.id?{...W,delete:!0}:W))});return}setTimeout(()=>{S_.flushSync(()=>{C(Z=>{const W=Z.findIndex(se=>se.id===Y.id);return W!==-1?[...Z.slice(0,W),{...Z[W],...Y},...Z.slice(W+1)]:[Y,...Z]})})})}),[T]),F.useEffect(()=>{if(m!=="system"){$(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:Z})=>{$(Z?"dark":"light")})}catch{Y.addListener(({matches:W})=>{try{$(W?"dark":"light")}catch(se){console.error(se)}})}},[m]),F.useEffect(()=>{T.length<=1&&j(!1)},[T]),F.useEffect(()=>{const Y=Z=>{var W;if(i.every(fe=>Z[fe]||Z.code===fe)){var de;j(!0),(de=U.current)==null||de.focus()}Z.code==="Escape"&&(document.activeElement===U.current||(W=U.current)!=null&&W.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[i]),F.useEffect(()=>{if(U.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,Q.current=!1)}},[U.current]),F.createElement("section",{ref:n,"aria-label":`${R} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Y,Z)=>{var W;const[se,de]=Y.split("-");return M.length?F.createElement("ol",{key:Y,dir:p==="auto"?tx():p,tabIndex:-1,ref:U,className:u,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":se,"data-x-position":de,style:{"--front-toast-height":`${((W=E[0])==null?void 0:W.height)||0}px`,"--width":`${oM}px`,"--gap":`${x}px`,...v,...hM(f,d)},onBlur:fe=>{Q.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(Q.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,H.current=fe.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{L||j(!1)},onDragEnd:()=>j(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},M.filter(fe=>!fe.position&&Z===0||fe.position===Y).map((fe,Te)=>{var _t,hn;return F.createElement(fM,{key:fe.id,icons:_,index:Te,toast:fe,defaultRichColors:h,duration:(_t=g==null?void 0:g.duration)!=null?_t:y,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:s,visibleToasts:b,closeButton:(hn=g==null?void 0:g.closeButton)!=null?hn:c,interacting:L,position:Y,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,closeButtonAriaLabel:g==null?void 0:g.closeButtonAriaLabel,removeToast:re,toasts:M.filter(kn=>kn.position==fe.position),heights:E.filter(kn=>kn.position==fe.position),setHeights:k,expandByDefault:o,gap:x,expanded:N,swipeDirections:t.swipeDirections})})):null}))});var gd={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",SERVER_ERROR:"SERVER_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",UI_ERROR:"UI_ERROR",API_ERROR:"API_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",DUPLICATE_ERROR:"DUPLICATE_ERROR"},nx={PAGE_SIZE:10,PAGE_SIZE_OPTIONS:[10,25,50,100],MAX_VISIBLE_PAGES:5};function rx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _h(...e){return t=>{let n=!1;const r=e.map(s=>{const a=rx(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():rx(e[s],null)}}}}function dn(...e){return w.useCallback(_h(...e),e)}function Vc(e){const t=gM(e),n=w.forwardRef((r,s)=>{const{children:a,...i}=r,o=w.Children.toArray(a),c=o.find(vM);if(c){const u=c.props.children,f=o.map(d=>d===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...i,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return l.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var D1=Vc("Slot");function gM(e){const t=w.forwardRef((n,r)=>{const{children:s,...a}=n;if(w.isValidElement(s)){const i=bM(s),o=yM(a,s.props);return s.type!==w.Fragment&&(o.ref=r?_h(r,i):i),w.cloneElement(s,o)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pM=Symbol("radix.slottable");function vM(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pM}function yM(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...o)=>{const c=a(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function bM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function k1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=k1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function I1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=k1(e))&&(r&&(r+=" "),r+=t);return r}const py="-",xM=e=>{const t=_M(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const o=i.split(py);return o[0]===""&&o.length!==1&&o.shift(),L1(o,t)||wM(i)},getConflictingClassGroupIds:(i,o)=>{const c=n[i]||[];return o&&r[i]?[...c,...r[i]]:c}}},L1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?L1(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(py);return(i=t.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},sx=/^\[(.+)\]$/,wM=e=>{if(sx.test(e)){const t=sx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_M=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return EM(Object.entries(e.classGroups),n).forEach(([a,i])=>{vp(i,r,a,t)}),r},vp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:ax(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(SM(s)){vp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{vp(i,ax(t,a),n,r)})})},ax=(e,t)=>{let n=e;return t.split(py).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SM=e=>e.isThemeGetter,EM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,o])=>[t+i,o])):a);return[n,s]}):e,RM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},U1="!",jM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,i=o=>{const c=[];let u=0,f=0,d;for(let b=0;b<o.length;b++){let g=o[b];if(u===0){if(g===s&&(r||o.slice(b,b+a)===t)){c.push(o.slice(f,b)),f=b+a;continue}if(g==="/"){d=b;continue}}g==="["?u++:g==="]"&&u--}const m=c.length===0?o:o.substring(f),h=m.startsWith(U1),y=h?m.substring(1):m,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:i}):i},CM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},NM=e=>({cache:RM(e.cacheSize),parseClassName:jM(e),...xM(e)}),OM=/\s+/,TM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(OM);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:f,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let y=!!h,v=r(y?m.substring(0,h):m);if(!v){if(!y){o=u+(o.length>0?" "+o:o);continue}if(v=r(m),!v){o=u+(o.length>0?" "+o:o);continue}y=!1}const b=CM(f).join(":"),g=d?b+U1:b,p=g+v;if(a.includes(p))continue;a.push(p);const x=s(v,y);for(let _=0;_<x.length;++_){const R=x[_];a.push(g+R)}o=u+(o.length>0?" "+o:o)}return o};function AM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=z1(t))&&(r&&(r+=" "),r+=n);return r}const z1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=z1(e[r]))&&(n&&(n+=" "),n+=t);return n};function MM(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((f,d)=>d(f),e());return n=NM(u),r=n.cache.get,s=n.cache.set,a=o,o(c)}function o(c){const u=r(c);if(u)return u;const f=TM(c,n);return s(c,f),f}return function(){return a(AM.apply(null,arguments))}}const Ke=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},P1=/^\[(?:([a-z-]+):)?(.+)\]$/i,DM=/^\d+\/\d+$/,kM=new Set(["px","full","screen"]),IM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vr=e=>wo(e)||kM.has(e)||DM.test(e),Es=e=>El(e,"length",KM),wo=e=>!!e&&!Number.isNaN(Number(e)),Rm=e=>El(e,"number",wo),Gl=e=>!!e&&Number.isInteger(Number(e)),$M=e=>e.endsWith("%")&&wo(e.slice(0,-1)),_e=e=>P1.test(e),Rs=e=>IM.test(e),FM=new Set(["length","size","percentage"]),qM=e=>El(e,FM,$1),BM=e=>El(e,"position",$1),VM=new Set(["image","url"]),HM=e=>El(e,VM,YM),GM=e=>El(e,"",QM),Kl=()=>!0,El=(e,t,n)=>{const r=P1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},KM=e=>LM.test(e)&&!UM.test(e),$1=()=>!1,QM=e=>zM.test(e),YM=e=>PM.test(e),XM=()=>{const e=Ke("colors"),t=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),s=Ke("borderColor"),a=Ke("borderRadius"),i=Ke("borderSpacing"),o=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),d=Ke("invert"),m=Ke("gap"),h=Ke("gradientColorStops"),y=Ke("gradientColorStopPositions"),v=Ke("inset"),b=Ke("margin"),g=Ke("opacity"),p=Ke("padding"),x=Ke("saturate"),_=Ke("scale"),R=Ke("sepia"),T=Ke("skew"),C=Ke("space"),M=Ke("translate"),O=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",_e,t],N=()=>[_e,t],j=()=>["",Vr,Es],L=()=>["auto",wo,_e],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",_e],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[wo,_e];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[Vr,Es],blur:["none","",Rs,_e],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Rs,_e],borderSpacing:N(),borderWidth:j(),contrast:Q(),grayscale:P(),hueRotate:Q(),invert:P(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[$M,Es],inset:k(),margin:k(),opacity:Q(),padding:N(),saturate:Q(),scale:Q(),sepia:P(),skew:Q(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),_e]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,_e]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Gl,_e]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Gl,_e]},_e]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Gl,_e]},_e]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rm]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",wo,Rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vr,Es]}],"underline-offset":[{"underline-offset":["auto",Vr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),BM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Vr,_e]}],"outline-w":[{outline:[Vr,Es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Vr,Es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,GM]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Gl,_e]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vr,Es,Rm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZM=MM(XM);function WM(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let yp=1;class JM{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:yp++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:o,title:r}):c):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,i;const o=s.then(async u=>{if(i=["resolve",u],F.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(tD(u)&&!u.ok){a=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...y})}else if(u instanceof Error){a=!1;const d=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...y})}else if(n.success!==void 0){a=!1;const d=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!F.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:m,...y})}}).catch(async u=>{if(i=["reject",u],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(u):n.error,d=typeof n.description=="function"?await n.description(u):n.description,h=typeof f=="object"&&!F.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:d,...h})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,f)=>o.then(()=>i[0]==="reject"?f(i[1]):u(i[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||yp++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ln=new JM,eD=(e,t)=>{const n=(t==null?void 0:t.id)||yp++;return Ln.addToast({title:e,...t,id:n}),n},tD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nD=eD,rD=()=>Ln.toasts,sD=()=>Ln.getActiveToasts(),F1=Object.assign(nD,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:rD,getToasts:sD});WM("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const ix=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ox=I1,q1=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ox(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],d=a==null?void 0:a[u];if(f===null)return null;const m=ix(f)||ix(d);return s[u][m]}),o=n&&Object.entries(n).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:m,...h}=f;return Object.entries(h).every(y=>{let[v,b]=y;return Array.isArray(b)?b.includes({...a,...o}[v]):{...a,...o}[v]===b})?[...u,d,m]:u},[]);return ox(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function aa(e,t){return typeof e=="function"?e(t):e}function Dn(e,t){return n=>{t.setState(r=>({...r,[e]:aa(n,r[e])}))}}function Sh(e){return e instanceof Function}function aD(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function iD(e,t){const n=[],r=s=>{s.forEach(a=>{n.push(a);const i=t(a);i!=null&&i.length&&r(i)})};return r(e),n}function me(e,t,n){let r=[],s;return a=>{let i;n.key&&n.debug&&(i=Date.now());const o=e(a);if(!(o.length!==r.length||o.some((f,d)=>r[d]!==f)))return s;r=o;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...o),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-i)*100)/100,d=Math.round((Date.now()-u)*100)/100,m=d/16,h=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${h(d,5)} /${h(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function ge(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function oD(e,t,n,r){const s=()=>{var i;return(i=a.getValue())!=null?i:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:me(()=>[e,n,t,a],(i,o,c,u)=>({table:i,column:o,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),ge(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(a,n,t,e)},{}),a}function lD(e,t,n,r){var s,a;const o={...e._getDefaultColumnDef(),...t},c=o.accessorKey;let u=(s=(a=o.id)!=null?a:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof o.header=="string"?o.header:void 0,f;if(o.accessorFn?f=o.accessorFn:c&&(c.includes(".")?f=m=>{let h=m;for(const v of c.split(".")){var y;h=(y=h)==null?void 0:y[v]}return h}:f=m=>m[o.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:o,columns:[],getFlatColumns:me(()=>[!0],()=>{var m;return[d,...(m=d.columns)==null?void 0:m.flatMap(h=>h.getFlatColumns())]},ge(e.options,"debugColumns")),getLeafColumns:me(()=>[e._getOrderColumnsFn()],m=>{var h;if((h=d.columns)!=null&&h.length){let y=d.columns.flatMap(v=>v.getLeafColumns());return m(y)}return[d]},ge(e.options,"debugColumns"))};for(const m of e._features)m.createColumn==null||m.createColumn(d,e);return d}const Ft="debugHeaders";function lx(e,t,n){var r;let a={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],o=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(o),i.push(c)};return o(a),i},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(a,e)}),a}const cD={createTable:e=>{e.getHeaderGroups=me(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var a,i;const o=(a=r==null?void 0:r.map(d=>n.find(m=>m.id===d)).filter(Boolean))!=null?a:[],c=(i=s==null?void 0:s.map(d=>n.find(m=>m.id===d)).filter(Boolean))!=null?i:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(s!=null&&s.includes(d.id)));return pd(t,[...o,...u,...c],e)},ge(e.options,Ft)),e.getCenterHeaderGroups=me(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),pd(t,n,e,"center")),ge(e.options,Ft)),e.getLeftHeaderGroups=me(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(i=>n.find(o=>o.id===i)).filter(Boolean))!=null?s:[];return pd(t,a,e,"left")},ge(e.options,Ft)),e.getRightHeaderGroups=me(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const a=(s=r==null?void 0:r.map(i=>n.find(o=>o.id===i)).filter(Boolean))!=null?s:[];return pd(t,a,e,"right")},ge(e.options,Ft)),e.getFooterGroups=me(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ge(e.options,Ft)),e.getLeftFooterGroups=me(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ge(e.options,Ft)),e.getCenterFooterGroups=me(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ge(e.options,Ft)),e.getRightFooterGroups=me(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ge(e.options,Ft)),e.getFlatHeaders=me(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),ge(e.options,Ft)),e.getLeftFlatHeaders=me(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),ge(e.options,Ft)),e.getCenterFlatHeaders=me(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),ge(e.options,Ft)),e.getRightFlatHeaders=me(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),ge(e.options,Ft)),e.getCenterLeafHeaders=me(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ge(e.options,Ft)),e.getLeftLeafHeaders=me(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ge(e.options,Ft)),e.getRightLeafHeaders=me(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ge(e.options,Ft)),e.getLeafHeaders=me(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,a,i,o,c,u;return[...(s=(a=t[0])==null?void 0:a.headers)!=null?s:[],...(i=(o=n[0])==null?void 0:o.headers)!=null?i:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(f=>f.getLeafHeaders()).flat()},ge(e.options,Ft))}};function pd(e,t,n,r){var s,a;let i=0;const o=function(m,h){h===void 0&&(h=1),i=Math.max(i,h),m.filter(y=>y.getIsVisible()).forEach(y=>{var v;(v=y.columns)!=null&&v.length&&o(y.columns,h+1)},0)};o(e);let c=[];const u=(m,h)=>{const y={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},v=[];m.forEach(b=>{const g=[...v].reverse()[0],p=b.column.depth===y.depth;let x,_=!1;if(p&&b.column.parent?x=b.column.parent:(x=b.column,_=!0),g&&(g==null?void 0:g.column)===x)g.subHeaders.push(b);else{const R=lx(n,x,{id:[r,h,x.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${v.filter(T=>T.column===x).length}`:void 0,depth:h,index:v.length});R.subHeaders.push(b),v.push(R)}y.headers.push(b),b.headerGroup=y}),c.push(y),h>0&&u(v,h-1)},f=t.map((m,h)=>lx(n,m,{depth:i,index:h}));u(f,i-1),c.reverse();const d=m=>m.filter(y=>y.column.getIsVisible()).map(y=>{let v=0,b=0,g=[0];y.subHeaders&&y.subHeaders.length?(g=[],d(y.subHeaders).forEach(x=>{let{colSpan:_,rowSpan:R}=x;v+=_,g.push(R)})):v=1;const p=Math.min(...g);return b=b+p,y.colSpan=v,y.rowSpan=b,{colSpan:v,rowSpan:b}});return d((s=(a=c[0])==null?void 0:a.headers)!=null?s:[]),c}const vy=(e,t,n,r,s,a,i)=>{let o={id:t,index:r,original:n,depth:s,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(o._valuesCache.hasOwnProperty(c))return o._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return o._valuesCache[c]=u.accessorFn(o.original,r),o._valuesCache[c]},getUniqueValues:c=>{if(o._uniqueValuesCache.hasOwnProperty(c))return o._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[c]=u.columnDef.getUniqueValues(o.original,r),o._uniqueValuesCache[c]):(o._uniqueValuesCache[c]=[o.getValue(c)],o._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=o.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>iD(o.subRows,c=>c.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let c=[],u=o;for(;;){const f=u.getParentRow();if(!f)break;c.push(f),u=f}return c.reverse()},getAllCells:me(()=>[e.getAllLeafColumns()],c=>c.map(u=>oD(e,o,u,u.id)),ge(e.options,"debugRows")),_getAllCellsByColumnId:me(()=>[o.getAllCells()],c=>c.reduce((u,f)=>(u[f.column.id]=f,u),{}),ge(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(o,e)}return o},uD={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},B1=(e,t,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};B1.autoRemove=e=>hr(e);const V1=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};V1.autoRemove=e=>hr(e);const H1=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};H1.autoRemove=e=>hr(e);const G1=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};G1.autoRemove=e=>hr(e);const K1=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});K1.autoRemove=e=>hr(e)||!(e!=null&&e.length);const Q1=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});Q1.autoRemove=e=>hr(e)||!(e!=null&&e.length);const Y1=(e,t,n)=>e.getValue(t)===n;Y1.autoRemove=e=>hr(e);const X1=(e,t,n)=>e.getValue(t)==n;X1.autoRemove=e=>hr(e);const yy=(e,t,n)=>{let[r,s]=n;const a=e.getValue(t);return a>=r&&a<=s};yy.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(s)?1/0:s;if(a>i){const o=a;a=i,i=o}return[a,i]};yy.autoRemove=e=>hr(e)||hr(e[0])&&hr(e[1]);const Qr={includesString:B1,includesStringSensitive:V1,equalsString:H1,arrIncludes:G1,arrIncludesAll:K1,arrIncludesSome:Q1,equals:Y1,weakEquals:X1,inNumberRange:yy};function hr(e){return e==null||e===""}const dD={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Dn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Qr.includesString:typeof r=="number"?Qr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Qr.equals:Array.isArray(r)?Qr.arrIncludes:Qr.weakEquals},e.getFilterFn=()=>{var n,r;return Sh(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Qr[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),a=r==null?void 0:r.find(f=>f.id===e.id),i=aa(n,a?a.value:void 0);if(cx(s,i,e)){var o;return(o=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?o:[]}const c={id:e.id,value:i};if(a){var u;return(u=r==null?void 0:r.map(f=>f.id===e.id?c:f))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var a;return(a=aa(t,s))==null?void 0:a.filter(i=>{const o=n.find(c=>c.id===i.id);if(o){const c=o.getFilterFn();if(cx(c,i.value,o))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function cx(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const fD=(e,t,n)=>n.reduce((r,s)=>{const a=s.getValue(e);return r+(typeof a=="number"?a:0)},0),hD=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},mD=(e,t,n)=>{let r;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},gD=(e,t,n)=>{let r,s;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r===void 0?i>=i&&(r=s=i):(r>i&&(r=i),s<i&&(s=i)))}),[r,s]},pD=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let a=s.getValue(e);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},vD=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!aD(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,i)=>a-i);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},yD=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bD=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,xD=(e,t)=>t.length,jm={sum:fD,min:hD,max:mD,extent:gD,mean:pD,median:vD,unique:yD,uniqueCount:bD,count:xD},wD={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Dn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return jm.sum;if(Object.prototype.toString.call(r)==="[object Date]")return jm.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Sh(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:jm[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function _D(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(a=>!t.includes(a.id));return n==="remove"?r:[...t.map(a=>e.find(i=>i.id===a)).filter(Boolean),...r]}const SD={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Dn("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=me(n=>[xc(t,n)],n=>n.findIndex(r=>r.id===e.id),ge(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=xc(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=xc(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=me(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let a=[];if(!(t!=null&&t.length))a=s;else{const i=[...t],o=[...s];for(;o.length&&i.length;){const c=i.shift(),u=o.findIndex(f=>f.id===c);u>-1&&a.push(o.splice(u,1)[0])}a=[...a,...o]}return _D(a,n,r)},ge(e.options,"debugTable"))}},Cm=()=>({left:[],right:[]}),ED={getInitialState:e=>({columnPinning:Cm(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Dn("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var a,i;if(n==="right"){var o,c;return{left:((o=s==null?void 0:s.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,f;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((f=s==null?void 0:s.right)!=null?f:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:((i=s==null?void 0:s.right)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,a,i;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(o=>o.id),{left:r,right:s}=t.getState().columnPinning,a=n.some(o=>r==null?void 0:r.includes(o)),i=n.some(o=>s==null?void 0:s.includes(o));return a?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=me(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(i=>!a.includes(i.column.id))},ge(t.options,"debugRows")),e.getLeftVisibleCells=me(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(i=>i.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),ge(t.options,"debugRows")),e.getRightVisibleCells=me(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(i=>i.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),ge(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Cm():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Cm())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=me(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),ge(e.options,"debugColumns")),e.getRightLeafColumns=me(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),ge(e.options,"debugColumns")),e.getCenterLeafColumns=me(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(a=>!s.includes(a.id))},ge(e.options,"debugColumns"))}};function RD(e){return e||(typeof document<"u"?document:null)}const vd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Nm=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),jD={getDefaultColumnDef:()=>vd,getInitialState:e=>({columnSizing:{},columnSizingInfo:Nm(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Dn("columnSizing",e),onColumnSizingInfoChange:Dn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:vd.minSize,(r=a??e.columnDef.size)!=null?r:vd.size),(s=e.columnDef.maxSize)!=null?s:vd.maxSize)},e.getStart=me(n=>[n,xc(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),ge(t.options,"debugColumns")),e.getAfter=me(n=>[n,xc(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),ge(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),Om(a)&&a.touches&&a.touches.length>1))return;const i=e.getSize(),o=e?e.getLeafHeaders().map(g=>[g.column.id,g.column.getSize()]):[[r.id,r.getSize()]],c=Om(a)?Math.round(a.touches[0].clientX):a.clientX,u={},f=(g,p)=>{typeof p=="number"&&(t.setColumnSizingInfo(x=>{var _,R;const T=t.options.columnResizeDirection==="rtl"?-1:1,C=(p-((_=x==null?void 0:x.startOffset)!=null?_:0))*T,M=Math.max(C/((R=x==null?void 0:x.startSize)!=null?R:0),-.999999);return x.columnSizingStart.forEach(O=>{let[E,k]=O;u[E]=Math.round(Math.max(k+k*M,0)*100)/100}),{...x,deltaOffset:C,deltaPercentage:M}}),(t.options.columnResizeMode==="onChange"||g==="end")&&t.setColumnSizing(x=>({...x,...u})))},d=g=>f("move",g),m=g=>{f("end",g),t.setColumnSizingInfo(p=>({...p,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=RD(n),y={moveHandler:g=>d(g.clientX),upHandler:g=>{h==null||h.removeEventListener("mousemove",y.moveHandler),h==null||h.removeEventListener("mouseup",y.upHandler),m(g.clientX)}},v={moveHandler:g=>(g.cancelable&&(g.preventDefault(),g.stopPropagation()),d(g.touches[0].clientX),!1),upHandler:g=>{var p;h==null||h.removeEventListener("touchmove",v.moveHandler),h==null||h.removeEventListener("touchend",v.upHandler),g.cancelable&&(g.preventDefault(),g.stopPropagation()),m((p=g.touches[0])==null?void 0:p.clientX)}},b=CD()?{passive:!1}:!1;Om(a)?(h==null||h.addEventListener("touchmove",v.moveHandler,b),h==null||h.addEventListener("touchend",v.upHandler,b)):(h==null||h.addEventListener("mousemove",y.moveHandler,b),h==null||h.addEventListener("mouseup",y.upHandler,b)),t.setColumnSizingInfo(g=>({...g,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Nm():(n=e.initialState.columnSizingInfo)!=null?n:Nm())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let yd=null;function CD(){if(typeof yd=="boolean")return yd;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return yd=e,yd}function Om(e){return e.type==="touchstart"}const ND={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Dn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=me(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ge(t.options,"debugRows")),e.getVisibleCells=me(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],ge(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>me(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),ge(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function xc(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const OD={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},TD={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Dn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Qr.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Sh(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Qr[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},AD={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Dn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,a;e.setExpanded(r?{}:(s=(a=e.initialState)==null?void 0:a.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const i=a.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(o=>{i[o]=!0}):i=r,n=(s=n)!=null?s:!a,!a&&n)return{...i,[e.id]:!0};if(a&&!n){const{[e.id]:o,...c}=i;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},bp=0,xp=10,Tm=()=>({pageIndex:bp,pageSize:xp}),MD={getInitialState:e=>({...e,pagination:{...Tm(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Dn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=a=>aa(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Tm():(s=e.initialState.pagination)!=null?s:Tm())},e.setPageIndex=r=>{e.setPagination(s=>{let a=aa(r,s.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,i)),{...s,pageIndex:a}})},e.resetPageIndex=r=>{var s,a;e.setPageIndex(r?bp:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:bp)},e.resetPageSize=r=>{var s,a;e.setPageSize(r?xp:(s=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:xp)},e.setPageSize=r=>{e.setPagination(s=>{const a=Math.max(1,aa(r,s.pageSize)),i=s.pageSize*s.pageIndex,o=Math.floor(i/a);return{...s,pageIndex:o,pageSize:a}})},e.setPageCount=r=>e.setPagination(s=>{var a;let i=aa(r,(a=e.options.pageCount)!=null?a:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...s,pageCount:i}}),e.getPageOptions=me(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,i)=>i)),s},ge(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Am=()=>({top:[],bottom:[]}),DD={getInitialState:e=>({rowPinning:Am(),...e}),getDefaultOptions:e=>({onRowPinningChange:Dn("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const a=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],i=s?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],o=new Set([...i,e.id,...a]);t.setRowPinning(c=>{var u,f;if(n==="bottom"){var d,m;return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(v=>!(o!=null&&o.has(v))),bottom:[...((m=c==null?void 0:c.bottom)!=null?m:[]).filter(v=>!(o!=null&&o.has(v))),...Array.from(o)]}}if(n==="top"){var h,y;return{top:[...((h=c==null?void 0:c.top)!=null?h:[]).filter(v=>!(o!=null&&o.has(v))),...Array.from(o)],bottom:((y=c==null?void 0:c.bottom)!=null?y:[]).filter(v=>!(o!=null&&o.has(v)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(v=>!(o!=null&&o.has(v))),bottom:((f=c==null?void 0:c.bottom)!=null?f:[]).filter(v=>!(o!=null&&o.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,a=n.some(o=>r==null?void 0:r.includes(o)),i=n.some(o=>s==null?void 0:s.includes(o));return a?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const a=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:o}=i;return o});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Am():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Am())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(i=>{const o=e.getRow(i,!0);return o.getIsAllParentsExpanded()?o:null}):(n??[]).map(i=>t.find(o=>o.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=me(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),ge(e.options,"debugRows")),e.getBottomRows=me(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),ge(e.options,"debugRows")),e.getCenterRows=me(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(a=>!s.has(a.id))},ge(e.options,"debugRows"))}},kD={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Dn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(a=>{wp(s,a.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=me(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Mm(e,n):{rows:[],flatRows:[],rowsById:{}},ge(e.options,"debugTable")),e.getFilteredSelectedRowModel=me(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Mm(e,n):{rows:[],flatRows:[],rowsById:{}},ge(e.options,"debugTable")),e.getGroupedSelectedRowModel=me(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Mm(e,n):{rows:[],flatRows:[],rowsById:{}},ge(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(a=>{var i;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return a;const o={...a};return wp(o,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),o})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return by(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return _p(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return _p(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},wp=(e,t,n,r,s)=>{var a;const i=s.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(o=>delete e[o]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(a=i.subRows)!=null&&a.length&&i.getCanSelectSubRows()&&i.subRows.forEach(o=>wp(e,o.id,n,r,s))};function Mm(e,t){const n=e.getState().rowSelection,r=[],s={},a=function(i,o){return i.map(c=>{var u;const f=by(c,n);if(f&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:a(c.subRows)}),f)return c}).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:s}}function by(e,t){var n;return(n=t[e.id])!=null?n:!1}function _p(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return e.subRows.forEach(i=>{if(!(a&&!s)&&(i.getCanSelect()&&(by(i,t)?a=!0:s=!1),i.subRows&&i.subRows.length)){const o=_p(i,t);o==="all"?a=!0:(o==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const Sp=/([0-9]+)/gm,ID=(e,t,n)=>Z1(wa(e.getValue(n)).toLowerCase(),wa(t.getValue(n)).toLowerCase()),LD=(e,t,n)=>Z1(wa(e.getValue(n)),wa(t.getValue(n))),UD=(e,t,n)=>xy(wa(e.getValue(n)).toLowerCase(),wa(t.getValue(n)).toLowerCase()),zD=(e,t,n)=>xy(wa(e.getValue(n)),wa(t.getValue(n))),PD=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},$D=(e,t,n)=>xy(e.getValue(n),t.getValue(n));function xy(e,t){return e===t?0:e>t?1:-1}function wa(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Z1(e,t){const n=e.split(Sp).filter(Boolean),r=t.split(Sp).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),i=parseInt(s,10),o=parseInt(a,10),c=[i,o].sort();if(isNaN(c[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>o)return 1;if(o>i)return-1}return n.length-r.length}const Ql={alphanumeric:ID,alphanumericCaseSensitive:LD,text:UD,textCaseSensitive:zD,datetime:PD,basic:$D},FD={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Dn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Ql.datetime;if(typeof a=="string"&&(r=!0,a.split(Sp).length>1))return Ql.alphanumeric}return r?Ql.text:Ql.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Sh(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ql[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(i=>{const o=i==null?void 0:i.find(h=>h.id===e.id),c=i==null?void 0:i.findIndex(h=>h.id===e.id);let u=[],f,d=a?n:s==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?o?f="toggle":f="add":i!=null&&i.length&&c!==i.length-1?f="replace":o?f="toggle":f="replace",f==="toggle"&&(a||s||(f="remove")),f==="add"){var m;u=[...i,{id:e.id,desc:d}],u.splice(0,u.length-((m=t.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=i.map(h=>h.id===e.id?{...h,desc:d}:h):f==="remove"?u=i.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const a=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==a&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:i==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},qD=[cD,ND,SD,ED,uD,dD,OD,TD,FD,wD,AD,MD,DD,kD,jD];function BD(e){var t,n;const r=[...qD,...(t=e._features)!=null?t:[]];let s={_features:r};const a=s._features.reduce((m,h)=>Object.assign(m,h.getDefaultOptions==null?void 0:h.getDefaultOptions(s)),{}),i=m=>s.options.mergeOptions?s.options.mergeOptions(a,m):{...a,...m};let c={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(m=>{var h;c=(h=m.getInitialState==null?void 0:m.getInitialState(c))!=null?h:c});const u=[];let f=!1;const d={_features:r,options:{...a,...e},initialState:c,_queue:m=>{u.push(m),f||(f=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();f=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{s.setState(s.initialState)},setOptions:m=>{const h=aa(m,s.options);s.options=i(h)},getState:()=>s.options.state,setState:m=>{s.options.onStateChange==null||s.options.onStateChange(m)},_getRowId:(m,h,y)=>{var v;return(v=s.options.getRowId==null?void 0:s.options.getRowId(m,h,y))!=null?v:`${y?[y.id,h].join("."):h}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(m,h)=>{let y=(h?s.getPrePaginationRowModel():s.getRowModel()).rowsById[m];if(!y&&(y=s.getCoreRowModel().rowsById[m],!y))throw new Error;return y},_getDefaultColumnDef:me(()=>[s.options.defaultColumn],m=>{var h;return m=(h=m)!=null?h:{},{header:y=>{const v=y.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:y=>{var v,b;return(v=(b=y.renderValue())==null||b.toString==null?void 0:b.toString())!=null?v:null},...s._features.reduce((y,v)=>Object.assign(y,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...m}},ge(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:me(()=>[s._getColumnDefs()],m=>{const h=function(y,v,b){return b===void 0&&(b=0),y.map(g=>{const p=lD(s,g,b,v),x=g;return p.columns=x.columns?h(x.columns,p,b+1):[],p})};return h(m)},ge(e,"debugColumns")),getAllFlatColumns:me(()=>[s.getAllColumns()],m=>m.flatMap(h=>h.getFlatColumns()),ge(e,"debugColumns")),_getAllFlatColumnsById:me(()=>[s.getAllFlatColumns()],m=>m.reduce((h,y)=>(h[y.id]=y,h),{}),ge(e,"debugColumns")),getAllLeafColumns:me(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(m,h)=>{let y=m.flatMap(v=>v.getLeafColumns());return h(y)},ge(e,"debugColumns")),getColumn:m=>s._getAllFlatColumnsById()[m]};Object.assign(s,d);for(let m=0;m<s._features.length;m++){const h=s._features[m];h==null||h.createTable==null||h.createTable(s)}return s}function VD(){return e=>me(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,i){a===void 0&&(a=0);const o=[];for(let u=0;u<s.length;u++){const f=vy(e,e._getRowId(s[u],u,i),s[u],u,a,void 0,i==null?void 0:i.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,o.push(f),e.options.getSubRows){var c;f.originalSubRows=e.options.getSubRows(s[u],u),(c=f.originalSubRows)!=null&&c.length&&(f.subRows=r(f.originalSubRows,a+1,f))}}return o};return n.rows=r(t),n},ge(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function HD(e,t,n){return n.options.filterFromLeafRows?GD(e,t,n):KD(e,t,n)}function GD(e,t,n){var r;const s=[],a={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,o=function(c,u){u===void 0&&(u=0);const f=[];for(let m=0;m<c.length;m++){var d;let h=c[m];const y=vy(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(y.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<i){if(y.subRows=o(h.subRows,u+1),h=y,t(h)&&!y.subRows.length){f.push(h),a[h.id]=h,s.push(h);continue}if(t(h)||y.subRows.length){f.push(h),a[h.id]=h,s.push(h);continue}}else h=y,t(h)&&(f.push(h),a[h.id]=h,s.push(h))}return f};return{rows:o(e),flatRows:s,rowsById:a}}function KD(e,t,n){var r;const s=[],a={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,o=function(c,u){u===void 0&&(u=0);const f=[];for(let m=0;m<c.length;m++){let h=c[m];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<i){const v=vy(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);v.subRows=o(h.subRows,u+1),h=v}f.push(h),s.push(h),a[h.id]=h}}return f};return{rows:o(e),flatRows:s,rowsById:a}}function QD(){return e=>me(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let m=0;m<t.flatRows.length;m++)t.flatRows[m].columnFilters={},t.flatRows[m].columnFiltersMeta={};return t}const s=[],a=[];(n??[]).forEach(m=>{var h;const y=e.getColumn(m.id);if(!y)return;const v=y.getFilterFn();v&&s.push({id:m.id,filterFn:v,resolvedValue:(h=v.resolveFilterValue==null?void 0:v.resolveFilterValue(m.value))!=null?h:m.value})});const i=(n??[]).map(m=>m.id),o=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());r&&o&&c.length&&(i.push("__global__"),c.forEach(m=>{var h;a.push({id:m.id,filterFn:o,resolvedValue:(h=o.resolveFilterValue==null?void 0:o.resolveFilterValue(r))!=null?h:r})}));let u,f;for(let m=0;m<t.flatRows.length;m++){const h=t.flatRows[m];if(h.columnFilters={},s.length)for(let y=0;y<s.length;y++){u=s[y];const v=u.id;h.columnFilters[v]=u.filterFn(h,v,u.resolvedValue,b=>{h.columnFiltersMeta[v]=b})}if(a.length){for(let y=0;y<a.length;y++){f=a[y];const v=f.id;if(f.filterFn(h,v,f.resolvedValue,b=>{h.columnFiltersMeta[v]=b})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=m=>{for(let h=0;h<i.length;h++)if(m.columnFilters[i[h]]===!1)return!1;return!0};return HD(t.rows,d,e)},ge(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function YD(){return e=>me(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],a=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),i={};a.forEach(c=>{const u=e.getColumn(c.id);u&&(i[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const o=c=>{const u=c.map(f=>({...f}));return u.sort((f,d)=>{for(let h=0;h<a.length;h+=1){var m;const y=a[h],v=i[y.id],b=v.sortUndefined,g=(m=y==null?void 0:y.desc)!=null?m:!1;let p=0;if(b){const x=f.getValue(y.id),_=d.getValue(y.id),R=x===void 0,T=_===void 0;if(R||T){if(b==="first")return R?-1:1;if(b==="last")return R?1:-1;p=R&&T?0:R?b:-b}}if(p===0&&(p=v.sortingFn(f,d,y.id)),p!==0)return g&&(p*=-1),v.invertSorting&&(p*=-1),p}return f.index-d.index}),u.forEach(f=>{var d;s.push(f),(d=f.subRows)!=null&&d.length&&(f.subRows=o(f.subRows))}),u};return{rows:o(n.rows),flatRows:s,rowsById:n.rowsById}},ge(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ux(e,t){return e?XD(e)?w.createElement(e,t):e:null}function XD(e){return ZD(e)||typeof e=="function"||WD(e)}function ZD(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function WD(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function JD(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=w.useState(()=>({current:BD(t)})),[r,s]=w.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:i=>{s(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}var Iu=e=>e.type==="checkbox",Ga=e=>e instanceof Date,on=e=>e==null;const W1=e=>typeof e=="object";var vt=e=>!on(e)&&!Array.isArray(e)&&W1(e)&&!Ga(e),ek=e=>vt(e)&&e.target?Iu(e.target)?e.target.checked:e.target.value:e,tk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,nk=(e,t)=>e.has(tk(t)),rk=e=>{const t=e.constructor&&e.constructor.prototype;return vt(t)&&t.hasOwnProperty("isPrototypeOf")},wy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(wy&&(e instanceof Blob||r))&&(n||vt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!rk(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Et(e[s]));else return e;return t}var Eh=e=>/^\w*$/.test(e),it=e=>e===void 0,_y=e=>Array.isArray(e)?e.filter(Boolean):[],Sy=e=>_y(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,n)=>{if(!t||!vt(e))return n;const r=(Eh(t)?[t]:Sy(t)).reduce((s,a)=>on(s)?s:s[a],e);return it(r)||r===e?it(e[t])?n:e[t]:r},br=e=>typeof e=="boolean",We=(e,t,n)=>{let r=-1;const s=Eh(t)?[t]:Sy(t),a=s.length,i=a-1;for(;++r<a;){const o=s[r];let c=n;if(r!==i){const u=e[o];c=vt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const dx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},dr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sk=F.createContext(null);sk.displayName="HookFormContext";var ak=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==dr.all&&(t._proxyFormState[i]=!r||dr.all),n&&(n[i]=!0),e[i]}});return s};const ik=typeof window<"u"?F.useLayoutEffect:F.useEffect;var wn=e=>typeof e=="string",ok=(e,t,n,r,s)=>wn(e)?(r&&t.watch.add(e),le(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),le(n,a))):(r&&(t.watchAll=!0),n),Ep=e=>on(e)||!W1(e);function Ls(e,t,n=new WeakSet){if(Ep(e)||Ep(t))return e===t;if(Ga(e)&&Ga(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Ga(i)&&Ga(o)||vt(i)&&vt(o)||Array.isArray(i)&&Array.isArray(o)?!Ls(i,o,n):i!==o)return!1}}return!0}var lk=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},wc=e=>Array.isArray(e)?e:[e],fx=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function J1(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&vt(s)&&a){const i=J1(s,a);vt(i)&&(n[r]=i)}else e[r]&&(n[r]=a)}return n}var rn=e=>vt(e)&&!Object.keys(e).length,Ey=e=>e.type==="file",fr=e=>typeof e=="function",Uf=e=>{if(!wy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eR=e=>e.type==="select-multiple",Ry=e=>e.type==="radio",ck=e=>Ry(e)||Iu(e),Dm=e=>Uf(e)&&e.isConnected;function uk(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=it(e)?r++:e[t[r++]];return e}function dk(e){for(const t in e)if(e.hasOwnProperty(t)&&!it(e[t]))return!1;return!0}function dt(e,t){const n=Array.isArray(t)?t:Eh(t)?[t]:Sy(t),r=n.length===1?e:uk(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(vt(r)&&rn(r)||Array.isArray(r)&&dk(r))&&dt(e,n.slice(0,-1)),e}var fk=e=>{for(const t in e)if(fr(e[t]))return!0;return!1};function tR(e){return Array.isArray(e)||vt(e)&&!fk(e)}function Rp(e,t={}){for(const n in e)tR(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Rp(e[n],t[n])):it(e[n])||(t[n]=!0);return t}function Wi(e,t,n){n||(n=Rp(t));for(const r in e)tR(e[r])?it(t)||Ep(n[r])?n[r]=Rp(e[r],Array.isArray(e[r])?[]:{}):Wi(e[r],on(t)?{}:t[r],n[r]):n[r]=!Ls(e[r],t[r]);return n}const hx={value:!1,isValid:!1},mx={value:!0,isValid:!0};var nR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!it(e[0].attributes.value)?it(e[0].value)||e[0].value===""?mx:{value:e[0].value,isValid:!0}:mx:hx}return hx},rR=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>it(e)?e:t?e===""?NaN:e&&+e:n&&wn(e)?new Date(e):r?r(e):e;const gx={isValid:!1,value:null};var sR=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,gx):gx;function px(e){const t=e.ref;return Ey(t)?t.files:Ry(t)?sR(e.refs).value:eR(t)?[...t.selectedOptions].map(({value:n})=>n):Iu(t)?nR(e.refs).value:rR(it(t.value)?e.ref.value:t.value,e)}var hk=(e,t,n,r)=>{const s={};for(const a of e){const i=le(t,a);i&&We(s,a,i._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},zf=e=>e instanceof RegExp,Yl=e=>it(e)?e:zf(e)?e.source:vt(e)?zf(e.value)?e.value.source:e.value:e,vx=e=>({isOnSubmit:!e||e===dr.onSubmit,isOnBlur:e===dr.onBlur,isOnChange:e===dr.onChange,isOnAll:e===dr.all,isOnTouch:e===dr.onTouched});const yx="AsyncFunction";var mk=e=>!!e&&!!e.validate&&!!(fr(e.validate)&&e.validate.constructor.name===yx||vt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===yx)),gk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),bx=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const _c=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=le(e,s);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!r)return!0;if(i.ref&&t(i.ref,i.name)&&!r)return!0;if(_c(o,t))break}else if(vt(o)&&_c(o,t))break}}};function xx(e,t,n){const r=le(e,n);if(r||Eh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),i=le(t,a),o=le(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};s.pop()}return{name:n}}var pk=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return rn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!r||dr.all))},vk=(e,t,n)=>!e||!t||e===t||wc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),yk=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,bk=(e,t)=>!_y(le(e,t)).length&&dt(e,t),xk=(e,t,n)=>{const r=wc(le(e,n));return We(r,"root",t[n]),We(e,n,r),e};function wx(e,t,n="validate"){if(wn(e)||Array.isArray(e)&&e.every(wn)||br(e)&&!e)return{type:n,message:wn(e)?e:"",ref:t}}var Pi=e=>vt(e)&&!zf(e)?e:{value:e,message:""},_x=async(e,t,n,r,s,a)=>{const{ref:i,refs:o,required:c,maxLength:u,minLength:f,min:d,max:m,pattern:h,validate:y,name:v,valueAsNumber:b,mount:g}=e._f,p=le(n,v);if(!g||t.has(v))return{};const x=o?o[0]:i,_=N=>{s&&x.reportValidity&&(x.setCustomValidity(br(N)?"":N||""),x.reportValidity())},R={},T=Ry(i),C=Iu(i),M=T||C,O=(b||Ey(i))&&it(i.value)&&it(p)||Uf(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,E=lk.bind(null,v,r,R),k=(N,j,L,B=Hr.maxLength,D=Hr.minLength)=>{const $=N?j:L;R[v]={type:N?B:D,message:$,ref:i,...E(N?B:D,$)}};if(a?!Array.isArray(p)||!p.length:c&&(!M&&(O||on(p))||br(p)&&!p||C&&!nR(o).isValid||T&&!sR(o).isValid)){const{value:N,message:j}=wn(c)?{value:!!c,message:c}:Pi(c);if(N&&(R[v]={type:Hr.required,message:j,ref:x,...E(Hr.required,j)},!r))return _(j),R}if(!O&&(!on(d)||!on(m))){let N,j;const L=Pi(m),B=Pi(d);if(!on(p)&&!isNaN(p)){const D=i.valueAsNumber||p&&+p;on(L.value)||(N=D>L.value),on(B.value)||(j=D<B.value)}else{const D=i.valueAsDate||new Date(p),$=H=>new Date(new Date().toDateString()+" "+H),U=i.type=="time",P=i.type=="week";wn(L.value)&&p&&(N=U?$(p)>$(L.value):P?p>L.value:D>new Date(L.value)),wn(B.value)&&p&&(j=U?$(p)<$(B.value):P?p<B.value:D<new Date(B.value))}if((N||j)&&(k(!!N,L.message,B.message,Hr.max,Hr.min),!r))return _(R[v].message),R}if((u||f)&&!O&&(wn(p)||a&&Array.isArray(p))){const N=Pi(u),j=Pi(f),L=!on(N.value)&&p.length>+N.value,B=!on(j.value)&&p.length<+j.value;if((L||B)&&(k(L,N.message,j.message),!r))return _(R[v].message),R}if(h&&!O&&wn(p)){const{value:N,message:j}=Pi(h);if(zf(N)&&!p.match(N)&&(R[v]={type:Hr.pattern,message:j,ref:i,...E(Hr.pattern,j)},!r))return _(j),R}if(y){if(fr(y)){const N=await y(p,n),j=wx(N,x);if(j&&(R[v]={...j,...E(Hr.validate,j.message)},!r))return _(j.message),R}else if(vt(y)){let N={};for(const j in y){if(!rn(N)&&!r)break;const L=wx(await y[j](p,n),x,j);L&&(N={...L,...E(j,L.message)},_(L.message),r&&(R[v]=N))}if(!rn(N)&&(R[v]={ref:x,...N},!r))return R}}return _(!0),R};const wk={mode:dr.onSubmit,reValidateMode:dr.onChange,shouldFocusError:!0};function _k(e={}){let t={...wk,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:fr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=vt(t.defaultValues)||vt(t.values)?Et(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Et(s),i={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const m={array:fx(),state:fx()},h=t.criteriaMode===dr.all,y=A=>I=>{clearTimeout(u),u=setTimeout(A,I)},v=async A=>{if(!t.disabled&&(f.isValid||d.isValid||A)){const I=t.resolver?rn((await C()).errors):await O(r,!0);I!==n.isValid&&m.state.next({isValid:I})}},b=(A,I)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((A||Array.from(o.mount)).forEach(z=>{z&&(I?We(n.validatingFields,z,I):dt(n.validatingFields,z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!rn(n.validatingFields)}))},g=(A,I=[],z,te,J=!0,X=!0)=>{if(te&&z&&!t.disabled){if(i.action=!0,X&&Array.isArray(le(r,A))){const ue=z(le(r,A),te.argA,te.argB);J&&We(r,A,ue)}if(X&&Array.isArray(le(n.errors,A))){const ue=z(le(n.errors,A),te.argA,te.argB);J&&We(n.errors,A,ue),bk(n.errors,A)}if((f.touchedFields||d.touchedFields)&&X&&Array.isArray(le(n.touchedFields,A))){const ue=z(le(n.touchedFields,A),te.argA,te.argB);J&&We(n.touchedFields,A,ue)}(f.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Wi(s,a)),m.state.next({name:A,isDirty:k(A,I),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(a,A,I)},p=(A,I)=>{We(n.errors,A,I),m.state.next({errors:n.errors})},x=A=>{n.errors=A,m.state.next({errors:n.errors,isValid:!1})},_=(A,I,z,te)=>{const J=le(r,A);if(J){const X=le(a,A,it(z)?le(s,A):z);it(X)||te&&te.defaultChecked||I?We(a,A,I?X:px(J._f)):L(A,X),i.mount&&v()}},R=(A,I,z,te,J)=>{let X=!1,ue=!1;const De={name:A};if(!t.disabled){if(!z||te){(f.isDirty||d.isDirty)&&(ue=n.isDirty,n.isDirty=De.isDirty=k(),X=ue!==De.isDirty);const Le=Ls(le(s,A),I);ue=!!le(n.dirtyFields,A),Le?dt(n.dirtyFields,A):We(n.dirtyFields,A,!0),De.dirtyFields=n.dirtyFields,X=X||(f.dirtyFields||d.dirtyFields)&&ue!==!Le}if(z){const Le=le(n.touchedFields,A);Le||(We(n.touchedFields,A,z),De.touchedFields=n.touchedFields,X=X||(f.touchedFields||d.touchedFields)&&Le!==z)}X&&J&&m.state.next(De)}return X?De:{}},T=(A,I,z,te)=>{const J=le(n.errors,A),X=(f.isValid||d.isValid)&&br(I)&&n.isValid!==I;if(t.delayError&&z?(c=y(()=>p(A,z)),c(t.delayError)):(clearTimeout(u),c=null,z?We(n.errors,A,z):dt(n.errors,A)),(z?!Ls(J,z):J)||!rn(te)||X){const ue={...te,...X&&br(I)?{isValid:I}:{},errors:n.errors,name:A};n={...n,...ue},m.state.next(ue)}},C=async A=>{b(A,!0);const I=await t.resolver(a,t.context,hk(A||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(A),I},M=async A=>{const{errors:I}=await C(A);if(A)for(const z of A){const te=le(I,z);te?We(n.errors,z,te):dt(n.errors,z)}else n.errors=I;return I},O=async(A,I,z={valid:!0})=>{for(const te in A){const J=A[te];if(J){const{_f:X,...ue}=J;if(X){const De=o.array.has(X.name),Le=J._f&&mk(J._f);Le&&f.validatingFields&&b([X.name],!0);const Pt=await _x(J,o.disabled,a,h,t.shouldUseNativeValidation&&!I,De);if(Le&&f.validatingFields&&b([X.name]),Pt[X.name]&&(z.valid=!1,I))break;!I&&(le(Pt,X.name)?De?xk(n.errors,Pt,X.name):We(n.errors,X.name,Pt[X.name]):dt(n.errors,X.name))}!rn(ue)&&await O(ue,I,z)}}return z.valid},E=()=>{for(const A of o.unMount){const I=le(r,A);I&&(I._f.refs?I._f.refs.every(z=>!Dm(z)):!Dm(I._f.ref))&&de(A)}o.unMount=new Set},k=(A,I)=>!t.disabled&&(A&&I&&We(a,A,I),!Ls(H(),s)),N=(A,I,z)=>ok(A,o,{...i.mount?a:it(I)?s:wn(A)?{[A]:I}:I},z,I),j=A=>_y(le(i.mount?a:s,A,t.shouldUnregister?le(s,A,[]):[])),L=(A,I,z={})=>{const te=le(r,A);let J=I;if(te){const X=te._f;X&&(!X.disabled&&We(a,A,rR(I,X)),J=Uf(X.ref)&&on(I)?"":I,eR(X.ref)?[...X.ref.options].forEach(ue=>ue.selected=J.includes(ue.value)):X.refs?Iu(X.ref)?X.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(J)?ue.checked=!!J.find(De=>De===ue.value):ue.checked=J===ue.value||!!J)}):X.refs.forEach(ue=>ue.checked=ue.value===J):Ey(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||m.state.next({name:A,values:Et(a)})))}(z.shouldDirty||z.shouldTouch)&&R(A,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&P(A)},B=(A,I,z)=>{for(const te in I){if(!I.hasOwnProperty(te))return;const J=I[te],X=A+"."+te,ue=le(r,X);(o.array.has(A)||vt(J)||ue&&!ue._f)&&!Ga(J)?B(X,J,z):L(X,J,z)}},D=(A,I,z={})=>{const te=le(r,A),J=o.array.has(A),X=Et(I);We(a,A,X),J?(m.array.next({name:A,values:Et(a)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&z.shouldDirty&&m.state.next({name:A,dirtyFields:Wi(s,a),isDirty:k(A,X)})):te&&!te._f&&!on(X)?B(A,X,z):L(A,X,z),bx(A,o)&&m.state.next({...n,name:A}),m.state.next({name:i.mount?A:void 0,values:Et(a)})},$=async A=>{i.mount=!0;const I=A.target;let z=I.name,te=!0;const J=le(r,z),X=Le=>{te=Number.isNaN(Le)||Ga(Le)&&isNaN(Le.getTime())||Ls(Le,le(a,z,Le))},ue=vx(t.mode),De=vx(t.reValidateMode);if(J){let Le,Pt;const Jn=I.type?px(J._f):ek(A),er=A.type===dx.BLUR||A.type===dx.FOCUS_OUT,ws=!gk(J._f)&&!t.resolver&&!le(n.errors,z)&&!J._f.deps||yk(er,le(n.touchedFields,z),n.isSubmitted,De,ue),Ll=bx(z,o,er);We(a,z,Jn),er?(!I||!I.readOnly)&&(J._f.onBlur&&J._f.onBlur(A),c&&c(0)):J._f.onChange&&J._f.onChange(A);const Ul=R(z,Jn,er),Ku=!rn(Ul)||Ll;if(!er&&m.state.next({name:z,type:A.type,values:Et(a)}),ws)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?er&&v():er||v()),Ku&&m.state.next({name:z,...Ll?{}:Ul});if(!er&&Ll&&m.state.next({...n}),t.resolver){const{errors:zl}=await C([z]);if(X(Jn),te){const Ph=xx(n.errors,r,z),Li=xx(zl,r,Ph.name||z);Le=Li.error,z=Li.name,Pt=rn(zl)}}else b([z],!0),Le=(await _x(J,o.disabled,a,h,t.shouldUseNativeValidation))[z],b([z]),X(Jn),te&&(Le?Pt=!1:(f.isValid||d.isValid)&&(Pt=await O(r,!0)));te&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&P(J._f.deps),T(z,Pt,Le,Ul))}},U=(A,I)=>{if(le(n.errors,I)&&A.focus)return A.focus(),1},P=async(A,I={})=>{let z,te;const J=wc(A);if(t.resolver){const X=await M(it(A)?A:J);z=rn(X),te=A?!J.some(ue=>le(X,ue)):z}else A?(te=(await Promise.all(J.map(async X=>{const ue=le(r,X);return await O(ue&&ue._f?{[X]:ue}:ue)}))).every(Boolean),!(!te&&!n.isValid)&&v()):te=z=await O(r);return m.state.next({...!wn(A)||(f.isValid||d.isValid)&&z!==n.isValid?{}:{name:A},...t.resolver||!A?{isValid:z}:{},errors:n.errors}),I.shouldFocus&&!te&&_c(r,U,A?J:o.mount),te},H=(A,I)=>{let z={...i.mount?a:s};return I&&(z=J1(I.dirtyFields?n.dirtyFields:n.touchedFields,z)),it(A)?z:wn(A)?le(z,A):A.map(te=>le(z,te))},Q=(A,I)=>({invalid:!!le((I||n).errors,A),isDirty:!!le((I||n).dirtyFields,A),error:le((I||n).errors,A),isValidating:!!le(n.validatingFields,A),isTouched:!!le((I||n).touchedFields,A)}),re=A=>{A&&wc(A).forEach(I=>dt(n.errors,I)),m.state.next({errors:A?n.errors:{}})},Y=(A,I,z)=>{const te=(le(r,A,{_f:{}})._f||{}).ref,J=le(n.errors,A)||{},{ref:X,message:ue,type:De,...Le}=J;We(n.errors,A,{...Le,...I,ref:te}),m.state.next({name:A,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&te&&te.focus&&te.focus()},Z=(A,I)=>fr(A)?m.state.subscribe({next:z=>"values"in z&&A(N(void 0,I),z)}):N(A,I,!0),W=A=>m.state.subscribe({next:I=>{vk(A.name,I.name,A.exact)&&pk(I,A.formState||f,Pr,A.reRenderRoot)&&A.callback({values:{...a},...n,...I,defaultValues:s})}}).unsubscribe,se=A=>(i.mount=!0,d={...d,...A.formState},W({...A,formState:d})),de=(A,I={})=>{for(const z of A?wc(A):o.mount)o.mount.delete(z),o.array.delete(z),I.keepValue||(dt(r,z),dt(a,z)),!I.keepError&&dt(n.errors,z),!I.keepDirty&&dt(n.dirtyFields,z),!I.keepTouched&&dt(n.touchedFields,z),!I.keepIsValidating&&dt(n.validatingFields,z),!t.shouldUnregister&&!I.keepDefaultValue&&dt(s,z);m.state.next({values:Et(a)}),m.state.next({...n,...I.keepDirty?{isDirty:k()}:{}}),!I.keepIsValid&&v()},fe=({disabled:A,name:I})=>{(br(A)&&i.mount||A||o.disabled.has(I))&&(A?o.disabled.add(I):o.disabled.delete(I))},Te=(A,I={})=>{let z=le(r,A);const te=br(I.disabled)||br(t.disabled);return We(r,A,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:A}},name:A,mount:!0,...I}}),o.mount.add(A),z?fe({disabled:br(I.disabled)?I.disabled:t.disabled,name:A}):_(A,!0,I.value),{...te?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:Yl(I.min),max:Yl(I.max),minLength:Yl(I.minLength),maxLength:Yl(I.maxLength),pattern:Yl(I.pattern)}:{},name:A,onChange:$,onBlur:$,ref:J=>{if(J){Te(A,I),z=le(r,A);const X=it(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ue=ck(X),De=z._f.refs||[];if(ue?De.find(Le=>Le===X):X===z._f.ref)return;We(r,A,{_f:{...z._f,...ue?{refs:[...De.filter(Dm),X,...Array.isArray(le(s,A))?[{}]:[]],ref:{type:X.type,name:A}}:{ref:X}}}),_(A,!1,void 0,X)}else z=le(r,A,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(nk(o.array,A)&&i.action)&&o.unMount.add(A)}}},_t=()=>t.shouldFocusError&&_c(r,U,o.mount),hn=A=>{br(A)&&(m.state.next({disabled:A}),_c(r,(I,z)=>{const te=le(r,z);te&&(I.disabled=te._f.disabled||A,Array.isArray(te._f.refs)&&te._f.refs.forEach(J=>{J.disabled=te._f.disabled||A}))},0,!1))},kn=(A,I)=>async z=>{let te;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=Et(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:ue}=await C();n.errors=X,J=Et(ue)}else await O(r);if(o.disabled.size)for(const X of o.disabled)dt(J,X);if(dt(n.errors,"root"),rn(n.errors)){m.state.next({errors:{}});try{await A(J,z)}catch(X){te=X}}else I&&await I({...n.errors},z),_t(),setTimeout(_t);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Ur=(A,I={})=>{le(r,A)&&(it(I.defaultValue)?D(A,Et(le(s,A))):(D(A,I.defaultValue),We(s,A,Et(I.defaultValue))),I.keepTouched||dt(n.touchedFields,A),I.keepDirty||(dt(n.dirtyFields,A),n.isDirty=I.defaultValue?k(A,Et(le(s,A))):k()),I.keepError||(dt(n.errors,A),f.isValid&&v()),m.state.next({...n}))},zr=(A,I={})=>{const z=A?Et(A):s,te=Et(z),J=rn(A),X=J?s:te;if(I.keepDefaultValues||(s=z),!I.keepValues){if(I.keepDirtyValues){const ue=new Set([...o.mount,...Object.keys(Wi(s,a))]);for(const De of Array.from(ue))le(n.dirtyFields,De)?We(X,De,le(a,De)):D(De,le(X,De))}else{if(wy&&it(A))for(const ue of o.mount){const De=le(r,ue);if(De&&De._f){const Le=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(Uf(Le)){const Pt=Le.closest("form");if(Pt){Pt.reset();break}}}}if(I.keepFieldsRef)for(const ue of o.mount)D(ue,le(X,ue));else r={}}a=t.shouldUnregister?I.keepDefaultValues?Et(s):{}:Et(X),m.array.next({values:{...X}}),m.state.next({values:{...X}})}o={mount:I.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!I.keepIsValid||!!I.keepDirtyValues,i.watch=!!t.shouldUnregister,m.state.next({submitCount:I.keepSubmitCount?n.submitCount:0,isDirty:J?!1:I.keepDirty?n.isDirty:!!(I.keepDefaultValues&&!Ls(A,s)),isSubmitted:I.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:I.keepDirtyValues?I.keepDefaultValues&&a?Wi(s,a):n.dirtyFields:I.keepDefaultValues&&A?Wi(s,A):I.keepDirty?n.dirtyFields:{},touchedFields:I.keepTouched?n.touchedFields:{},errors:I.keepErrors?n.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ki=(A,I)=>zr(fr(A)?A(a):A,I),Ii=(A,I={})=>{const z=le(r,A),te=z&&z._f;if(te){const J=te.refs?te.refs[0]:te.ref;J.focus&&(J.focus(),I.shouldSelect&&fr(J.select)&&J.select())}},Pr=A=>{n={...n,...A}},At={control:{register:Te,unregister:de,getFieldState:Q,handleSubmit:kn,setError:Y,_subscribe:W,_runSchema:C,_focusError:_t,_getWatch:N,_getDirty:k,_setValid:v,_setFieldArray:g,_setDisabledField:fe,_setErrors:x,_getFieldArray:j,_reset:zr,_resetDefaultValues:()=>fr(t.defaultValues)&&t.defaultValues().then(A=>{ki(A,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:hn,_subjects:m,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(A){i=A},get _defaultValues(){return s},get _names(){return o},set _names(A){o=A},get _formState(){return n},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:se,trigger:P,register:Te,handleSubmit:kn,watch:Z,setValue:D,getValues:H,reset:ki,resetField:Ur,clearErrors:re,unregister:de,setError:Y,setFocus:Ii,getFieldState:Q};return{...At,formControl:At}}function Sk(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:fr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!fr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...o}=_k(e);t.current={...o,formState:r}}const a=t.current.control;return a._options=e,ik(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),a._formState.isReady=!0,i},[a]),F.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),F.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),F.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),F.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),F.useEffect(()=>{e.values&&!Ls(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),F.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=ak(r,a),t.current}const Sx=e=>{let t;const n=new Set,r=(f,d)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const h=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(y=>y(t,h))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},u=t=e(r,s,c);return c},Ek=e=>e?Sx(e):Sx;var aR={exports:{}},iR={},oR={exports:{}},lR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=w;function Rk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jk=typeof Object.is=="function"?Object.is:Rk,Ck=sl.useState,Nk=sl.useEffect,Ok=sl.useLayoutEffect,Tk=sl.useDebugValue;function Ak(e,t){var n=t(),r=Ck({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Ok(function(){s.value=n,s.getSnapshot=t,km(s)&&a({inst:s})},[e,n,t]),Nk(function(){return km(s)&&a({inst:s}),e(function(){km(s)&&a({inst:s})})},[e]),Tk(n),n}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jk(e,n)}catch{return!0}}function Mk(e,t){return t()}var Dk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Mk:Ak;lR.useSyncExternalStore=sl.useSyncExternalStore!==void 0?sl.useSyncExternalStore:Dk;oR.exports=lR;var cR=oR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=w,kk=cR;function Ik(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lk=typeof Object.is=="function"?Object.is:Ik,Uk=kk.useSyncExternalStore,zk=Rh.useRef,Pk=Rh.useEffect,$k=Rh.useMemo,Fk=Rh.useDebugValue;iR.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=zk(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=$k(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),s!==void 0&&i.hasValue){var y=i.value;if(s(y,h))return d=y}return d=h}if(y=d,Lk(f,h))return y;var v=r(h);return s!==void 0&&s(y,v)?(f=h,y):(f=h,d=v)}var u=!1,f,d,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var o=Uk(e,a[0],a[1]);return Pk(function(){i.hasValue=!0,i.value=o},[o]),Fk(o),o};aR.exports=iR;var qk=aR.exports;const Bk=eh(qk),{useDebugValue:Vk}=F,{useSyncExternalStoreWithSelector:Hk}=Bk;const Gk=e=>e;function Kk(e,t=Gk,n){const r=Hk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vk(r),r}const Ex=e=>{const t=typeof e=="function"?Ek(e):e,n=(r,s)=>Kk(t,r,s);return Object.assign(n,t),n},jp=e=>e?Ex(e):Ex;var jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qk={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ks,av,n_,Yk=(n_=class{constructor(){G(this,Ks,Qk);G(this,av,!1)}setTimeoutProvider(e){V(this,Ks,e)}setTimeout(e,t){return S(this,Ks).setTimeout(e,t)}clearTimeout(e){S(this,Ks).clearTimeout(e)}setInterval(e,t){return S(this,Ks).setInterval(e,t)}clearInterval(e){S(this,Ks).clearInterval(e)}},Ks=new WeakMap,av=new WeakMap,n_),bd=new Yk;function Xk(e){setTimeout(e,0)}var Hc=typeof window>"u"||"Deno"in globalThis;function Pf(){}function Rx(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sc(e,t){return typeof e=="function"?e(t):e}function cr(e,t){return typeof e=="function"?e(t):e}function jx(e){return JSON.stringify(e,(t,n)=>Cp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}var Wk=Object.prototype.hasOwnProperty;function uR(e,t){if(e===t)return e;const n=Cx(e)&&Cx(t);if(!n&&!(Cp(e)&&Cp(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),i=a.length,o=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const f=n?u:a[u],d=e[f],m=t[f];if(d===m){o[f]=d,(n?u<s:Wk.call(e,f))&&c++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){o[f]=m;continue}const h=uR(d,m);o[f]=h,h===d&&c++}return s===i&&c===s?e:o}function $f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Cx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cp(e){if(!Nx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Nx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nx(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ox(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?uR(e,t):t}function dR(e,t){return typeof e=="function"?e(...t):!!e}var si,Qs,Po,r_,Jk=(r_=class extends jh{constructor(){super();G(this,si,void 0);G(this,Qs,void 0);G(this,Po,void 0);V(this,Po,t=>{if(!Hc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Qs)||this.setEventListener(S(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Qs))==null||t.call(this),V(this,Qs,void 0))}setEventListener(t){var n;V(this,Po,t),(n=S(this,Qs))==null||n.call(this),V(this,Qs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,si)!==t&&(V(this,si,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,si)=="boolean"?S(this,si):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},si=new WeakMap,Qs=new WeakMap,Po=new WeakMap,r_),eI=new Jk;function Tx(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var tI=Xk;function nI(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=tI;const a=o=>{t?e.push(o):s(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ch=nI(),$o,Ys,Fo,s_,rI=(s_=class extends jh{constructor(){super();G(this,$o,!0);G(this,Ys,void 0);G(this,Fo,void 0);V(this,Fo,t=>{if(!Hc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Ys)||this.setEventListener(S(this,Fo))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Ys))==null||t.call(this),V(this,Ys,void 0))}setEventListener(t){var n;V(this,Fo,t),(n=S(this,Ys))==null||n.call(this),V(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){S(this,$o)!==t&&(V(this,$o,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,$o)}},$o=new WeakMap,Ys=new WeakMap,Fo=new WeakMap,s_),sI=new rI;function aI(e){return(e??"online")==="online"?sI.isOnline():!0}function iI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var en,Ce,hu,Vt,ai,qo,ts,Xs,mu,Bo,Vo,ii,oi,Zs,Ho,li,rc,gu,Np,pu,Op,vu,Tp,yu,Ap,bu,Mp,xu,Dp,wu,kp,Jf,fR,a_,oI=(a_=class extends jh{constructor(t,n){super();G(this,li);G(this,gu);G(this,pu);G(this,vu);G(this,yu);G(this,bu);G(this,xu);G(this,wu);G(this,Jf);G(this,en,void 0);G(this,Ce,void 0);G(this,hu,void 0);G(this,Vt,void 0);G(this,ai,void 0);G(this,qo,void 0);G(this,ts,void 0);G(this,Xs,void 0);G(this,mu,void 0);G(this,Bo,void 0);G(this,Vo,void 0);G(this,ii,void 0);G(this,oi,void 0);G(this,Zs,void 0);G(this,Ho,new Set);this.options=n,V(this,en,t),V(this,Xs,null),V(this,ts,Tx()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,Ce).addObserver(this),Ax(S(this,Ce),this.options)?oe(this,li,rc).call(this):this.updateResult(),oe(this,yu,Ap).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ip(S(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ip(S(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,oe(this,bu,Mp).call(this),oe(this,xu,Dp).call(this),S(this,Ce).removeObserver(this)}setOptions(t){const n=this.options,r=S(this,Ce);if(this.options=S(this,en).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cr(this.options.enabled,S(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");oe(this,wu,kp).call(this),S(this,Ce).setOptions(this.options),n._defaulted&&!$f(this.options,n)&&S(this,en).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,Ce),observer:this});const s=this.hasListeners();s&&Mx(S(this,Ce),r,this.options,n)&&oe(this,li,rc).call(this),this.updateResult(),s&&(S(this,Ce)!==r||cr(this.options.enabled,S(this,Ce))!==cr(n.enabled,S(this,Ce))||Sc(this.options.staleTime,S(this,Ce))!==Sc(n.staleTime,S(this,Ce)))&&oe(this,gu,Np).call(this);const a=oe(this,pu,Op).call(this);s&&(S(this,Ce)!==r||cr(this.options.enabled,S(this,Ce))!==cr(n.enabled,S(this,Ce))||a!==S(this,Zs))&&oe(this,vu,Tp).call(this,a)}getOptimisticResult(t){const n=S(this,en).getQueryCache().build(S(this,en),t),r=this.createResult(n,t);return cI(this,r)&&(V(this,Vt,r),V(this,qo,this.options),V(this,ai,S(this,Ce).state)),r}getCurrentResult(){return S(this,Vt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,ts).status==="pending"&&S(this,ts).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){S(this,Ho).add(t)}getCurrentQuery(){return S(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,en).defaultQueryOptions(t),r=S(this,en).getQueryCache().build(S(this,en),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return oe(this,li,rc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Vt)))}createResult(t,n){var O;const r=S(this,Ce),s=this.options,a=S(this,Vt),i=S(this,ai),o=S(this,qo),u=t!==r?t.state:S(this,hu),{state:f}=t;let d={...f},m=!1,h;if(n._optimisticResults){const E=this.hasListeners(),k=!E&&Ax(t,n),N=E&&Mx(t,r,n,s);(k||N)&&(d={...d,...iI(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=d;h=d.data;let g=!1;if(n.placeholderData!==void 0&&h===void 0&&b==="pending"){let E;a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(E=a.data,g=!0):E=typeof n.placeholderData=="function"?n.placeholderData((O=S(this,Vo))==null?void 0:O.state.data,S(this,Vo)):n.placeholderData,E!==void 0&&(b="success",h=Ox(a==null?void 0:a.data,E,n),m=!0)}if(n.select&&h!==void 0&&!g)if(a&&h===(i==null?void 0:i.data)&&n.select===S(this,mu))h=S(this,Bo);else try{V(this,mu,n.select),h=n.select(h),h=Ox(a==null?void 0:a.data,h,n),V(this,Bo,h),V(this,Xs,null)}catch(E){V(this,Xs,E)}S(this,Xs)&&(y=S(this,Xs),h=S(this,Bo),v=Date.now(),b="error");const p=d.fetchStatus==="fetching",x=b==="pending",_=b==="error",R=x&&p,T=h!==void 0,M={status:b,fetchStatus:d.fetchStatus,isPending:x,isSuccess:b==="success",isError:_,isInitialLoading:R,isLoading:R,data:h,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:_&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&T,isStale:jy(t,n),refetch:this.refetch,promise:S(this,ts),isEnabled:cr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=j=>{M.status==="error"?j.reject(M.error):M.data!==void 0&&j.resolve(M.data)},k=()=>{const j=V(this,ts,M.promise=Tx());E(j)},N=S(this,ts);switch(N.status){case"pending":t.queryHash===r.queryHash&&E(N);break;case"fulfilled":(M.status==="error"||M.data!==N.value)&&k();break;case"rejected":(M.status!=="error"||M.error!==N.reason)&&k();break}}return M}updateResult(){const t=S(this,Vt),n=this.createResult(S(this,Ce),this.options);if(V(this,ai,S(this,Ce).state),V(this,qo,this.options),S(this,ai).data!==void 0&&V(this,Vo,S(this,Ce)),$f(n,t))return;V(this,Vt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!S(this,Ho).size)return!0;const i=new Set(a??S(this,Ho));return this.options.throwOnError&&i.add("error"),Object.keys(S(this,Vt)).some(o=>{const c=o;return S(this,Vt)[c]!==t[c]&&i.has(c)})};oe(this,Jf,fR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&oe(this,yu,Ap).call(this)}},en=new WeakMap,Ce=new WeakMap,hu=new WeakMap,Vt=new WeakMap,ai=new WeakMap,qo=new WeakMap,ts=new WeakMap,Xs=new WeakMap,mu=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,ii=new WeakMap,oi=new WeakMap,Zs=new WeakMap,Ho=new WeakMap,li=new WeakSet,rc=function(t){oe(this,wu,kp).call(this);let n=S(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Pf)),n},gu=new WeakSet,Np=function(){oe(this,bu,Mp).call(this);const t=Sc(this.options.staleTime,S(this,Ce));if(Hc||S(this,Vt).isStale||!Rx(t))return;const r=Zk(S(this,Vt).dataUpdatedAt,t)+1;V(this,ii,bd.setTimeout(()=>{S(this,Vt).isStale||this.updateResult()},r))},pu=new WeakSet,Op=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,Ce)):this.options.refetchInterval)??!1},vu=new WeakSet,Tp=function(t){oe(this,xu,Dp).call(this),V(this,Zs,t),!(Hc||cr(this.options.enabled,S(this,Ce))===!1||!Rx(S(this,Zs))||S(this,Zs)===0)&&V(this,oi,bd.setInterval(()=>{(this.options.refetchIntervalInBackground||eI.isFocused())&&oe(this,li,rc).call(this)},S(this,Zs)))},yu=new WeakSet,Ap=function(){oe(this,gu,Np).call(this),oe(this,vu,Tp).call(this,oe(this,pu,Op).call(this))},bu=new WeakSet,Mp=function(){S(this,ii)&&(bd.clearTimeout(S(this,ii)),V(this,ii,void 0))},xu=new WeakSet,Dp=function(){S(this,oi)&&(bd.clearInterval(S(this,oi)),V(this,oi,void 0))},wu=new WeakSet,kp=function(){const t=S(this,en).getQueryCache().build(S(this,en),this.options);if(t===S(this,Ce))return;const n=S(this,Ce);V(this,Ce,t),V(this,hu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Jf=new WeakSet,fR=function(t){Ch.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,Vt))}),S(this,en).getQueryCache().notify({query:S(this,Ce),type:"observerResultsUpdated"})})},a_);function lI(e,t){return cr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ax(e,t){return lI(e,t)||e.state.data!==void 0&&Ip(e,t,t.refetchOnMount)}function Ip(e,t,n){if(cr(t.enabled,e)!==!1&&Sc(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&jy(e,t)}return!1}function Mx(e,t,n,r){return(e!==t||cr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&jy(e,n)}function jy(e,t){return cr(t.enabled,e)!==!1&&e.isStaleByTime(Sc(t.staleTime,e))}function cI(e,t){return!$f(e.getCurrentResult(),t)}function uI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,Ws,tn,rs,Go,Jd,_u,Lp,i_,dI=(i_=class extends jh{constructor(n,r){super();G(this,Go);G(this,_u);G(this,ns,void 0);G(this,Ws,void 0);G(this,tn,void 0);G(this,rs,void 0);V(this,ns,n),this.setOptions(r),this.bindMethods(),oe(this,Go,Jd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=S(this,ns).defaultMutationOptions(n),$f(this.options,r)||S(this,ns).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,tn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&jx(r.mutationKey)!==jx(this.options.mutationKey)?this.reset():((s=S(this,tn))==null?void 0:s.state.status)==="pending"&&S(this,tn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,tn))==null||n.removeObserver(this)}onMutationUpdate(n){oe(this,Go,Jd).call(this),oe(this,_u,Lp).call(this,n)}getCurrentResult(){return S(this,Ws)}reset(){var n;(n=S(this,tn))==null||n.removeObserver(this),V(this,tn,void 0),oe(this,Go,Jd).call(this),oe(this,_u,Lp).call(this)}mutate(n,r){var s;return V(this,rs,r),(s=S(this,tn))==null||s.removeObserver(this),V(this,tn,S(this,ns).getMutationCache().build(S(this,ns),this.options)),S(this,tn).addObserver(this),S(this,tn).execute(n)}},ns=new WeakMap,Ws=new WeakMap,tn=new WeakMap,rs=new WeakMap,Go=new WeakSet,Jd=function(){var r;const n=((r=S(this,tn))==null?void 0:r.state)??uI();V(this,Ws,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_u=new WeakSet,Lp=function(n){Ch.batch(()=>{var r,s,a,i,o,c,u,f;if(S(this,rs)&&this.hasListeners()){const d=S(this,Ws).variables,m=S(this,Ws).context,h={client:S(this,ns),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=S(this,rs)).onSuccess)==null||s.call(r,n.data,d,m,h),(i=(a=S(this,rs)).onSettled)==null||i.call(a,n.data,null,d,m,h)):(n==null?void 0:n.type)==="error"&&((c=(o=S(this,rs)).onError)==null||c.call(o,n.error,d,m,h),(f=(u=S(this,rs)).onSettled)==null||f.call(u,void 0,n.error,d,m,h))}this.listeners.forEach(d=>{d(S(this,Ws))})})},i_),fI=w.createContext(void 0),Cy=e=>{const t=w.useContext(fI);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hR=w.createContext(!1),hI=()=>w.useContext(hR);hR.Provider;function mI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gI=w.createContext(mI()),pI=()=>w.useContext(gI),vI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},yI=e=>{w.useEffect(()=>{e.clearReset()},[e])},bI=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||dR(n,[e.error,r])),xI=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wI=(e,t)=>e.isLoading&&e.isFetching&&!t,_I=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Dx=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function SI(e,t,n){var d,m,h,y,v;const r=hI(),s=pI(),a=Cy(n),i=a.defaultQueryOptions(e);(m=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,i),i._optimisticResults=r?"isRestoring":"optimistic",xI(i),vI(i,s),yI(s);const o=!a.getQueryCache().get(i.queryHash),[c]=w.useState(()=>new t(a,i)),u=c.getOptimisticResult(i),f=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(b=>{const g=f?c.subscribe(Ch.batchCalls(b)):Pf;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(i)},[i,c]),_I(i,u))throw Dx(i,c,s);if(bI({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((y=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||y.call(h,i,u),i.experimental_prefetchInRender&&!Hc&&wI(u,r)){const b=o?Dx(i,c,s):(v=a.getQueryCache().get(i.queryHash))==null?void 0:v.promise;b==null||b.catch(Pf).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Xl(e,t){return SI(e,oI,t)}function xd(e,t){const n=Cy(t),[r]=w.useState(()=>new dI(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const s=w.useSyncExternalStore(w.useCallback(i=>r.subscribe(Ch.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=w.useCallback((i,o)=>{r.mutate(i,o).catch(Pf)},[r]);if(s.error&&dR(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function Rl(e,t=[]){let n=[];function r(a,i){const o=w.createContext(i),c=n.length;n=[...n,i];const u=d=>{var g;const{scope:m,children:h,...y}=d,v=((g=m==null?void 0:m[e])==null?void 0:g[c])||o,b=w.useMemo(()=>y,Object.values(y));return l.jsx(v.Provider,{value:b,children:h})};u.displayName=a+"Provider";function f(d,m){var v;const h=((v=m==null?void 0:m[e])==null?void 0:v[c])||o,y=w.useContext(h);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,f]}const s=()=>{const a=n.map(i=>w.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[r,EI(s,...t)]}function EI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((o,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...o,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ar(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var mr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},RI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=RI.reduce((e,t)=>{const n=Vc(`Primitive.${t}`),r=w.forwardRef((s,a)=>{const{asChild:i,...o}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function mR(e,t){e&&sh.flushSync(()=>e.dispatchEvent(t))}function jI(){return cR.useSyncExternalStore(CI,()=>!0,()=>!1)}function CI(){return()=>{}}var Ny="Avatar",[NI,Hq]=Rl(Ny),[OI,gR]=NI(Ny),pR=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=w.useState("idle");return l.jsx(OI,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:l.jsx(Tt.span,{...r,ref:t})})});pR.displayName=Ny;var vR="AvatarImage",yR=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=gR(vR,n),o=TI(r,a),c=Ar(u=>{s(u),i.onImageLoadingStatusChange(u)});return mr(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Tt.img,{...a,ref:t,src:r}):null});yR.displayName=vR;var bR="AvatarFallback",xR=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=gR(bR,n),[i,o]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?l.jsx(Tt.span,{...s,ref:t}):null});xR.displayName=bR;function kx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function TI(e,{referrerPolicy:t,crossOrigin:n}){const r=jI(),s=w.useRef(null),a=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[i,o]=w.useState(()=>kx(a,e));return mr(()=>{o(kx(a,e))},[a,e]),mr(()=>{const c=d=>()=>{o(d)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),i}var AI=pR,MI=yR,DI=xR;function Oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var kI=dv[" useInsertionEffect ".trim().toString()]||mr;function wR({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=II({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const d=f.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const u=w.useCallback(f=>{var d;if(o){const m=LI(f)?f(e):f;m!==e&&((d=i.current)==null||d.call(i,m))}else a(f)},[o,e,a,i]);return[c,u]}function II({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),s=w.useRef(n),a=w.useRef(t);return kI(()=>{a.current=t},[t]),w.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function LI(e){return typeof e=="function"}function _R(e){const t=e+"CollectionProvider",[n,r]=Rl(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:g}=v,p=F.useRef(null),x=F.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:x,collectionRef:p,children:g})};i.displayName=t;const o=e+"CollectionSlot",c=Vc(o),u=F.forwardRef((v,b)=>{const{scope:g,children:p}=v,x=a(o,g),_=dn(b,x.collectionRef);return l.jsx(c,{ref:_,children:p})});u.displayName=o;const f=e+"CollectionItemSlot",d="data-radix-collection-item",m=Vc(f),h=F.forwardRef((v,b)=>{const{scope:g,children:p,...x}=v,_=F.useRef(null),R=dn(b,_),T=a(f,g);return F.useEffect(()=>(T.itemMap.set(_,{ref:_,...x}),()=>void T.itemMap.delete(_))),l.jsx(m,{[d]:"",ref:R,children:p})});h.displayName=f;function y(v){const b=a(e+"CollectionConsumer",v);return F.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const x=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((T,C)=>x.indexOf(T.ref.current)-x.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},y,r]}var UI=w.createContext(void 0);function SR(e){const t=w.useContext(UI);return e||t||"ltr"}function zI(e,t=globalThis==null?void 0:globalThis.document){const n=Ar(e);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var PI="DismissableLayer",Up="dismissableLayer.update",$I="dismissableLayer.pointerDownOutside",FI="dismissableLayer.focusOutside",Ix,ER=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RR=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=w.useContext(ER),[f,d]=w.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),y=dn(t,C=>d(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(b),p=f?v.indexOf(f):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=p>=g,R=VI(C=>{const M=C.target,O=[...u.branches].some(E=>E.contains(M));!_||O||(s==null||s(C),i==null||i(C),C.defaultPrevented||o==null||o())},m),T=HI(C=>{const M=C.target;[...u.branches].some(E=>E.contains(M))||(a==null||a(C),i==null||i(C),C.defaultPrevented||o==null||o())},m);return zI(C=>{p===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},m),w.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ix=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Lx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Ix)}},[f,m,n,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Lx())},[f,u]),w.useEffect(()=>{const C=()=>h({});return document.addEventListener(Up,C),()=>document.removeEventListener(Up,C)},[]),l.jsx(Tt.div,{...c,ref:y,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,R.onPointerDownCapture)})});RR.displayName=PI;var qI="DismissableLayerBranch",BI=w.forwardRef((e,t)=>{const n=w.useContext(ER),r=w.useRef(null),s=dn(t,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Tt.div,{...e,ref:s})});BI.displayName=qI;function VI(e,t=globalThis==null?void 0:globalThis.document){const n=Ar(e),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let c=function(){jR($I,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function HI(e,t=globalThis==null?void 0:globalThis.document){const n=Ar(e),r=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!r.current&&jR(FI,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lx(){const e=new CustomEvent(Up);document.dispatchEvent(e)}function jR(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?mR(s,a):s.dispatchEvent(a)}var Im=0;function GI(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ux()),document.body.insertAdjacentElement("beforeend",e[1]??Ux()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Im--}},[])}function Ux(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lm="focusScope.autoFocusOnMount",Um="focusScope.autoFocusOnUnmount",zx={bubbles:!1,cancelable:!0},KI="FocusScope",CR=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=w.useState(null),u=Ar(s),f=Ar(a),d=w.useRef(null),m=dn(t,v=>c(v)),h=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(x){if(h.paused||!o)return;const _=x.target;o.contains(_)?d.current=_:Ns(d.current,{select:!0})},b=function(x){if(h.paused||!o)return;const _=x.relatedTarget;_!==null&&(o.contains(_)||Ns(d.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const R of x)R.removedNodes.length>0&&Ns(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const p=new MutationObserver(g);return o&&p.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),p.disconnect()}}},[r,o,h.paused]),w.useEffect(()=>{if(o){$x.add(h);const v=document.activeElement;if(!o.contains(v)){const g=new CustomEvent(Lm,zx);o.addEventListener(Lm,u),o.dispatchEvent(g),g.defaultPrevented||(QI(JI(NR(o)),{select:!0}),document.activeElement===v&&Ns(o))}return()=>{o.removeEventListener(Lm,u),setTimeout(()=>{const g=new CustomEvent(Um,zx);o.addEventListener(Um,f),o.dispatchEvent(g),g.defaultPrevented||Ns(v??document.body,{select:!0}),o.removeEventListener(Um,f),$x.remove(h)},0)}}},[o,u,f,h]);const y=w.useCallback(v=>{if(!n&&!r||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(b&&g){const p=v.currentTarget,[x,_]=YI(p);x&&_?!v.shiftKey&&g===_?(v.preventDefault(),n&&Ns(x,{select:!0})):v.shiftKey&&g===x&&(v.preventDefault(),n&&Ns(_,{select:!0})):g===p&&v.preventDefault()}},[n,r,h.paused]);return l.jsx(Tt.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});CR.displayName=KI;function QI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function YI(e){const t=NR(e),n=Px(t,e),r=Px(t.reverse(),e);return[n,r]}function NR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Px(e,t){for(const n of e)if(!XI(n,{upTo:t}))return n}function XI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZI(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZI(e)&&t&&e.select()}}var $x=WI();function WI(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fx(e,t),e.unshift(t)},remove(t){var n;e=Fx(e,t),(n=e[0])==null||n.resume()}}}function Fx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function JI(e){return e.filter(t=>t.tagName!=="A")}var eL=dv[" useId ".trim().toString()]||(()=>{}),tL=0;function zp(e){const[t,n]=w.useState(eL());return mr(()=>{e||n(r=>r??String(tL++))},[e]),e||(t?`radix-${t}`:"")}const nL=["top","right","bottom","left"],_a=Math.min,bn=Math.max,Ff=Math.round,wd=Math.floor,Tr=e=>({x:e,y:e}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},sL={start:"end",end:"start"};function Pp(e,t,n){return bn(e,_a(t,n))}function vs(e,t){return typeof e=="function"?e(t):e}function ys(e){return e.split("-")[0]}function jl(e){return e.split("-")[1]}function Oy(e){return e==="x"?"y":"x"}function Ty(e){return e==="y"?"height":"width"}const aL=new Set(["top","bottom"]);function Nr(e){return aL.has(ys(e))?"y":"x"}function Ay(e){return Oy(Nr(e))}function iL(e,t,n){n===void 0&&(n=!1);const r=jl(e),s=Ay(e),a=Ty(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qf(i)),[i,qf(i)]}function oL(e){const t=qf(e);return[$p(e),t,$p(t)]}function $p(e){return e.replace(/start|end/g,t=>sL[t])}const qx=["left","right"],Bx=["right","left"],lL=["top","bottom"],cL=["bottom","top"];function uL(e,t,n){switch(e){case"top":case"bottom":return n?t?Bx:qx:t?qx:Bx;case"left":case"right":return t?lL:cL;default:return[]}}function dL(e,t,n,r){const s=jl(e);let a=uL(ys(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map($p)))),a}function qf(e){return e.replace(/left|right|bottom|top/g,t=>rL[t])}function fL(e){return{top:0,right:0,bottom:0,left:0,...e}}function OR(e){return typeof e!="number"?fL(e):{top:e,right:e,bottom:e,left:e}}function Bf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Vx(e,t,n){let{reference:r,floating:s}=e;const a=Nr(t),i=Ay(t),o=Ty(i),c=ys(t),u=a==="y",f=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,m=r[o]/2-s[o]/2;let h;switch(c){case"top":h={x:f,y:r.y-s.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(jl(t)){case"start":h[i]-=m*(n&&u?-1:1);break;case"end":h[i]+=m*(n&&u?-1:1);break}return h}const hL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Vx(u,r,c),m=r,h={},y=0;for(let v=0;v<o.length;v++){const{name:b,fn:g}=o[v],{x:p,y:x,data:_,reset:R}=await g({x:f,y:d,initialPlacement:r,placement:m,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});f=p??f,d=x??d,h={...h,[b]:{...h[b],..._}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):R.rects),{x:f,y:d}=Vx(u,m,c)),v=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:h}};async function Gc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:h=0}=vs(t,e),y=OR(h),b=o[m?d==="floating"?"reference":"floating":d],g=Bf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),p=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},R=Bf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:p,offsetParent:x,strategy:c}):p);return{top:(g.top-R.top+y.top)/_.y,bottom:(R.bottom-g.bottom+y.bottom)/_.y,left:(g.left-R.left+y.left)/_.x,right:(R.right-g.right+y.right)/_.x}}const mL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:f=0}=vs(e,t)||{};if(u==null)return{};const d=OR(f),m={x:n,y:r},h=Ay(s),y=Ty(h),v=await i.getDimensions(u),b=h==="y",g=b?"top":"left",p=b?"bottom":"right",x=b?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[h]-m[h]-a.floating[y],R=m[h]-a.reference[h],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=T?T[x]:0;(!C||!await(i.isElement==null?void 0:i.isElement(T)))&&(C=o.floating[x]||a.floating[y]);const M=_/2-R/2,O=C/2-v[y]/2-1,E=_a(d[g],O),k=_a(d[p],O),N=E,j=C-v[y]-k,L=C/2-v[y]/2+M,B=Pp(N,L,j),D=!c.arrow&&jl(s)!=null&&L!==B&&a.reference[y]/2-(L<N?E:k)-v[y]/2<0,$=D?L<N?L-N:L-j:0;return{[h]:m[h]+$,data:{[h]:B,centerOffset:L-B-$,...D&&{alignmentOffset:$}},reset:D}}}),gL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=vs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=ys(s),p=Nr(o),x=ys(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=m||(x||!v?[qf(o)]:oL(o)),T=y!=="none";!m&&T&&R.push(...dL(o,v,y,_));const C=[o,...R],M=await Gc(t,b),O=[];let E=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&O.push(M[g]),d){const L=iL(s,i,_);O.push(M[L[0]],M[L[1]])}if(E=[...E,{placement:s,overflows:O}],!O.every(L=>L<=0)){var k,N;const L=(((k=a.flip)==null?void 0:k.index)||0)+1,B=C[L];if(B&&(!(d==="alignment"?p!==Nr(B):!1)||E.every(U=>Nr(U.placement)===p?U.overflows[0]>0:!0)))return{data:{index:L,overflows:E},reset:{placement:B}};let D=(N=E.filter($=>$.overflows[0]<=0).sort(($,U)=>$.overflows[1]-U.overflows[1])[0])==null?void 0:N.placement;if(!D)switch(h){case"bestFit":{var j;const $=(j=E.filter(U=>{if(T){const P=Nr(U.placement);return P===p||P==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(P=>P>0).reduce((P,H)=>P+H,0)]).sort((U,P)=>U[1]-P[1])[0])==null?void 0:j[0];$&&(D=$);break}case"initialPlacement":D=o;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function Hx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Gx(e){return nL.some(t=>e[t]>=0)}const pL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=vs(e,t);switch(r){case"referenceHidden":{const a=await Gc(t,{...s,elementContext:"reference"}),i=Hx(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Gx(i)}}}case"escaped":{const a=await Gc(t,{...s,altBoundary:!0}),i=Hx(a,n.floating);return{data:{escapedOffsets:i,escaped:Gx(i)}}}default:return{}}}}},TR=new Set(["left","top"]);async function vL(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=ys(n),o=jl(n),c=Nr(n)==="y",u=TR.has(i)?-1:1,f=a&&c?-1:1,d=vs(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof y=="number"&&(h=o==="end"?y*-1:y),c?{x:h*f,y:m*u}:{x:m*u,y:h*f}}const yL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await vL(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},bL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:b=>{let{x:g,y:p}=b;return{x:g,y:p}}},...c}=vs(e,t),u={x:n,y:r},f=await Gc(t,c),d=Nr(ys(s)),m=Oy(d);let h=u[m],y=u[d];if(a){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",p=h+f[b],x=h-f[g];h=Pp(p,h,x)}if(i){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",p=y+f[b],x=y-f[g];y=Pp(p,y,x)}const v=o.fn({...t,[m]:h,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:a,[d]:i}}}}}},xL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=vs(e,t),f={x:n,y:r},d=Nr(s),m=Oy(d);let h=f[m],y=f[d];const v=vs(o,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=m==="y"?"height":"width",_=a.reference[m]-a.floating[x]+b.mainAxis,R=a.reference[m]+a.reference[x]-b.mainAxis;h<_?h=_:h>R&&(h=R)}if(u){var g,p;const x=m==="y"?"width":"height",_=TR.has(ys(s)),R=a.reference[d]-a.floating[x]+(_&&((g=i.offset)==null?void 0:g[d])||0)+(_?0:b.crossAxis),T=a.reference[d]+a.reference[x]+(_?0:((p=i.offset)==null?void 0:p[d])||0)-(_?b.crossAxis:0);y<R?y=R:y>T&&(y=T)}return{[m]:h,[d]:y}}}},wL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=vs(e,t),f=await Gc(t,u),d=ys(s),m=jl(s),h=Nr(s)==="y",{width:y,height:v}=a.floating;let b,g;d==="top"||d==="bottom"?(b=d,g=m===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=d,b=m==="end"?"top":"bottom");const p=v-f.top-f.bottom,x=y-f.left-f.right,_=_a(v-f[b],p),R=_a(y-f[g],x),T=!t.middlewareData.shift;let C=_,M=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),T&&!m){const E=bn(f.left,0),k=bn(f.right,0),N=bn(f.top,0),j=bn(f.bottom,0);h?M=y-2*(E!==0||k!==0?E+k:bn(f.left,f.right)):C=v-2*(N!==0||j!==0?N+j:bn(f.top,f.bottom))}await c({...t,availableWidth:M,availableHeight:C});const O=await i.getDimensions(o.floating);return y!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Nh(){return typeof window<"u"}function Cl(e){return AR(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lr(e){var t;return(t=(AR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AR(e){return Nh()?e instanceof Node||e instanceof Tn(e).Node:!1}function gr(e){return Nh()?e instanceof Element||e instanceof Tn(e).Element:!1}function Mr(e){return Nh()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function Kx(e){return!Nh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}const _L=new Set(["inline","contents"]);function Lu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!_L.has(s)}const SL=new Set(["table","td","th"]);function EL(e){return SL.has(Cl(e))}const RL=[":popover-open",":modal"];function Oh(e){return RL.some(t=>{try{return e.matches(t)}catch{return!1}})}const jL=["transform","translate","scale","rotate","perspective"],CL=["transform","translate","scale","rotate","perspective","filter"],NL=["paint","layout","strict","content"];function My(e){const t=Dy(),n=gr(e)?pr(e):e;return jL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||CL.some(r=>(n.willChange||"").includes(r))||NL.some(r=>(n.contain||"").includes(r))}function OL(e){let t=Sa(e);for(;Mr(t)&&!al(t);){if(My(t))return t;if(Oh(t))return null;t=Sa(t)}return null}function Dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TL=new Set(["html","body","#document"]);function al(e){return TL.has(Cl(e))}function pr(e){return Tn(e).getComputedStyle(e)}function Th(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sa(e){if(Cl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kx(e)&&e.host||Lr(e);return Kx(t)?t.host:t}function MR(e){const t=Sa(e);return al(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mr(t)&&Lu(t)?t:MR(t)}function Kc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=MR(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Tn(s);if(a){const o=Fp(i);return t.concat(i,i.visualViewport||[],Lu(s)?s:[],o&&n?Kc(o):[])}return t.concat(s,Kc(s,[],n))}function Fp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DR(e){const t=pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Mr(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=Ff(n)!==a||Ff(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function ky(e){return gr(e)?e:e.contextElement}function _o(e){const t=ky(e);if(!Mr(t))return Tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=DR(t);let i=(a?Ff(n.width):n.width)/r,o=(a?Ff(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const AL=Tr(0);function kR(e){const t=Tn(e);return!Dy()||!t.visualViewport?AL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ML(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function wi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=ky(e);let i=Tr(1);t&&(r?gr(r)&&(i=_o(r)):i=_o(e));const o=ML(a,n,r)?kR(a):Tr(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(a){const m=Tn(a),h=r&&gr(r)?Tn(r):r;let y=m,v=Fp(y);for(;v&&r&&h!==y;){const b=_o(v),g=v.getBoundingClientRect(),p=pr(v),x=g.left+(v.clientLeft+parseFloat(p.paddingLeft))*b.x,_=g.top+(v.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=x,u+=_,y=Tn(v),v=Fp(y)}}return Bf({width:f,height:d,x:c,y:u})}function Ah(e,t){const n=Th(e).scrollLeft;return t?t.left+n:wi(Lr(e)).left+n}function IR(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ah(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function DL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Lr(r),o=t?Oh(t.floating):!1;if(r===i||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const f=Tr(0),d=Mr(r);if((d||!d&&!a)&&((Cl(r)!=="body"||Lu(i))&&(c=Th(r)),Mr(r))){const h=wi(r);u=_o(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const m=i&&!d&&!a?IR(i,c):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function kL(e){return Array.from(e.getClientRects())}function IL(e){const t=Lr(e),n=Th(e),r=e.ownerDocument.body,s=bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ah(e);const o=-n.scrollTop;return pr(r).direction==="rtl"&&(i+=bn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}const Qx=25;function LL(e,t){const n=Tn(e),r=Lr(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const f=Dy();(!f||f&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}const u=Ah(r);if(u<=0){const f=r.ownerDocument,d=f.body,m=getComputedStyle(d),h=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-d.clientWidth-h);y<=Qx&&(a-=y)}else u<=Qx&&(a+=u);return{width:a,height:i,x:o,y:c}}const UL=new Set(["absolute","fixed"]);function zL(e,t){const n=wi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Mr(e)?_o(e):Tr(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:o,x:c,y:u}}function Yx(e,t,n){let r;if(t==="viewport")r=LL(e,n);else if(t==="document")r=IL(Lr(e));else if(gr(t))r=zL(t,n);else{const s=kR(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bf(r)}function LR(e,t){const n=Sa(e);return n===t||!gr(n)||al(n)?!1:pr(n).position==="fixed"||LR(n,t)}function PL(e,t){const n=t.get(e);if(n)return n;let r=Kc(e,[],!1).filter(o=>gr(o)&&Cl(o)!=="body"),s=null;const a=pr(e).position==="fixed";let i=a?Sa(e):e;for(;gr(i)&&!al(i);){const o=pr(i),c=My(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&!!s&&UL.has(s.position)||Lu(i)&&!c&&LR(e,i))?r=r.filter(f=>f!==i):s=o,i=Sa(i)}return t.set(e,r),r}function $L(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Oh(t)?[]:PL(t,this._c):[].concat(n),r],o=i[0],c=i.reduce((u,f)=>{const d=Yx(t,f,s);return u.top=bn(d.top,u.top),u.right=_a(d.right,u.right),u.bottom=_a(d.bottom,u.bottom),u.left=bn(d.left,u.left),u},Yx(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function FL(e){const{width:t,height:n}=DR(e);return{width:t,height:n}}function qL(e,t,n){const r=Mr(t),s=Lr(t),a=n==="fixed",i=wi(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=Tr(0);function u(){c.x=Ah(s)}if(r||!r&&!a)if((Cl(t)!=="body"||Lu(s))&&(o=Th(t)),r){const h=wi(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&u();a&&!r&&s&&u();const f=s&&!r&&!a?IR(s,o):Tr(0),d=i.left+o.scrollLeft-c.x-f.x,m=i.top+o.scrollTop-c.y-f.y;return{x:d,y:m,width:i.width,height:i.height}}function zm(e){return pr(e).position==="static"}function Xx(e,t){if(!Mr(e)||pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Lr(e)===n&&(n=n.ownerDocument.body),n}function UR(e,t){const n=Tn(e);if(Oh(e))return n;if(!Mr(e)){let s=Sa(e);for(;s&&!al(s);){if(gr(s)&&!zm(s))return s;s=Sa(s)}return n}let r=Xx(e,t);for(;r&&EL(r)&&zm(r);)r=Xx(r,t);return r&&al(r)&&zm(r)&&!My(r)?n:r||OL(e)||n}const BL=async function(e){const t=this.getOffsetParent||UR,n=this.getDimensions,r=await n(e.floating);return{reference:qL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VL(e){return pr(e).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:Lr,getClippingRect:$L,getOffsetParent:UR,getElementRects:BL,getClientRects:kL,getDimensions:FL,getScale:_o,isElement:gr,isRTL:VL};function zR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GL(e,t){let n=null,r;const s=Lr(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:h}=u;if(o||t(),!m||!h)return;const y=wd(d),v=wd(s.clientWidth-(f+m)),b=wd(s.clientHeight-(d+h)),g=wd(f),x={rootMargin:-y+"px "+-v+"px "+-b+"px "+-g+"px",threshold:bn(0,_a(1,c))||1};let _=!0;function R(T){const C=T[0].intersectionRatio;if(C!==c){if(!_)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!zR(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(R,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return i(!0),a}function KL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ky(e),f=s||a?[...u?Kc(u):[],...Kc(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const d=u&&o?GL(u,n):null;let m=-1,h=null;i&&(h=new ResizeObserver(g=>{let[p]=g;p&&p.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let y,v=c?wi(e):null;c&&b();function b(){const g=wi(e);v&&!zR(v,g)&&n(),v=g,y=requestAnimationFrame(b)}return n(),()=>{var g;f.forEach(p=>{s&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),d==null||d(),(g=h)==null||g.disconnect(),h=null,c&&cancelAnimationFrame(y)}}const QL=yL,YL=bL,XL=gL,ZL=wL,WL=pL,Zx=mL,JL=xL,eU=(e,t,n)=>{const r=new Map,s={platform:HL,...n},a={...s.platform,_c:r};return hL(e,t,{...s,platform:a})};var tU=typeof document<"u",nU=function(){},ef=tU?w.useLayoutEffect:nU;function Vf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Vf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function PR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wx(e,t){const n=PR(e);return Math.round(t*n)/n}function Pm(e){const t=w.useRef(e);return ef(()=>{t.current=e}),t}function rU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[f,d]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=w.useState(r);Vf(m,r)||h(r);const[y,v]=w.useState(null),[b,g]=w.useState(null),p=w.useCallback(U=>{U!==T.current&&(T.current=U,v(U))},[]),x=w.useCallback(U=>{U!==C.current&&(C.current=U,g(U))},[]),_=a||y,R=i||b,T=w.useRef(null),C=w.useRef(null),M=w.useRef(f),O=c!=null,E=Pm(c),k=Pm(s),N=Pm(u),j=w.useCallback(()=>{if(!T.current||!C.current)return;const U={placement:t,strategy:n,middleware:m};k.current&&(U.platform=k.current),eU(T.current,C.current,U).then(P=>{const H={...P,isPositioned:N.current!==!1};L.current&&!Vf(M.current,H)&&(M.current=H,sh.flushSync(()=>{d(H)}))})},[m,t,n,k,N]);ef(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(U=>({...U,isPositioned:!1})))},[u]);const L=w.useRef(!1);ef(()=>(L.current=!0,()=>{L.current=!1}),[]),ef(()=>{if(_&&(T.current=_),R&&(C.current=R),_&&R){if(E.current)return E.current(_,R,j);j()}},[_,R,j,E,O]);const B=w.useMemo(()=>({reference:T,floating:C,setReference:p,setFloating:x}),[p,x]),D=w.useMemo(()=>({reference:_,floating:R}),[_,R]),$=w.useMemo(()=>{const U={position:n,left:0,top:0};if(!D.floating)return U;const P=Wx(D.floating,f.x),H=Wx(D.floating,f.y);return o?{...U,transform:"translate("+P+"px, "+H+"px)",...PR(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:H}},[n,o,D.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:j,refs:B,elements:D,floatingStyles:$}),[f,j,B,D,$])}const sU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Zx({element:r.current,padding:s}).fn(n):{}:r?Zx({element:r,padding:s}).fn(n):{}}}},aU=(e,t)=>({...QL(e),options:[e,t]}),iU=(e,t)=>({...YL(e),options:[e,t]}),oU=(e,t)=>({...JL(e),options:[e,t]}),lU=(e,t)=>({...XL(e),options:[e,t]}),cU=(e,t)=>({...ZL(e),options:[e,t]}),uU=(e,t)=>({...WL(e),options:[e,t]}),dU=(e,t)=>({...sU(e),options:[e,t]});var fU="Arrow",$R=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(Tt.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$R.displayName=fU;var hU=$R;function mU(e){const[t,n]=w.useState(void 0);return mr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Iy="Popper",[FR,qR]=Rl(Iy),[gU,BR]=FR(Iy),VR=e=>{const{__scopePopper:t,children:n}=e,[r,s]=w.useState(null);return l.jsx(gU,{scope:t,anchor:r,onAnchorChange:s,children:n})};VR.displayName=Iy;var HR="PopperAnchor",GR=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=BR(HR,n),i=w.useRef(null),o=dn(t,i),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:l.jsx(Tt.div,{...s,ref:o})});GR.displayName=HR;var Ly="PopperContent",[pU,vU]=FR(Ly),KR=w.forwardRef((e,t)=>{var de,fe,Te,_t,hn,kn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:y,...v}=e,b=BR(Ly,n),[g,p]=w.useState(null),x=dn(t,Ur=>p(Ur)),[_,R]=w.useState(null),T=mU(_),C=(T==null?void 0:T.width)??0,M=(T==null?void 0:T.height)??0,O=r+(a!=="center"?"-"+a:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],N=k.length>0,j={padding:E,boundary:k.filter(bU),altBoundary:N},{refs:L,floatingStyles:B,placement:D,isPositioned:$,middlewareData:U}=rU({strategy:"fixed",placement:O,whileElementsMounted:(...Ur)=>KL(...Ur,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[aU({mainAxis:s+M,alignmentAxis:i}),c&&iU({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?oU():void 0,...j}),c&&lU({...j}),cU({...j,apply:({elements:Ur,rects:zr,availableWidth:ki,availableHeight:Ii})=>{const{width:Pr,height:Il}=zr.reference,At=Ur.floating.style;At.setProperty("--radix-popper-available-width",`${ki}px`),At.setProperty("--radix-popper-available-height",`${Ii}px`),At.setProperty("--radix-popper-anchor-width",`${Pr}px`),At.setProperty("--radix-popper-anchor-height",`${Il}px`)}}),_&&dU({element:_,padding:o}),xU({arrowWidth:C,arrowHeight:M}),m&&uU({strategy:"referenceHidden",...j})]}),[P,H]=XR(D),Q=Ar(y);mr(()=>{$&&(Q==null||Q())},[$,Q]);const re=(de=U.arrow)==null?void 0:de.x,Y=(fe=U.arrow)==null?void 0:fe.y,Z=((Te=U.arrow)==null?void 0:Te.centerOffset)!==0,[W,se]=w.useState();return mr(()=>{g&&se(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:$?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(_t=U.transformOrigin)==null?void 0:_t.x,(hn=U.transformOrigin)==null?void 0:hn.y].join(" "),...((kn=U.hide)==null?void 0:kn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(pU,{scope:n,placedSide:P,onArrowChange:R,arrowX:re,arrowY:Y,shouldHideArrow:Z,children:l.jsx(Tt.div,{"data-side":P,"data-align":H,...v,ref:x,style:{...v.style,animation:$?void 0:"none"}})})})});KR.displayName=Ly;var QR="PopperArrow",yU={top:"bottom",right:"left",bottom:"top",left:"right"},YR=w.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=vU(QR,r),i=yU[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(hU,{...s,ref:n,style:{...s.style,display:"block"}})})});YR.displayName=QR;function bU(e){return e!==null}var xU=e=>({name:"transformOrigin",options:e,fn(t){var b,g,p;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,f]=XR(n),d={start:"0%",center:"50%",end:"100%"}[f],m=(((g=s.arrow)==null?void 0:g.x)??0)+o/2,h=(((p=s.arrow)==null?void 0:p.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=i?d:`${m}px`,v=`${-c}px`):u==="top"?(y=i?d:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=i?d:`${h}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=i?d:`${h}px`),{data:{x:y,y:v}}}});function XR(e){const[t,n="center"]=e.split("-");return[t,n]}var wU=VR,_U=GR,SU=KR,EU=YR,RU="Portal",ZR=w.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[s,a]=w.useState(!1);mr(()=>a(!0),[]);const i=n||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?S_.createPortal(l.jsx(Tt.div,{...r,ref:t}),i):null});ZR.displayName=RU;function jU(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Uu=e=>{const{present:t,children:n}=e,r=CU(t),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=dn(r.ref,NU(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:a}):null};Uu.displayName="Presence";function CU(e){const[t,n]=w.useState(),r=w.useRef(null),s=w.useRef(e),a=w.useRef("none"),i=e?"mounted":"unmounted",[o,c]=jU(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=_d(r.current);a.current=o==="mounted"?u:"none"},[o]),mr(()=>{const u=r.current,f=s.current;if(f!==e){const m=a.current,h=_d(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=h=>{const v=_d(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=h=>{h.target===t&&(a.current=_d(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function NU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $m="rovingFocusGroup.onEntryFocus",OU={bubbles:!1,cancelable:!0},zu="RovingFocusGroup",[qp,WR,TU]=_R(zu),[AU,JR]=Rl(zu,[TU]),[MU,DU]=AU(zu),ej=w.forwardRef((e,t)=>l.jsx(qp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(kU,{...e,ref:t})})}));ej.displayName=zu;var kU=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,m=w.useRef(null),h=dn(t,m),y=SR(a),[v,b]=wR({prop:i,defaultProp:o??null,onChange:c,caller:zu}),[g,p]=w.useState(!1),x=Ar(u),_=WR(n),R=w.useRef(!1),[T,C]=w.useState(0);return w.useEffect(()=>{const M=m.current;if(M)return M.addEventListener($m,x),()=>M.removeEventListener($m,x)},[x]),l.jsx(MU,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:v,onItemFocus:w.useCallback(M=>b(M),[b]),onItemShiftTab:w.useCallback(()=>p(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(M=>M+1),[]),onFocusableItemRemove:w.useCallback(()=>C(M=>M-1),[]),children:l.jsx(Tt.div,{tabIndex:g||T===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{R.current=!0}),onFocus:Oe(e.onFocus,M=>{const O=!R.current;if(M.target===M.currentTarget&&O&&!g){const E=new CustomEvent($m,OU);if(M.currentTarget.dispatchEvent(E),!E.defaultPrevented){const k=_().filter(D=>D.focusable),N=k.find(D=>D.active),j=k.find(D=>D.id===v),B=[N,j,...k].filter(Boolean).map(D=>D.ref.current);rj(B,f)}}R.current=!1}),onBlur:Oe(e.onBlur,()=>p(!1))})})}),tj="RovingFocusGroupItem",nj=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...o}=e,c=zp(),u=a||c,f=DU(tj,n),d=f.currentTabStopId===u,m=WR(n),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:v}=f;return w.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),l.jsx(qp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(Tt.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...o,ref:t,onMouseDown:Oe(e.onMouseDown,b=>{r?f.onItemFocus(u):b.preventDefault()}),onFocus:Oe(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Oe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=UU(b,f.orientation,f.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(_=>_.focusable).map(_=>_.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const _=x.indexOf(b.currentTarget);x=f.loop?zU(x,_+1):x.slice(_+1)}setTimeout(()=>rj(x))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:v!=null}):i})})});nj.displayName=tj;var IU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UU(e,t,n){const r=LU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IU[r]}function rj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function zU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var PU=ej,$U=nj,FU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$i=new WeakMap,Sd=new WeakMap,Ed={},Fm=0,sj=function(e){return e&&(e.host||sj(e.parentNode))},qU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BU=function(e,t,n,r){var s=qU(t,Array.isArray(e)?e:[e]);Ed[n]||(Ed[n]=new WeakMap);var a=Ed[n],i=[],o=new Set,c=new Set(s),u=function(d){!d||o.has(d)||(o.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(o.has(m))f(m);else try{var h=m.getAttribute(r),y=h!==null&&h!=="false",v=($i.get(m)||0)+1,b=(a.get(m)||0)+1;$i.set(m,v),a.set(m,b),i.push(m),v===1&&y&&Sd.set(m,!0),b===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return f(t),o.clear(),Fm++,function(){i.forEach(function(d){var m=$i.get(d)-1,h=a.get(d)-1;$i.set(d,m),a.set(d,h),m||(Sd.has(d)||d.removeAttribute(r),Sd.delete(d)),h||d.removeAttribute(n)}),Fm--,Fm||($i=new WeakMap,$i=new WeakMap,Sd=new WeakMap,Ed={})}},VU=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||FU(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BU(r,s,n,"aria-hidden")):function(){return null}},Bp=function(e,t){return Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Bp(e,t)};function aj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Bp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Qn=function(){return Qn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qn.apply(this,arguments)};function Na(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ij(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function oj(e,t){return function(n,r){t(n,r,e)}}function lj(e,t,n,r,s,a){function i(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,f=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,m=!1,h=n.length-1;h>=0;h--){var y={};for(var v in r)y[v]=v==="access"?{}:r[v];for(var v in r.access)y.access[v]=r.access[v];y.addInitializer=function(g){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(g||null))};var b=(0,n[h])(o==="accessor"?{get:f.get,set:f.set}:f[c],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=i(b.get))&&(f.get=d),(d=i(b.set))&&(f.set=d),(d=i(b.init))&&s.unshift(d)}else(d=i(b))&&(o==="field"?s.unshift(d):f[c]=d)}u&&Object.defineProperty(u,r.name,f),m=!0}function cj(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function uj(e){return typeof e=="symbol"?e:"".concat(e)}function dj(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function fj(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ce(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(f){try{u(r.next(f))}catch(d){i(d)}}function c(f){try{u(r.throw(f))}catch(d){i(d)}}function u(f){f.done?a(f.value):s(f.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function hj(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Mh=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function mj(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Mh(t,e,n)}function Hf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function gj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Uy(arguments[t]));return e}function pj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function zy(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function il(e){return this instanceof il?(this.v=e,this):new il(e)}function vj(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(y){return Promise.resolve(y).then(h,d)}}function o(h,y){r[h]&&(s[h]=function(v){return new Promise(function(b,g){a.push([h,v,b,g])>1||c(h,v)})},y&&(s[h]=y(s[h])))}function c(h,y){try{u(r[h](y))}catch(v){m(a[0][3],v)}}function u(h){h.value instanceof il?Promise.resolve(h.value.v).then(f,d):m(a[0][2],h)}function f(h){c("next",h)}function d(h){c("throw",h)}function m(h,y){h(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}function yj(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,a){t[s]=e[s]?function(i){return(n=!n)?{value:il(e[s](i)),done:!1}:a?a(i):i}:a}}function bj(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Hf=="function"?Hf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(i){return new Promise(function(o,c){i=e[a](i),s(o,c,i.done,i.value)})}}function s(a,i,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},i)}}function xj(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var HU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Vp=function(e){return Vp=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Vp(e)};function wj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Vp(e),r=0;r<n.length;r++)n[r]!=="default"&&Mh(t,e,n[r]);return HU(t,e),t}function _j(e){return e&&e.__esModule?e:{default:e}}function Sj(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Ej(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function Rj(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function jj(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var GU=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Cj(e){function t(a){e.error=e.hasError?new GU(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(i){return t(i),s()})}else r|=1}catch(i){t(i)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Nj(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,a,i){return r?t?".jsx":".js":s&&(!a||!i)?n:s+a+"."+i.toLowerCase()+"js"}):e}const KU={__extends:aj,__assign:Qn,__rest:Na,__decorate:ij,__param:oj,__esDecorate:lj,__runInitializers:cj,__propKey:uj,__setFunctionName:dj,__metadata:fj,__awaiter:ce,__generator:hj,__createBinding:Mh,__exportStar:mj,__values:Hf,__read:Uy,__spread:gj,__spreadArrays:pj,__spreadArray:zy,__await:il,__asyncGenerator:vj,__asyncDelegator:yj,__asyncValues:bj,__makeTemplateObject:xj,__importStar:wj,__importDefault:_j,__classPrivateFieldGet:Sj,__classPrivateFieldSet:Ej,__classPrivateFieldIn:Rj,__addDisposableResource:jj,__disposeResources:Cj,__rewriteRelativeImportExtension:Nj},QU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jj,get __assign(){return Qn},__asyncDelegator:yj,__asyncGenerator:vj,__asyncValues:bj,__await:il,__awaiter:ce,__classPrivateFieldGet:Sj,__classPrivateFieldIn:Rj,__classPrivateFieldSet:Ej,__createBinding:Mh,__decorate:ij,__disposeResources:Cj,__esDecorate:lj,__exportStar:mj,__extends:aj,__generator:hj,__importDefault:_j,__importStar:wj,__makeTemplateObject:xj,__metadata:fj,__param:oj,__propKey:uj,__read:Uy,__rest:Na,__rewriteRelativeImportExtension:Nj,__runInitializers:cj,__setFunctionName:dj,__spread:gj,__spreadArray:zy,__spreadArrays:pj,__values:Hf,default:KU},Symbol.toStringTag,{value:"Module"}));var tf="right-scroll-bar-position",nf="width-before-scroll-bar",YU="with-scroll-bars-hidden",XU="--removed-body-scroll-bar-size";function qm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZU(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var WU=typeof window<"u"?w.useLayoutEffect:w.useEffect,Jx=new WeakMap;function JU(e,t){var n=ZU(t||null,function(r){return e.forEach(function(s){return qm(s,r)})});return WU(function(){var r=Jx.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(o){a.has(o)||qm(o,null)}),a.forEach(function(o){s.has(o)||qm(o,i)})}Jx.set(n,e)},[e]),n}function e4(e){return e}function t4(e,t){t===void 0&&(t=e4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(a),i=n}var c=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return s}function n4(e){e===void 0&&(e={});var t=t4(null);return t.options=Qn({async:!0,ssr:!1},e),t}var Oj=function(e){var t=e.sideCar,n=Na(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Qn({},n))};Oj.isSideCarExport=!0;function r4(e,t){return e.useMedium(t),Oj}var Tj=n4(),Bm=function(){},Dh=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Bm,onWheelCapture:Bm,onTouchMoveCapture:Bm}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,h=e.noRelative,y=e.noIsolation,v=e.inert,b=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,x=e.gapMode,_=Na(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,T=JU([n,t]),C=Qn(Qn({},_),s);return w.createElement(w.Fragment,null,f&&w.createElement(R,{sideCar:Tj,removeScrollBar:u,shards:d,noRelative:h,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?w.cloneElement(w.Children.only(o),Qn(Qn({},C),{ref:T})):w.createElement(p,Qn({},C,{className:c,ref:T}),o))});Dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dh.classNames={fullWidth:nf,zeroRight:tf};var ew,s4=function(){if(ew)return ew;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s4();return t&&e.setAttribute("nonce",t),e}function i4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function o4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var l4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=a4())&&(i4(t,n),o4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c4=function(){var e=l4();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Aj=function(){var e=c4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},u4={left:0,top:0,right:0,gap:0},Vm=function(e){return parseInt(e||"",10)||0},d4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vm(n),Vm(r),Vm(s)]},f4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u4;var t=d4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},h4=Aj(),So="data-scroll-locked",m4=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tf,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(nf,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(So,`] {
    `).concat(XU,": ").concat(o,`px;
  }
`)},tw=function(){var e=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(e)?e:0},g4=function(){w.useEffect(function(){return document.body.setAttribute(So,(tw()+1).toString()),function(){var e=tw()-1;e<=0?document.body.removeAttribute(So):document.body.setAttribute(So,e.toString())}},[])},p4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;g4();var a=w.useMemo(function(){return f4(s)},[s]);return w.createElement(h4,{styles:m4(a,!t,s,n?"":"!important")})},Hp=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Hp=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Hp=!1}var Fi=Hp?{passive:!1}:!1,v4=function(e){return e.tagName==="TEXTAREA"},Mj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!v4(e)&&n[t]==="visible")},y4=function(e){return Mj(e,"overflowY")},b4=function(e){return Mj(e,"overflowX")},nw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Dj(e,r);if(s){var a=kj(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},x4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},w4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dj=function(e,t){return e==="v"?y4(t):b4(t)},kj=function(e,t){return e==="v"?x4(t):w4(t)},_4=function(e,t){return e==="h"&&t==="rtl"?-1:1},S4=function(e,t,n,r,s){var a=_4(e,window.getComputedStyle(t).direction),i=a*r,o=n.target,c=t.contains(o),u=!1,f=i>0,d=0,m=0;do{if(!o)break;var h=kj(e,o),y=h[0],v=h[1],b=h[2],g=v-b-a*y;(y||g)&&Dj(e,o)&&(d+=g,m+=y);var p=o.parentNode;o=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(f&&(s&&Math.abs(d)<1||!s&&i>d)||!f&&(s&&Math.abs(m)<1||!s&&-i>m))&&(u=!0),u},jd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rw=function(e){return[e.deltaX,e.deltaY]},sw=function(e){return e&&"current"in e?e.current:e},E4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},R4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j4=0,qi=[];function C4(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(j4++)[0],a=w.useState(Aj)[0],i=w.useRef(e);w.useEffect(function(){i.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=zy([e.lockRef.current],(e.shards||[]).map(sw),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=w.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var g=jd(v),p=n.current,x="deltaX"in v?v.deltaX:p[0]-g[0],_="deltaY"in v?v.deltaY:p[1]-g[1],R,T=v.target,C=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&C==="h"&&T.type==="range")return!1;var M=nw(C,T);if(!M)return!0;if(M?R=C:(R=C==="v"?"h":"v",M=nw(C,T)),!M)return!1;if(!r.current&&"changedTouches"in v&&(x||_)&&(r.current=R),!R)return!0;var O=r.current||R;return S4(O,b,v,O==="h"?x:_,!0)},[]),c=w.useCallback(function(v){var b=v;if(!(!qi.length||qi[qi.length-1]!==a)){var g="deltaY"in b?rw(b):jd(b),p=t.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&E4(R.delta,g)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var x=(i.current.shards||[]).map(sw).filter(Boolean).filter(function(R){return R.contains(b.target)}),_=x.length>0?o(b,x[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=w.useCallback(function(v,b,g,p){var x={name:v,delta:b,target:g,should:p,shadowParent:N4(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),f=w.useCallback(function(v){n.current=jd(v),r.current=void 0},[]),d=w.useCallback(function(v){u(v.type,rw(v),v.target,o(v,e.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,jd(v),v.target,o(v,e.lockRef.current))},[]);w.useEffect(function(){return qi.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fi),document.addEventListener("touchmove",c,Fi),document.addEventListener("touchstart",f,Fi),function(){qi=qi.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Fi),document.removeEventListener("touchmove",c,Fi),document.removeEventListener("touchstart",f,Fi)}},[]);var h=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(a,{styles:R4(s)}):null,h?w.createElement(p4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const O4=r4(Tj,C4);var Ij=w.forwardRef(function(e,t){return w.createElement(Dh,Qn({},e,{ref:t,sideCar:O4}))});Ij.classNames=Dh.classNames;const T4=Ij;var Gp=["Enter"," "],A4=["ArrowDown","PageUp","Home"],Lj=["ArrowUp","PageDown","End"],M4=[...A4,...Lj],D4={ltr:[...Gp,"ArrowRight"],rtl:[...Gp,"ArrowLeft"]},k4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pu="Menu",[Qc,I4,L4]=_R(Pu),[Ni,Uj]=Rl(Pu,[L4,qR,JR]),kh=qR(),zj=JR(),[U4,Oi]=Ni(Pu),[z4,$u]=Ni(Pu),Pj=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,o=kh(t),[c,u]=w.useState(null),f=w.useRef(!1),d=Ar(a),m=SR(s);return w.useEffect(()=>{const h=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(wU,{...o,children:l.jsx(U4,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:l.jsx(z4,{scope:t,onClose:w.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:m,modal:i,children:r})})})};Pj.displayName=Pu;var P4="MenuAnchor",Py=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=kh(n);return l.jsx(_U,{...s,...r,ref:t})});Py.displayName=P4;var $y="MenuPortal",[$4,$j]=Ni($y,{forceMount:void 0}),Fj=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Oi($y,t);return l.jsx($4,{scope:t,forceMount:n,children:l.jsx(Uu,{present:n||a.open,children:l.jsx(ZR,{asChild:!0,container:s,children:r})})})};Fj.displayName=$y;var Zn="MenuContent",[F4,Fy]=Ni(Zn),qj=w.forwardRef((e,t)=>{const n=$j(Zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Oi(Zn,e.__scopeMenu),i=$u(Zn,e.__scopeMenu);return l.jsx(Qc.Provider,{scope:e.__scopeMenu,children:l.jsx(Uu,{present:r||a.open,children:l.jsx(Qc.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(q4,{...s,ref:t}):l.jsx(B4,{...s,ref:t})})})})}),q4=w.forwardRef((e,t)=>{const n=Oi(Zn,e.__scopeMenu),r=w.useRef(null),s=dn(t,r);return w.useEffect(()=>{const a=r.current;if(a)return VU(a)},[]),l.jsx(qy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Oe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),B4=w.forwardRef((e,t)=>{const n=Oi(Zn,e.__scopeMenu);return l.jsx(qy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),V4=Vc("MenuContent.ScrollLock"),qy=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:h,disableOutsideScroll:y,...v}=e,b=Oi(Zn,n),g=$u(Zn,n),p=kh(n),x=zj(n),_=I4(n),[R,T]=w.useState(null),C=w.useRef(null),M=dn(t,C,b.onContentChange),O=w.useRef(0),E=w.useRef(""),k=w.useRef(0),N=w.useRef(null),j=w.useRef("right"),L=w.useRef(0),B=y?T4:w.Fragment,D=y?{as:V4,allowPinchZoom:!0}:void 0,$=P=>{var de,fe;const H=E.current+P,Q=_().filter(Te=>!Te.disabled),re=document.activeElement,Y=(de=Q.find(Te=>Te.ref.current===re))==null?void 0:de.textValue,Z=Q.map(Te=>Te.textValue),W=nz(Z,H,Y),se=(fe=Q.find(Te=>Te.textValue===W))==null?void 0:fe.ref.current;(function Te(_t){E.current=_t,window.clearTimeout(O.current),_t!==""&&(O.current=window.setTimeout(()=>Te(""),1e3))})(H),se&&setTimeout(()=>se.focus())};w.useEffect(()=>()=>window.clearTimeout(O.current),[]),GI();const U=w.useCallback(P=>{var Q,re;return j.current===((Q=N.current)==null?void 0:Q.side)&&sz(P,(re=N.current)==null?void 0:re.area)},[]);return l.jsx(F4,{scope:n,searchRef:E,onItemEnter:w.useCallback(P=>{U(P)&&P.preventDefault()},[U]),onItemLeave:w.useCallback(P=>{var H;U(P)||((H=C.current)==null||H.focus(),T(null))},[U]),onTriggerLeave:w.useCallback(P=>{U(P)&&P.preventDefault()},[U]),pointerGraceTimerRef:k,onPointerGraceIntentChange:w.useCallback(P=>{N.current=P},[]),children:l.jsx(B,{...D,children:l.jsx(CR,{asChild:!0,trapped:s,onMountAutoFocus:Oe(a,P=>{var H;P.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(RR,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,onDismiss:h,children:l.jsx(PU,{asChild:!0,...x,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:T,onEntryFocus:Oe(c,P=>{g.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(SU,{role:"menu","aria-orientation":"vertical","data-state":sC(b.open),"data-radix-menu-content":"",dir:g.dir,...p,...v,ref:M,style:{outline:"none",...v.style},onKeyDown:Oe(v.onKeyDown,P=>{const Q=P.target.closest("[data-radix-menu-content]")===P.currentTarget,re=P.ctrlKey||P.altKey||P.metaKey,Y=P.key.length===1;Q&&(P.key==="Tab"&&P.preventDefault(),!re&&Y&&$(P.key));const Z=C.current;if(P.target!==Z||!M4.includes(P.key))return;P.preventDefault();const se=_().filter(de=>!de.disabled).map(de=>de.ref.current);Lj.includes(P.key)&&se.reverse(),ez(se)}),onBlur:Oe(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(O.current),E.current="")}),onPointerMove:Oe(e.onPointerMove,Yc(P=>{const H=P.target,Q=L.current!==P.clientX;if(P.currentTarget.contains(H)&&Q){const re=P.clientX>L.current?"right":"left";j.current=re,L.current=P.clientX}}))})})})})})})});qj.displayName=Zn;var H4="MenuGroup",By=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Tt.div,{role:"group",...r,ref:t})});By.displayName=H4;var G4="MenuLabel",Bj=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Tt.div,{...r,ref:t})});Bj.displayName=G4;var Gf="MenuItem",aw="menu.itemSelect",Ih=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=w.useRef(null),i=$u(Gf,e.__scopeMenu),o=Fy(Gf,e.__scopeMenu),c=dn(t,a),u=w.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const m=new CustomEvent(aw,{bubbles:!0,cancelable:!0});d.addEventListener(aw,h=>r==null?void 0:r(h),{once:!0}),mR(d,m),m.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(Vj,{...s,ref:c,disabled:n,onClick:Oe(e.onClick,f),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:Oe(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:Oe(e.onKeyDown,d=>{const m=o.searchRef.current!=="";n||m&&d.key===" "||Gp.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Ih.displayName=Gf;var Vj=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=Fy(Gf,n),o=zj(n),c=w.useRef(null),u=dn(t,c),[f,d]=w.useState(!1),[m,h]=w.useState("");return w.useEffect(()=>{const y=c.current;y&&h((y.textContent??"").trim())},[a.children]),l.jsx(Qc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx($U,{asChild:!0,...o,focusable:!r,children:l.jsx(Tt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Oe(e.onPointerMove,Yc(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(e.onPointerLeave,Yc(y=>i.onItemLeave(y))),onFocus:Oe(e.onFocus,()=>d(!0)),onBlur:Oe(e.onBlur,()=>d(!1))})})})}),K4="MenuCheckboxItem",Hj=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return l.jsx(Xj,{scope:e.__scopeMenu,checked:n,children:l.jsx(Ih,{role:"menuitemcheckbox","aria-checked":Kf(n)?"mixed":n,...s,ref:t,"data-state":Hy(n),onSelect:Oe(s.onSelect,()=>r==null?void 0:r(Kf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Hj.displayName=K4;var Gj="MenuRadioGroup",[Q4,Y4]=Ni(Gj,{value:void 0,onValueChange:()=>{}}),Kj=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=Ar(r);return l.jsx(Q4,{scope:e.__scopeMenu,value:n,onValueChange:a,children:l.jsx(By,{...s,ref:t})})});Kj.displayName=Gj;var Qj="MenuRadioItem",Yj=w.forwardRef((e,t)=>{const{value:n,...r}=e,s=Y4(Qj,e.__scopeMenu),a=n===s.value;return l.jsx(Xj,{scope:e.__scopeMenu,checked:a,children:l.jsx(Ih,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Hy(a),onSelect:Oe(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});Yj.displayName=Qj;var Vy="MenuItemIndicator",[Xj,X4]=Ni(Vy,{checked:!1}),Zj=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=X4(Vy,n);return l.jsx(Uu,{present:r||Kf(a.checked)||a.checked===!0,children:l.jsx(Tt.span,{...s,ref:t,"data-state":Hy(a.checked)})})});Zj.displayName=Vy;var Z4="MenuSeparator",Wj=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Wj.displayName=Z4;var W4="MenuArrow",Jj=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=kh(n);return l.jsx(EU,{...s,...r,ref:t})});Jj.displayName=W4;var J4="MenuSub",[Gq,eC]=Ni(J4),sc="MenuSubTrigger",tC=w.forwardRef((e,t)=>{const n=Oi(sc,e.__scopeMenu),r=$u(sc,e.__scopeMenu),s=eC(sc,e.__scopeMenu),a=Fy(sc,e.__scopeMenu),i=w.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),c(null)}},[o,c]),l.jsx(Py,{asChild:!0,...u,children:l.jsx(Vj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":sC(n.open),...e,ref:_h(t,s.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Oe(e.onPointerMove,Yc(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Oe(e.onPointerLeave,Yc(d=>{var h,y;f();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const v=(y=n.content)==null?void 0:y.dataset.side,b=v==="right",g=b?-5:5,p=m[b?"left":"right"],x=m[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:p,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:p,y:m.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(e.onKeyDown,d=>{var h;const m=a.searchRef.current!=="";e.disabled||m&&d.key===" "||D4[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});tC.displayName=sc;var nC="MenuSubContent",rC=w.forwardRef((e,t)=>{const n=$j(Zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Oi(Zn,e.__scopeMenu),i=$u(Zn,e.__scopeMenu),o=eC(nC,e.__scopeMenu),c=w.useRef(null),u=dn(t,c);return l.jsx(Qc.Provider,{scope:e.__scopeMenu,children:l.jsx(Uu,{present:r||a.open,children:l.jsx(Qc.Slot,{scope:e.__scopeMenu,children:l.jsx(qy,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Oe(e.onFocusOutside,f=>{f.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Oe(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:Oe(e.onKeyDown,f=>{var h;const d=f.currentTarget.contains(f.target),m=k4[i.dir].includes(f.key);d&&m&&(a.onOpenChange(!1),(h=o.trigger)==null||h.focus(),f.preventDefault())})})})})})});rC.displayName=nC;function sC(e){return e?"open":"closed"}function Kf(e){return e==="indeterminate"}function Hy(e){return Kf(e)?"indeterminate":e?"checked":"unchecked"}function ez(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function nz(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=tz(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function rz(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a],c=t[i],u=o.x,f=o.y,d=c.x,m=c.y;f>r!=m>r&&n<(d-u)*(r-f)/(m-f)+u&&(s=!s)}return s}function sz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rz(n,t)}function Yc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var az=Pj,iz=Py,oz=Fj,lz=qj,cz=By,uz=Bj,dz=Ih,fz=Hj,hz=Kj,mz=Yj,gz=Zj,pz=Wj,vz=Jj,yz=tC,bz=rC,Lh="DropdownMenu",[xz,Kq]=Rl(Lh,[Uj]),Yt=Uj(),[wz,aC]=xz(Lh),iC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=Yt(t),u=w.useRef(null),[f,d]=wR({prop:s,defaultProp:a??!1,onChange:i,caller:Lh});return l.jsx(wz,{scope:t,triggerId:zp(),triggerRef:u,contentId:zp(),open:f,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(m=>!m),[d]),modal:o,children:l.jsx(az,{...c,open:f,onOpenChange:d,dir:r,modal:o,children:n})})};iC.displayName=Lh;var oC="DropdownMenuTrigger",lC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=aC(oC,n),i=Yt(n);return l.jsx(iz,{asChild:!0,...i,children:l.jsx(Tt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:_h(t,a.triggerRef),onPointerDown:Oe(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Oe(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});lC.displayName=oC;var _z="DropdownMenuPortal",cC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Yt(t);return l.jsx(oz,{...r,...n})};cC.displayName=_z;var uC="DropdownMenuContent",dC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=aC(uC,n),a=Yt(n),i=w.useRef(!1);return l.jsx(lz,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:Oe(e.onCloseAutoFocus,o=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:Oe(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dC.displayName=uC;var Sz="DropdownMenuGroup",Ez=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(cz,{...s,...r,ref:t})});Ez.displayName=Sz;var Rz="DropdownMenuLabel",fC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(uz,{...s,...r,ref:t})});fC.displayName=Rz;var jz="DropdownMenuItem",hC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(dz,{...s,...r,ref:t})});hC.displayName=jz;var Cz="DropdownMenuCheckboxItem",Nz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(fz,{...s,...r,ref:t})});Nz.displayName=Cz;var Oz="DropdownMenuRadioGroup",Tz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(hz,{...s,...r,ref:t})});Tz.displayName=Oz;var Az="DropdownMenuRadioItem",Mz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(mz,{...s,...r,ref:t})});Mz.displayName=Az;var Dz="DropdownMenuItemIndicator",kz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(gz,{...s,...r,ref:t})});kz.displayName=Dz;var Iz="DropdownMenuSeparator",mC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(pz,{...s,...r,ref:t})});mC.displayName=Iz;var Lz="DropdownMenuArrow",Uz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(vz,{...s,...r,ref:t})});Uz.displayName=Lz;var zz="DropdownMenuSubTrigger",Pz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(yz,{...s,...r,ref:t})});Pz.displayName=zz;var $z="DropdownMenuSubContent",Fz=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Yt(n);return l.jsx(bz,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fz.displayName=$z;var qz=iC,Bz=lC,Vz=cC,Hz=dC,Gz=fC,Kz=hC,Qz=mC;const Yz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(()=>Promise.resolve().then(()=>Ti),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Gy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class iw extends Gy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ow extends Gy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lw extends Gy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kp||(Kp={}));class Xz{constructor(t,{headers:n={},customFetch:r,region:s=Kp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Yz(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ce(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:a,method:i,body:o,signal:c}=r;let u={},{region:f}=r;f||(f=this.region);const d=new URL(`${this.url}/${n}`);f&&f!=="any"&&(u["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let m;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=o):typeof o=="string"?(u["Content-Type"]="text/plain",m=o):typeof FormData<"u"&&o instanceof FormData?m=o:(u["Content-Type"]="application/json",m=JSON.stringify(o)):m=o;const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(g=>{throw g.name==="AbortError"?g:new iw(g)}),y=h.headers.get("x-relay-error");if(y&&y==="true")throw new ow(h);if(!h.ok)throw new lw(h);let v=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield h.json():v==="application/octet-stream"||v==="application/pdf"?b=yield h.blob():v==="text/event-stream"?b=h:v==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new iw(a)}:{data:null,error:a,response:a instanceof lw||a instanceof ow?a.context:void 0}}})}}var ln={};const Nl=o_(QU);var Cd={},Nd={},Od={},Td={},Ad={},Zz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=Zz();const Wz=ol.fetch,gC=ol.fetch.bind(ol),pC=ol.Headers,Jz=ol.Request,eP=ol.Response,Ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:pC,Request:Jz,Response:eP,default:gC,fetch:Wz},Symbol.toStringTag,{value:"Module"})),tP=o_(Ti);var Md={},cw;function vC(){if(cw)return Md;cw=1,Object.defineProperty(Md,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Md.default=e,Md}var uw;function yC(){if(uw)return Ad;uw=1,Object.defineProperty(Ad,"__esModule",{value:!0});const e=Nl,t=e.__importDefault(tP),n=e.__importDefault(vC());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,d,m,h;let y=null,v=null,b=null,g=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?v=T:v=JSON.parse(T))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),R=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&R&&R.length>1&&(b=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(y={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,b=null,g=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await u.text();try{y=JSON.parse(_),Array.isArray(y)&&u.status===404&&(v=[],y=null,g=200,p="OK")}catch{u.status===404&&_===""?(g=204,p="No Content"):y={message:_}}if(y&&this.isMaybeSingle&&(!((h=y==null?void 0:y.details)===null||h===void 0)&&h.includes("0 rows"))&&(y=null,g=200,p="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:v,count:b,status:g,statusText:p}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,d,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return Ad.default=r,Ad}var dw;function bC(){if(dw)return Td;dw=1,Object.defineProperty(Td,"__esModule",{value:!0});const t=Nl.__importDefault(yC());class n extends t.default{select(s){let a=!1;const i=(s??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var f;const d=[s?"analyze":null,a?"verbose":null,i?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Td.default=n,Td}var fw;function Ky(){if(fw)return Od;fw=1,Object.defineProperty(Od,"__esModule",{value:!0});const t=Nl.__importDefault(bC());class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const i=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:i,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,i])=>{this.url.searchParams.append(a,`eq.${i}`)}),this}not(s,a,i){return this.url.searchParams.append(s,`not.${a}.${i}`),this}or(s,{foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,a,i){return this.url.searchParams.append(s,`${a}.${i}`),this}}return Od.default=n,Od}var hw;function xC(){if(hw)return Nd;hw=1,Object.defineProperty(Nd,"__esModule",{value:!0});const t=Nl.__importDefault(Ky());class n{constructor(s,{headers:a={},schema:i,fetch:o}){this.url=s,this.headers=new Headers(a),this.schema=i,this.fetch=o}select(s,a){const{head:i=!1,count:o}=a??{},c=i?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:i=!0}={}){var o;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:o,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(d.length>0){const m=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var i;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var a;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Nd.default=n,Nd}var mw;function nP(){if(mw)return Cd;mw=1,Object.defineProperty(Cd,"__esModule",{value:!0});const e=Nl,t=e.__importDefault(xC()),n=e.__importDefault(Ky());class r{constructor(a,{headers:i={},schema:o,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=o,this.fetch=c}from(a){const i=new URL(`${this.url}/${a}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:o=!1,get:c=!1,count:u}={}){var f;let d;const m=new URL(`${this.url}/rpc/${a}`);let h;o||c?(d=o?"HEAD":"GET",Object.entries(i).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{m.searchParams.append(v,b)})):(d="POST",h=i);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:m,headers:y,schema:this.schemaName,body:h,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Cd.default=r,Cd}Object.defineProperty(ln,"__esModule",{value:!0});ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const Ol=Nl,wC=Ol.__importDefault(nP());ln.PostgrestClient=wC.default;const _C=Ol.__importDefault(xC());ln.PostgrestQueryBuilder=_C.default;const SC=Ol.__importDefault(Ky());ln.PostgrestFilterBuilder=SC.default;const EC=Ol.__importDefault(bC());ln.PostgrestTransformBuilder=EC.default;const RC=Ol.__importDefault(yC());ln.PostgrestBuilder=RC.default;const jC=Ol.__importDefault(vC());ln.PostgrestError=jC.default;var rP=ln.default={PostgrestClient:wC.default,PostgrestQueryBuilder:_C.default,PostgrestFilterBuilder:SC.default,PostgrestTransformBuilder:EC.default,PostgrestBuilder:RC.default,PostgrestError:jC.default};const{PostgrestClient:sP,PostgrestQueryBuilder:Qq,PostgrestFilterBuilder:Yq,PostgrestTransformBuilder:Xq,PostgrestBuilder:Zq,PostgrestError:Wq}=rP;class aP{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iP="2.76.1",oP=`realtime-js/${iP}`,lP="1.0.0",Qp=1e4,cP=1e3,uP=100;var Ec;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ec||(Ec={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ur||(ur={}));var Yp;(function(e){e.websocket="websocket"})(Yp||(Yp={}));var Ba;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ba||(Ba={}));class dP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class CC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const gw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=fP(i,e,t,s),a),{}):{}},fP=(e,t,n,r)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=n[e];return a&&!r.includes(a)?NC(a,i):Xp(i)},NC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return pP(t,n)}switch(e){case Ve.bool:return hP(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return mP(t);case Ve.json:case Ve.jsonb:return gP(t);case Ve.timestamp:return vP(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Xp(t);default:return Xp(t)}},Xp=e=>e,hP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>NC(t,o))}return e},vP=e=>typeof e=="string"?e.replace(" ","T"):e,OC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hm{constructor(t,n,r={},s=Qp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pw||(pw={}));class Rc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Rc.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rc.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),i=this.transformState(n),o={},c={};return this.map(a,(u,f)=>{i[u]||(c[u]=f)}),this.map(i,(u,f)=>{const d=a[u];if(d){const m=f.map(b=>b.presence_ref),h=d.map(b=>b.presence_ref),y=f.filter(b=>h.indexOf(b.presence_ref)<0),v=d.filter(b=>m.indexOf(b.presence_ref)<0);y.length>0&&(o[u]=y),v.length>0&&(c[u]=v)}else o[u]=f}),this.syncDiff(a,{joins:o,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const f=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),f.length>0){const d=t[o].map(h=>h.presence_ref),m=f.filter(h=>d.indexOf(h.presence_ref)<0);t[o].unshift(...m)}r(o,f,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vw||(vw={}));var jc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jc||(jc={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class Qy{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hm(this,ur.join,this.params,this.timeout),this.rejoinTimer=new CC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Rc(this),this.broadcastEndpointURL=OC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[jc.PRESENCE]&&this.bindings[jc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},m={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Yr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<b;p++){const x=v[p],{filter:{event:_,schema:R,table:T,filter:C}}=x,M=h&&h[p];if(M&&M.event===_&&M.schema===R&&M.table===T&&M.filter===C)g.push(Object.assign(Object.assign({},x),{id:M.id}));else{this.unsubscribe(),this.state=yt.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Yr.SUBSCRIBED);return}}).receive("error",h=>{this.state=yt.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===yt.joined&&t===jc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Hm(this,ur.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:f}=ur;if(r&&[o,c,u,f].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var y,v,b;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(h=>h.callback(m,r)):(a=this.bindings[i])===null||a===void 0||a.filter(h=>{var y,v,b,g,p,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,R=(y=h.filter)===null||y===void 0?void 0:y.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:v,table:b,commit_timestamp:g,type:p,errors:x}=y;m=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(y))}h.callback(m,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Qy.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ur.close,{},t)}_onError(t){this._on(ur.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gw(t.columns,t.old_record)),n}}const Gm=()=>{},Dd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yP=[1e3,2e3,5e3,1e4],bP=1e4,xP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qp,this.transport=null,this.heartbeatIntervalMs=Dd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gm,this.ref=0,this.reconnectTimer=null,this.logger=Gm,this.conn=null,this.sendBuffer=[],this.serializer=new dP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>Sl(()=>Promise.resolve().then(()=>Ti),void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yp.websocket}`,this.httpEndpoint=OC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lP}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ec.connecting:return Ba.Connecting;case Ec.open:return Ba.Open;case Ec.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Qy(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Dd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:i}=n,o=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ur.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([xP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:oP};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new CC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,i,o,c,u,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Qp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Dd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Gm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>yP[d-1]||bP,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _P extends Yy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zp extends Yy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Xy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(()=>Promise.resolve().then(()=>Ti),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SP=()=>ce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sl(()=>Promise.resolve().then(()=>Ti),void 0)).Response:Response}),Wp=e=>{if(Array.isArray(e))return e.map(n=>Wp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Wp(r)}),t},EP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Km=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RP=(e,t,n)=>ce(void 0,void 0,void 0,function*(){const r=yield SP();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new _P(Km(s),a,i))}).catch(s=>{t(new Zp(Km(s),s))}):t(new Zp(Km(e),e))}),jP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(EP(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Fu(e,t,n,r,s,a){return ce(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,jP(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>RP(c,o,r))})})}function Xc(e,t,n,r){return ce(this,void 0,void 0,function*(){return Fu(e,"GET",t,n,r)})}function ar(e,t,n,r,s){return ce(this,void 0,void 0,function*(){return Fu(e,"POST",t,r,s,n)})}function Jp(e,t,n,r,s){return ce(this,void 0,void 0,function*(){return Fu(e,"PUT",t,r,s,n)})}function CP(e,t,n,r){return ce(this,void 0,void 0,function*(){return Fu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zy(e,t,n,r,s){return ce(this,void 0,void 0,function*(){return Fu(e,"DELETE",t,r,s,n)})}class NP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var TC;class OP{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[TC]="BlobDownloadBuilder",this.promise=null}asStream(){return new NP(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}TC=Symbol.toStringTag;const TP=OP,AP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MP{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Xy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return ce(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},yw),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Jp:ar)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ce(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:yw.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Jp(this.fetch,o.toString(),c,{headers:f});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Yy("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}update(t,n,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ce(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ce(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=a?`?${a}`:"",o=this._getFinalPath(t),c=()=>Xc(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new TP(c,this.shouldThrowOnError)}info(t){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}exists(t){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield CP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r)&&r instanceof Zp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}list(t,n,r){return ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},AP),n),{prefix:t||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listV2(t,n){return ce(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const AC="2.76.1",MC={"X-Client-Info":`storage-js/${AC}`};class DP{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MC),n),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ce(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}createBucket(t){return ce(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ce(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}class kP{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},MC),n),this.fetch=Xy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,a=yield Xc(this.fetch,s,{headers:this.headers});return{data:Array.isArray(a)?a.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}const Wy={"X-Client-Info":`storage-js/${AC}`,"Content-Type":"application/json"};class DC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Qm extends DC{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class IP extends DC{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var bw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bw||(bw={}));const Jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(()=>Promise.resolve().then(()=>Ti),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UP=(e,t,n)=>ce(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Qm(xw(i),s,o))}).catch(()=>{const i=s+"",o=a.statusText||`HTTP ${s} error`;t(new Qm(o,s,i))});else{const i=s+"",o=a.statusText||`HTTP ${s} error`;t(new Qm(o,s,i))}}else t(new IP(xw(e),e))}),zP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(LP(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function PP(e,t,n,r,s,a){return ce(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,zP(t,r,s,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>UP(c,o,r))})})}function Sn(e,t,n,r,s){return ce(this,void 0,void 0,function*(){return PP(e,"POST",t,r,s,n)})}class $P{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),n),this.fetch=Jy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ce(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}listIndexes(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ce(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}})}}class FP{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),n),this.fetch=Jy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Sn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Sn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}queryVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Sn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class qP{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),n),this.fetch=Jy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}listBuckets(){return ce(this,arguments,void 0,function*(t={}){try{return{data:yield Sn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}})}}class BP extends qP{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new VP(this.url,this.headers,t,this.fetch)}}class VP extends $P{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new HP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class HP extends FP{constructor(t,n,r,s,a){super(t,n,a),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class GP extends DP{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new MP(this.url,this.headers,t,this.fetch)}get vectors(){return new BP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kP(this.url+"/iceberg",this.headers,this.fetch)}}const KP="2.76.1";let ac="";typeof Deno<"u"?ac="deno":typeof document<"u"?ac="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ac="react-native":ac="node";const QP={"X-Client-Info":`supabase-js-${ac}/${KP}`},YP={headers:QP},XP={schema:"public"},ZP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WP={},JP=e=>{let t;return e?t=e:typeof fetch>"u"?t=gC:t=fetch,(...n)=>t(...n)},e$=()=>typeof Headers>"u"?pC:Headers,t$=(e,t,n)=>{const r=JP(n),s=e$();return async(a,i)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},i),{headers:u}))}};function n$(e){return e.endsWith("/")?e:e+"/"}function r$(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:c,auth:u,realtime:f,global:d}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function s$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kC="2.76.1",Ji=30*1e3,ev=3,Ym=ev*Ji,a$="http://localhost:9999",i$="supabase.auth.token",o$={"X-Client-Info":`gotrue-js/${kC}`},tv="X-Supabase-Api-Version",IC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c$=10*60*1e3;class Zc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u$ extends Zc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function d$(e){return he(e)&&e.name==="AuthApiError"}class Va extends Zc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Oa extends Zc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Os extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f$(e){return he(e)&&e.name==="AuthSessionMissingError"}class Bi extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kd extends Oa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Id extends Oa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h$(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class ww extends Oa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nv extends Oa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xm(e){return he(e)&&e.name==="AuthRetryableFetchError"}class _w extends Oa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rv extends Oa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sw=` 	
\r=`.split(""),m$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sw.length;t+=1)e[Sw[t].charCodeAt(0)]=-2;for(let t=0;t<Qf.length;t+=1)e[Qf[t].charCodeAt(0)]=t;return e})();function Ew(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qf[r]),t.queuedBits-=6}}function LC(e,t,n){const r=m$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rw(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{v$(i,r,n)};for(let i=0;i<e.length;i+=1)LC(e.charCodeAt(i),s,a);return t.join("")}function g$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function p$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}g$(r,t)}}function v$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Eo(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)LC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function y$(e){const t=[];return p$(e,n=>t.push(n)),new Uint8Array(t)}function Ka(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ew(s,n,r)),Ew(null,n,r),t.join("")}function b$(e){return Math.round(Date.now()/1e3)+e}function x$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gn=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},UC=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function w$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const zC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(()=>Promise.resolve().then(()=>Ti),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",eo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Da=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},js=async(e,t)=>{await e.removeItem(t)};class Uh{constructor(){this.promise=new Uh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Uh.promiseConstructor=Promise;function Zm(e){const t=e.split(".");if(t.length!==3)throw new rv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!l$.test(t[r]))throw new rv("JWT not in base64url format");return{header:JSON.parse(Rw(t[0])),payload:JSON.parse(Rw(t[1])),signature:Eo(t[2]),raw:{header:t[0],payload:t[1]}}}async function S$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E$(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function R$(e){return("0"+e.toString(16)).substr(-2)}function j$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,R$).join("")}async function C$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function N$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await C$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vi(e,t,n=!1){const r=j$();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await eo(e,`${t}-code-verifier`,s);const a=await N$(r);return[a,r===a?"plain":"s256"]}const O$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T$(e){const t=e.headers.get(tv);if(!t||!t.match(O$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hi(e){if(!D$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jw(e){return JSON.parse(JSON.stringify(e))}const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),k$=[502,503,504];async function Cw(e){var t;if(!_$(e))throw new nv(qa(e),0);if(k$.includes(e.status))throw new nv(qa(e),e.status);let n;try{n=await e.json()}catch(a){throw new Va(qa(a),a)}let r;const s=T$(e);if(s&&s.getTime()>=IC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _w(qa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Os}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new _w(qa(n),e.status,n.weak_password.reasons);throw new u$(qa(n),e.status||500,r)}const I$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ye(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[tv]||(a[tv]=IC["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await L$(e,t,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function L$(e,t,n,r,s,a){const i=I$(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new nv(qa(c),0)}if(o.ok||await Cw(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await Cw(c)}}function sr(e){var t;let n=null;P$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=b$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Nw(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function U$(e){return{data:e,error:null}}function z$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=Na(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function Ow(e){return e}function P$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jm=["global","local","others"];class $${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=zC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Jm[0]){if(Jm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jm.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Us})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Na(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:z$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Us})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ow});if(f.error)throw f.error;const d=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hi(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Us})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Hi(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Us})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Hi(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Us})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Hi(t.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Hi(t.userId),Hi(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ow});if(f.error)throw f.error;const d=await f.json(),m=(i=f.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(he(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}}function Tw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Gi={debug:!!(globalThis&&UC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F$ extends PC{}async function q$(e,t,n){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function B$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $C(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function V$(e){return parseInt(e,16)}function H$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function G$(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:c,resources:u,scheme:f,uri:d,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=$C(e.address),y=f?`${f}://${r}`:r,v=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${h}

${v}`;let g=`URI: ${d}
Version: ${m}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);p+=`
- ${x}`}g+=p}return`${b}
${g}`}class ft extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Yf extends ft{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function K$({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(FC(i)){if(a.rp.id!==i)return new ft({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Q$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(FC(r)){if(n.rpId!==r)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Y${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const X$=new Y$;function Z$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Na(e,["challenge","user","excludeCredentials"]),a=Eo(t).buffer,i=Object.assign(Object.assign({},n),{id:Eo(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Eo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function W$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Na(e,["challenge","allowCredentials"]),s=Eo(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const o=n[i];a.allowCredentials[i]=Object.assign(Object.assign({},o),{id:Eo(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function J$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ka(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ka(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function e3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ka(new Uint8Array(s.authenticatorData)),clientDataJSON:Ka(new Uint8Array(s.clientDataJSON)),signature:Ka(new Uint8Array(s.signature)),userHandle:s.userHandle?Ka(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Aw(){var e,t;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function t3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yf("Browser returned unexpected credential type",t)}:{data:null,error:new Yf("Empty credential response",t)}}catch(t){return{data:null,error:K$({error:t,options:e})}}}async function n3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yf("Browser returned unexpected credential type",t)}:{data:null,error:new Yf("Empty credential response",t)}}catch(t){return{data:null,error:Q$({error:t,options:e})}}}const r3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},s3={userVerification:"preferred",hints:["security-key"]};function Xf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))r[a]=i;else if(n(i))r[a]=i;else if(t(i)){const o=r[a];t(o)?r[a]=Xf(o,i):r[a]=Xf(i)}else r[a]=i}return r}function a3(e,t){return Xf(r3,e,t||{})}function i3(e,t){return Xf(s3,e,t||{})}class o3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:o};const c=s??X$.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=a3(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:d}=await t3({publicKey:u,signal:c});return f?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const u=i3(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:d}=await n3(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return f?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new Va("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!n)return{data:null,error:new Zc("rpId is required for WebAuthn authentication")};try{if(!Aw())return{data:null,error:new Va("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!i)return{data:null,error:o};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new Va("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!n)return{data:null,error:new Zc("rpId is required for WebAuthn registration")};try{if(!Aw())return{data:null,error:new Va("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return he(i)?{data:null,error:i}:{data:null,error:new Va("Unexpected error in register",i)}}}}B$();const l3={url:a$,storageKey:i$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mw(e,t,n){return await n()}const Ki={};class Wc{get jwks(){var t,n;return(n=(t=Ki[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ki[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ki[this.storageKey]=Object.assign(Object.assign({},Ki[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wc.nextInstanceID,Wc.nextInstanceID+=1,this.instanceID>0&&gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},l3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zC(s.fetch),this.lock=s.lock||Mw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:gn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=q$:this.lock=Mw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o3(this)},this.persistSession?(s.storage?this.storage=s.storage:UC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Tw(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=w$(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),gn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),h$(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new Va("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:f,password:d,options:m}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Vi(this.storage,this.storageKey)),a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:y},xform:sr})}else if("phone"in t){const{phone:f,password:d,options:m}=t;a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sr})}else throw new kd("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:i,options:o}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nw})}else if("phone"in t){const{phone:a,password:i,options:o}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nw})}else throw new kd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,i,o,c,u,f,d,m;let h,y;if("message"in t)h=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:g,options:p}=t;let x;if(gn())if(typeof b=="object")x=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")x=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),R=await x.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=$C(R[0]);let C=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const O=await x.request({method:"eth_chainId"});C=V$(O)}const M={domain:_.host,address:T,statement:g,uri:_.href,version:"1",chainId:C,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=p==null?void 0:p.signInWithEthereum)===null||f===void 0?void 0:f.resources};h=G$(M),y=await x.request({method:"personal_sign",params:[H$(h),T]})}try{const{data:v,error:b}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sr});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Bi}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var n,r,s,a,i,o,c,u,f,d,m,h;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:b,wallet:g,statement:p,options:x}=t;let _;if(gn())if(typeof g=="object")_=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const R=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),p?{statement:p}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${R.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:b,error:g}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ka(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sr});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Bi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(he(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Da(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:i}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sr});if(await js(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Bi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(he(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=t,o=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Bi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Vi(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new kd("You must provide either an email or phone number.")}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:sr});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Vi(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:U$})}catch(a){if(he(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Os;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:i}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:i,error:o}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new kd("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ym:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await Da(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Wm()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Us}):await this._useSession(async n=>{var r,s,a;const{data:i,error:o}=n;if(o)throw o;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Os}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Us})})}catch(n){if(he(n))return f$(n)&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Os;const i=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Vi(this.storage,this.storageKey));const{data:u,error:f}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:Us});if(f)throw f;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Os;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=Zm(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:o}=n;if(o)throw o;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Os;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!gn())throw new Id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ww("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Id("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ww("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!i||!u)throw new Id("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let m=f+d;c&&(m=parseInt(c));const h=m-f;h*1e3<=Ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=m-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,f);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:m,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(he(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Da(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(d$(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=x$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Vi(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(he(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,o,c,u,f;const{data:d,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",h,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return gn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(he(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:i,provider:o,token:c,access_token:u,nonce:f}=t,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:sr}),{data:m,error:h}=d;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Bi}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:h})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E$(async s=>(s>0&&await S$(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Xm(a)&&Date.now()+i-r<Ji})}catch(r){if(this._debug(n,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),gn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Da(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await eo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Wm()}else if(s&&!s.user&&!s.user){const i=await Da(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await js(this.storage,this.storageKey+"-user"),await eo(this.storage,this.storageKey,s)):s.user=Wm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ym;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ym}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Xm(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Uh;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Os;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),he(a)){const i={data:null,error:a};return Xm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await eo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=jw(s);await eo(this.storage,this.storageKey,a)}else{const s=jw(n);await eo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await js(this.storage,this.storageKey),await js(this.storage,this.storageKey+"-code-verifier"),await js(this.storage,this.storageKey+"-user"),this.userStorage&&await js(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ji);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ji}ms, refresh threshold is ${ev} ticks`),s<=ev&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof PC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await Vi(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?J$(t.webauthn.credential_response):e3(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const i=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Z$(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:W$(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zm(s.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+c$>s)return r;const{data:a,error:i}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:y}=await this.getSession();if(y||!h.session)return{data:null,error:y};r=h.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:c}}=Zm(r);n!=null&&n.allowExpired||A$(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:a,header:s,signature:i},error:null}}const f=M$(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,i,y$(`${o}.${c}`)))throw new rv("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}Wc.nextInstanceID=0;const c3=Wc;class u3 extends c3{constructor(t){super(t)}}class d3{constructor(t,n,r){var s,a,i;this.supabaseUrl=t,this.supabaseKey=n;const o=s$(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:XP,realtime:WP,auth:Object.assign(Object.assign({},ZP),{storageKey:c}),global:YP},f=r$(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=t$(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new sP(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new GP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Xz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:i,flowType:o,lock:c,debug:u},f,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u3({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:o,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f3=(e,t,n)=>new d3(e,t,n);function h3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}h3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function m3(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var a;const i=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),o=(a=n.getItem(s))!=null?a:null;return o instanceof Promise?o.then(i):i(o)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const Jc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Jc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Jc(r)(n)}}}},g3=(e,t)=>(n,r,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},i=!1;const o=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...b)},r,s);const f=Jc(a.serialize),d=()=>{const b=a.partialize({...r()});let g;const p=f({state:b,version:a.version}).then(x=>u.setItem(a.name,x)).catch(x=>{g=x});if(g)throw g;return p},m=s.setState;s.setState=(b,g)=>{m(b,g),d()};const h=e((...b)=>{n(...b),d()},r,s);let y;const v=()=>{var b;if(!u)return;i=!1,o.forEach(p=>p(r()));const g=((b=a.onRehydrateStorage)==null?void 0:b.call(a,r()))||void 0;return Jc(u.getItem.bind(u))(a.name).then(p=>{if(p)return a.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return a.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var x;return y=a.merge(p,(x=r())!=null?x:h),n(y,!0),d()}).then(()=>{g==null||g(y,void 0),i=!0,c.forEach(p=>p(y))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:b=>{a={...a,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},v(),y||h},p3=(e,t)=>(n,r,s)=>{let a={storage:m3(()=>localStorage),partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},i=!1;const o=new Set,c=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},r,s);const f=()=>{const v=a.partialize({...r()});return u.setItem(a.name,{state:v,version:a.version})},d=s.setState;s.setState=(v,b)=>{d(v,b),f()};const m=e((...v)=>{n(...v),f()},r,s);s.getInitialState=()=>m;let h;const y=()=>{var v,b;if(!u)return;i=!1,o.forEach(p=>{var x;return p((x=r())!=null?x:m)});const g=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(v=r())!=null?v:m))||void 0;return Jc(u.getItem.bind(u))(a.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return[!0,a.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var x;const[_,R]=p;if(h=a.merge(R,(x=r())!=null?x:m),n(h,!0),_)return f()}).then(()=>{g==null||g(h,void 0),h=r(),i=!0,c.forEach(p=>p(h))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||y(),h||m},v3=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?g3(e,t):p3(e,t),y3=v3;var nt=e=>{F1.success(e)},Xe=e=>{F1.error(e)};function Ot(...e){return ZM(I1(e))}var Ea=e=>confirm(e),b3=(e,t)=>{if(!(!e||!t))return t.indexOf(".")===-1?e[t]:t.split(".").reduce((n,r)=>n&&n[r]!==void 0?n[r]:void 0,e)},Dw=()=>`ID_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,x3=q1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-solid border-gray-300 bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200 hover:text-gray-900 dark:bg-gray-100 dark:border-gray-300 dark:text-gray-900 dark:hover:bg-gray-200",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),ie=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?D1:"button";return l.jsx(i,{"data-slot":"button",className:Ot(x3({variant:t,size:n,className:e})),ref:a,...s})});ie.displayName="Button";var ve=w.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,"data-slot":"input",className:Ot("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));ve.displayName="Input";var ne=w.forwardRef(({className:e,...t},n)=>l.jsx("label",{ref:n,"data-slot":"label",className:Ot("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ne.displayName="Label";var w3=q1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ds({className:e,variant:t,asChild:n=!1,...r}){const s=n?D1:"span";return l.jsx(s,{"data-slot":"badge",className:Ot(w3({variant:t}),e),...r})}function qe({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:Ot("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",e),...t})}function Pn({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:Ot("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function $n({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:Ot("leading-none font-semibold",e),...t})}function vn({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:Ot("px-6",e),...t})}var qC=w.createContext(null);function eg(e){const t=document.documentElement,n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=e==="dark"||e==="system"&&n;t.classList.toggle("dark",r)}var _3=({defaultTheme:e="system",children:t})=>{const[n,r]=w.useState(e);w.useEffect(()=>{var u;const i=localStorage.getItem("theme")||e;r(i),eg(i);const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{(localStorage.getItem("theme")||"system")==="system"&&eg("system")};return(u=o.addEventListener)==null||u.call(o,"change",c),()=>{var f;return(f=o.removeEventListener)==null?void 0:f.call(o,"change",c)}},[e]);const s=i=>{localStorage.setItem("theme",i),r(i),eg(i)},a=w.useMemo(()=>({theme:n,setTheme:s}),[n]);return l.jsx(qC.Provider,{value:a,children:t})},S3=()=>{const e=w.useContext(qC);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},E3=({className:e})=>{const{theme:t,setTheme:n}=S3();return l.jsx("div",{className:"inline-flex gap-2 items-center",children:l.jsxs("select",{"aria-label":"Theme",value:t,onChange:r=>n(r.target.value),className:Ot("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","w-36",e),children:[l.jsx("option",{value:"light",children:"Light"}),l.jsx("option",{value:"dark",children:"Dark"}),l.jsx("option",{value:"system",children:"System"})]})})},R3=({children:e,className:t,...n})=>l.jsx("table",{className:`w-full border-collapse border border-border table-auto ${t||""}`,...n,children:e}),j3=({children:e})=>l.jsx("thead",{className:"bg-muted",children:e}),C3=({children:e})=>l.jsx("tbody",{className:"divide-y divide-gray-200",children:e}),Ld=({children:e,onClick:t,className:n})=>l.jsx("tr",{onClick:t,className:`${t?"cursor-pointer hover:bg-muted/50":""} ${n||""}`,children:e}),N3=({children:e})=>l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider border-b border-border min-w-0",children:e}),tg=({children:e,colSpan:t,className:n})=>l.jsx("td",{colSpan:t,className:`px-4 py-3 text-sm text-foreground border-b border-border min-w-0 max-w-xs ${n||""}`,children:l.jsx("div",{className:"truncate",title:typeof e=="string"?e:"",children:e})});function e0({data:e,columns:t,onEditRow:n,onDeleteRow:r,onRowClick:s,enableFiltering:a=!1,filterableColumns:i=[],stickyColumns:o=[],onBulkDelete:c,onBulkExport:u,initialPageSize:f=nx.PAGE_SIZE,pageSizeOptions:d=[...nx.PAGE_SIZE_OPTIONS],enableGlobalSearch:m=!0,enableColumnVisibility:h=!1,enableRowSelection:y=!1,loading:v=!1,emptyMessage:b="No results found.",className:g}){const[p,x]=w.useState({}),[_,R]=w.useState(0),[T,C]=w.useState(f),[M,O]=w.useState(new Set),[E,k]=w.useState(""),[N,j]=w.useState([]),[L,B]=w.useState({}),[D,$]=w.useState(!1),U=w.useMemo(()=>{const Z=y?{id:"select",header:({table:se})=>{const de=se.getRowModel().rows.map(Te=>Te.original),fe=de.length>0&&de.every(Te=>M.has(Te.id));return l.jsx("div",{className:"w-8",children:l.jsx("input",{type:"checkbox","aria-label":"Select all",checked:fe,onChange:Te=>{const _t=new Set(M);Te.target.checked?de.forEach(hn=>_t.add(hn.id)):de.forEach(hn=>_t.delete(hn.id)),O(_t)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})},cell:({row:se})=>l.jsx("div",{className:"flex w-8",children:l.jsx("input",{type:"checkbox","aria-label":"Select row",checked:M.has(se.original.id),onChange:de=>{const fe=new Set(M);de.target.checked?fe.add(se.original.id):fe.delete(se.original.id),O(fe)},className:"h-4 w-4 rounded border-border text-primary focus:ring-ring"})})}:null,W=n||r?{id:"actions",header:"Actions",cell:({row:se})=>l.jsxs("div",{className:"flex gap-2",children:[n&&l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>n(se.original),children:"Edit"}),r&&l.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>{Ea("Are you sure you want to delete this item?")&&r(se.original)},children:"Delete"})]})}:null;return[Z,...t,W].filter(Boolean)},[t,n,r,y,M]),P=w.useMemo(()=>{let Z=e;return a&&Object.keys(p).length>0&&(Z=Z.filter(W=>Object.entries(p).every(([se,de])=>{if(!de)return!0;const fe=b3(W,se);return String(fe).toLowerCase().includes(de.toLowerCase())}))),m&&E&&(Z=Z.filter(W=>Object.values(W).some(se=>String(se).toLowerCase().includes(E.toLowerCase())))),Z},[e,p,E,a,m]),H=w.useMemo(()=>{const Z=_*T,W=Z+T;return P.slice(Z,W)},[P,_,T]),Q=Math.ceil(P.length/T),re=JD({data:H,columns:U,state:{sorting:N,columnVisibility:L},onSortingChange:j,onColumnVisibilityChange:B,getCoreRowModel:VD(),getSortedRowModel:YD(),getFilteredRowModel:QD()}),Y=()=>{x({}),k(""),R(0)};return l.jsxs("div",{className:`w-full space-y-1 ${g||""}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m&&l.jsx("div",{className:"flex-1 max-w-sm",children:l.jsx("input",{type:"text",placeholder:"Search all columns...",value:E,onChange:Z=>{k(Z.target.value),R(0)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[E&&l.jsx(ie,{variant:"outline",size:"sm",onClick:Y,children:"Clear Search"}),h&&l.jsxs("div",{className:"relative",children:[l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>$(!D),children:"Columns "}),D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>$(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-md shadow-lg z-20 p-2",children:re.getAllColumns().filter(Z=>Z.getCanHide()).map(Z=>l.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-accent rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:Z.getIsVisible(),onChange:Z.getToggleVisibilityHandler(),className:"h-4 w-4 rounded border-border"}),l.jsx("span",{className:"text-sm capitalize",children:Z.id.replace(/([A-Z])/g," $1").replace(/^./,W=>W.toUpperCase())})]},Z.id))})]})]})]})]}),l.jsx("div",{className:"rounded-md border border-border overflow-hidden shadow-sm",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(R3,{className:"min-w-full",children:[l.jsx(j3,{children:re.getHeaderGroups().map(Z=>l.jsx(Ld,{children:Z.headers.map(W=>l.jsx(N3,{children:W.isPlaceholder?null:l.jsxs("div",{className:W.column.getCanSort()?"cursor-pointer select-none flex items-center gap-2":"",onClick:W.column.getToggleSortingHandler(),children:[ux(W.column.columnDef.header,W.getContext()),W.column.getCanSort()&&l.jsx("span",{className:"ml-1",children:{asc:"",desc:""}[W.column.getIsSorted()]??""})]})},W.id))},Z.id))}),l.jsx(C3,{children:v?l.jsx(Ld,{children:l.jsx(tg,{colSpan:U.length,className:"h-24 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-foreground"}),"Loading..."]})})}):re.getRowModel().rows.length?re.getRowModel().rows.map(Z=>l.jsx(Ld,{onClick:()=>s&&s(Z.original),className:s?"cursor-pointer hover:bg-muted/50":"",children:Z.getVisibleCells().map(W=>l.jsx(tg,{children:ux(W.column.columnDef.cell,W.getContext())},W.id))},Z.id)):l.jsx(Ld,{children:l.jsx(tg,{colSpan:U.length,className:"h-24 text-center text-muted-foreground",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"text-4xl",children:""}),l.jsx("div",{children:b})]})})})})]})})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_*T+1," to ",Math.min((_+1)*T,P.length)," of ",P.length," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>R(Math.max(0,_-1)),disabled:_===0,children:"Previous"}),l.jsxs("span",{className:"text-sm",children:["Page ",_+1," of ",Q]}),l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>R(Math.min(Q-1,_+1)),disabled:_>=Q-1,children:"Next"})]})]}),M.size>0&&(c||u)&&l.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-4 -mx-4 -mb-4 rounded-b-md",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>O(new Set),className:"h-8 w-8 p-0",children:""}),l.jsxs("span",{className:"text-sm font-medium",children:[M.size," item",M.size>1?"s":""," selected"]})]}),l.jsxs("div",{className:"flex gap-2",children:[u&&l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>u(Array.from(M)),children:" Export"}),c&&l.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>{Ea(`Delete ${M.size} selected items? This action cannot be undone.`)&&(c(Array.from(M)),O(new Set))},children:" Delete"})]})]})})]})}function Tl({title:e,createButtonText:t,createButtonHref:n,entityName:r,data:s,columns:a,onRowClick:i,onEditRow:o,onDeleteRow:c,enableFiltering:u=!0,filterableColumns:f=[],enableGlobalSearch:d=!1,onBulkDelete:m,onBulkExport:h,loading:y=!1,emptyMessage:v,detailComponent:b,className:g}){const p=t||`+ New ${r||"Item"}`;return l.jsxs("div",{className:`space-y-1 ${g||""}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:e}),l.jsx(Sr,{to:n,children:l.jsx(ie,{variant:"outline",children:p})})]}),l.jsx(e0,{data:s,columns:a,onRowClick:i,onEditRow:o,onDeleteRow:c,enableFiltering:u,filterableColumns:f,enableGlobalSearch:d,onBulkDelete:m,onBulkExport:h,loading:y,emptyMessage:v}),b]})}var ng=e=>console.error(e),O3=e=>console.warn(e),T3=e=>console.info(e),A3=(e={})=>{const{logErrors:t=!0,showUserMessages:n=!0,maxRetries:r=3,retryDelay:s=1e3,onError:a=null,onRetry:i=null,onFallback:o=null}=e,[c,u]=w.useState([]),[f,d]=w.useState(!1),m=w.useRef(0),h=w.useCallback(async(C,M="",O={})=>{const E={id:`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,message:C.message||"An unexpected error occurred",type:C.type||gd.SERVER_ERROR,severity:C.severity||"medium",context:M,timestamp:new Date().toISOString(),userMessage:C.userMessage||C.message||"An unexpected error occurred"};if(u(k=>[...k,E]),t&&console.error(`[${M}] Error:`,C),n){const k=E.userMessage;switch(E.severity){case"low":O3(k);break;case"medium":ng(k);break;case"high":case"critical":ng(k);break;default:ng(k)}}return a&&await a(E,M),E},[t,n,a]),y=w.useCallback(async(C,M={})=>{const{context:O="",fallbackMessage:E="Operation failed",retry:k=!1,maxRetries:N=r}=M;try{return k?await v(C,N):await C()}catch(j){throw await h(j,O,{fallbackMessage:E})}},[r,h]),v=w.useCallback(async(C,M)=>{let O;for(let E=1;E<=M;E++)try{d(E>1),m.current=E-1;const k=await C();return d(!1),m.current=0,k}catch(k){if(O=k,E<M){const N=s*Math.pow(2,E-1);i&&await i(k,E,N),n&&T3(`Retrying... (${E}/${M})`),await new Promise(j=>setTimeout(j,N))}}throw d(!1),m.current=0,O},[s,i,n]),b=w.useCallback((C,M={})=>{const O={message:C,type:gd.VALIDATION_ERROR,severity:"medium",details:M,userMessage:C};return h(O,"validation")},[h]),g=w.useCallback((C="Network connection failed")=>{const M={message:C,type:gd.NETWORK_ERROR,severity:"high",userMessage:C};return h(M,"network")},[h]),p=w.useCallback((C="Authentication failed")=>{const M={message:C,type:gd.AUTHENTICATION_ERROR,severity:"high",userMessage:C};return h(M,"authentication")},[h]),x=w.useCallback(()=>{u([])},[]),_=w.useCallback(C=>{u(M=>M.filter(O=>O.id!==C))},[]),R=w.useCallback(C=>c.filter(M=>M.type===C),[c]),T=w.useCallback(()=>c.some(C=>C.severity==="critical"),[c]);return{handleError:h,handleAsync:y,handleValidationError:b,handleNetworkError:g,handleAuthError:p,clearErrors:x,clearError:_,getErrorsByType:R,hasCriticalErrors:T,errors:c,isRetrying:f,retryCount:m.current,retryOperation:v}},M3=jp(e=>({isOpen:!0,toggle:()=>e(t=>({isOpen:!t.isOpen})),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})}));function D3(e,t){const n=Cy();return{useGetAll:(m={},h)=>Xl({queryKey:[t,"list",m],queryFn:()=>e.getAll(m),...h}),useGetPaginated:(m={},h)=>Xl({queryKey:[t,"paginated",m],queryFn:()=>e.getPaginated(m),...h}),useGetById:(m,h="*",y)=>Xl({queryKey:[t,"detail",m,h],queryFn:()=>e.getById(m,h),enabled:m!=null,...y}),useSearch:(m,h=["name"],y={},v)=>Xl({queryKey:[t,"search",m,h,y],queryFn:()=>e.search(m,h,y),enabled:m.length>0,...v}),useCount:(m,h)=>Xl({queryKey:[t,"count",m],queryFn:()=>e.count(m),...h}),useCreate:()=>xd({mutationFn:m=>e.create(m),onSuccess:()=>{n.invalidateQueries({queryKey:[t]})}}),useUpdate:()=>xd({mutationFn:({id:m,data:h})=>e.update(m,h),onSuccess:(m,h)=>{n.setQueryData([t,"detail",h.id],m),n.invalidateQueries({queryKey:[t,"list"]}),n.invalidateQueries({queryKey:[t,"paginated"]})}}),useDelete:()=>xd({mutationFn:m=>e.delete(m),onSuccess:(m,h)=>{n.removeQueries({queryKey:[t,"detail",h]}),n.invalidateQueries({queryKey:[t,"list"]}),n.invalidateQueries({queryKey:[t,"paginated"]})}}),useBulkDelete:()=>xd({mutationFn:m=>e.bulkDelete(m),onSuccess:(m,h)=>{h.forEach(y=>{n.removeQueries({queryKey:[t,"detail",y]})}),n.invalidateQueries({queryKey:[t,"list"]}),n.invalidateQueries({queryKey:[t,"paginated"]})}}),invalidateAll:()=>n.invalidateQueries({queryKey:[t]}),invalidateList:()=>{n.invalidateQueries({queryKey:[t,"list"]}),n.invalidateQueries({queryKey:[t,"paginated"]})},invalidateDetail:m=>n.invalidateQueries({queryKey:[t,"detail",m]})}}var BC=w.createContext(null),k3=({children:e,supabaseClient:t,onAuthStateChange:n})=>{const[r,s]=w.useState(null),[a,i]=w.useState(null),[o,c]=w.useState(!0),[u,f]=w.useState(null);w.useEffect(()=>{(async()=>{try{const{data:{session:p},error:x}=await t.auth.getSession();x?f("Failed to initialize authentication"):(i(p),s((p==null?void 0:p.user)??null),n==null||n((p==null?void 0:p.user)??null,p))}catch{f("Authentication initialization failed")}finally{c(!1)}})();const{data:{subscription:g}}=t.auth.onAuthStateChange(async(p,x)=>{i(x),s((x==null?void 0:x.user)??null),f(null),n==null||n((x==null?void 0:x.user)??null,x),p==="SIGNED_OUT"&&c(!1)});return()=>g.unsubscribe()},[t,n]);const v={user:r,session:a,loading:o,error:u,signIn:async(b,g)=>{try{f(null);const{error:p}=await t.auth.signInWithPassword({email:b,password:g});return p?(f(p.message),{error:p.message}):{}}catch{const x="Sign in failed";return f(x),{error:x}}},signUp:async(b,g,p)=>{try{f(null);const{error:x}=await t.auth.signUp({email:b,password:g,options:{data:p}});return x?(f(x.message),{error:x.message}):{}}catch{const _="Sign up failed";return f(_),{error:_}}},signOut:async()=>{try{f(null),await t.auth.signOut()}catch{f("Sign out failed")}},resetPassword:async b=>{try{f(null);const{error:g}=await t.auth.resetPasswordForEmail(b);return g?(f(g.message),{error:g.message}):{}}catch{const p="Password reset failed";return f(p),{error:p}}}};return l.jsx(BC.Provider,{value:v,children:e})},I3=()=>{const e=w.useContext(BC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function L3({config:e,initialData:t={},onSubmit:n,onSuccess:r,onCancel:s,showCancel:a=!0,isEditMode:i=!1,isLoading:o=!1,customActions:c=null,customFieldRenderers:u={},className:f="bg-card rounded-lg shadow-sm border"}){const{handleAsync:d}=A3("GenericForm"),m=w.useMemo(()=>{const E={};return e.sections.forEach(k=>{k.fields.forEach(N=>{N.name in t?E[N.name]=t[N.name]:N.defaultValue!==void 0?E[N.name]=N.defaultValue:E[N.name]=""})}),E},[e,t]),{register:h,handleSubmit:y,formState:{isSubmitting:v,errors:b},watch:g,setValue:p,getValues:x,reset:_,clearErrors:R}=Sk({defaultValues:m,mode:"onChange"}),T=async E=>{await d(async()=>{await n(E),r&&r(),_(m)},{context:i?e.editContext:e.addContext,fallbackMessage:i?e.editErrorMessage:e.addErrorMessage})},C=E=>{var j,L;const k=g(E.name);if(E.conditional&&!E.conditional(k,g,x))return null;if(u[E.type])return u[E.type](E,{watch:g,setValue:p,getValues:x,register:h,isSubmitting:v,fieldValue:k});const N={id:E.name,placeholder:E.placeholder,disabled:E.disabled||v,className:E.className||"",...h(E.name,E.validation||{})};switch(E.type){case"select":return l.jsxs("div",{children:[l.jsxs("select",{...h(E.name,E.validation),disabled:E.disabled||v,className:Ot("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",b[E.name]&&"border-destructive",E.className),children:[l.jsx("option",{value:"",children:E.placeholder||`Seleziona ${E.label.toLowerCase()}`}),(j=E.options)==null?void 0:j.map(B=>l.jsx("option",{value:B.value,children:B.label},B.value))]}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"textarea":return l.jsxs("div",{children:[l.jsx("textarea",{...N,rows:E.rows||3,className:Ot("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",b[E.name]&&"border-destructive",E.className)}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"checkbox":return l.jsx("div",{className:"flex flex-wrap gap-2",children:(L=E.options)==null?void 0:L.map(B=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:`${E.name}_${B.value}`,value:B.value,checked:(k==null?void 0:k.includes(B.value))||!1,onChange:D=>{const $=x(E.name)||[];D.target.checked?p(E.name,[...$,B.value].sort(),{shouldValidate:!0}):p(E.name,$.filter(U=>U!==B.value),{shouldValidate:!0})},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx(ne,{htmlFor:`${E.name}_${B.value}`,className:"text-[10px] font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:B.label})]},B.value))});case"datetime-local":return l.jsxs("div",{children:[l.jsx(ve,{type:"datetime-local",...N,className:`${N.className} ${b[E.name]?"border-red-500":""}`}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"date":return l.jsxs("div",{children:[l.jsx(ve,{type:"date",...N,className:`${N.className} ${b[E.name]?"border-red-500":""}`}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"time":return l.jsxs("div",{children:[l.jsx(ve,{type:"time",...N,className:`${N.className} ${b[E.name]?"border-red-500":""}`}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"number":return l.jsxs("div",{children:[l.jsx(ve,{type:"number",...N,className:`${N.className} ${b[E.name]?"border-red-500":""}`}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]});case"text":default:return l.jsxs("div",{children:[l.jsx(ve,{type:"text",...N,className:`${N.className} ${b[E.name]?"border-red-500":""}`}),b[E.name]&&l.jsx("p",{className:"text-sm text-destructive mt-1",children:b[E.name].message})]})}},M=E=>{const k=E.fields.filter(N=>!N.conditional||N.conditional(g(N.name),g,x));return k.length===0?null:l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground border-b border-border pb-2",children:E.title}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(N=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ne,{htmlFor:N.name,className:"text-sm font-medium text-foreground",children:[N.label," ",N.required&&l.jsx("span",{className:"text-destructive",children:"*"})]}),C(N),N.helpText&&l.jsx("p",{className:"text-xs text-muted-foreground",children:N.helpText})]},N.name))})]},E.title)},O=E=>u[E]?u[E]():null;return l.jsx("div",{className:"bg-card rounded-lg border border-border shadow-sm",children:l.jsxs("form",{onSubmit:y(T),noValidate:!0,className:"p-6 space-y-8",children:[e.sections.map(M),e.customFields&&Object.keys(e.customFields).map(E=>l.jsx("div",{children:O(E)},E)),c&&l.jsx("div",{className:"space-y-4",children:c}),l.jsxs("div",{className:`flex pt-6 border-t border-border ${a?"justify-end gap-2":"justify-end"}`,children:[a&&l.jsx(ie,{type:"button",variant:"ghost",onClick:s||(()=>window.history.back()),disabled:o||v,className:"px-6 py-2",children:"Cancel"}),l.jsx(ie,{type:"submit",disabled:o||v,className:"px-6 py-2",children:o||v?i?e.editLoadingText:e.addLoadingText:i?e.editButtonText:e.addButtonText})]})]})})}var qu=L3;function t0({title:e,editTitle:t,isEditMode:n=!1,formConfig:r,initialData:s={},onSubmit:a,onCancel:i,showCancel:o=!0,isLoading:c=!1,customActions:u,customFieldRenderers:f={},className:d}){const m=n?t||e.replace("Nuovo","Modifica"):e;return l.jsxs("div",{className:`space-y-2 ${d||""}`,children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:m})}),l.jsx(qu,{config:r,initialData:s,onSubmit:a,onCancel:i,showCancel:o,isEditMode:n,isLoading:c,customActions:u,customFieldRenderers:f})]})}var U3=class extends F.Component{constructor(e){super(e),this.handleRetry=()=>{const t=this.props.maxRetries||3;this.state.retryCount<t&&this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:this.state.retryCount+1})},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0})},this.handleReportIssue=()=>{var r;const t=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${((r=this.state.error)==null?void 0:r.message)||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${t}&body=${n}`)},this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:Dw()}}componentDidCatch(e,t){this.setState({errorInfo:t,errorId:this.state.errorId||Dw()}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,{retry:this.handleRetry,reset:this.handleReset,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"max-w-md w-full bg-card shadow-lg rounded-lg p-6 border",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-8 w-8 text-destructive text-2xl",children:""})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Something went wrong"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),this.state.errorId&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Error ID: ",l.jsx("code",{className:"bg-muted px-1 rounded",children:this.state.errorId})]})]}),l.jsxs("div",{className:"flex space-x-3 mb-4",children:[this.state.retryCount<(this.props.maxRetries||3)&&l.jsxs("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Try Again (",this.state.retryCount+1,"/",(this.props.maxRetries||3)+1,")"]}),l.jsx("button",{onClick:this.handleReset,className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Reset"})]}),l.jsx("button",{onClick:this.handleReportIssue,className:"w-full bg-gray-100 text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 border border-gray-300",children:" Report Issue"}),!1]})}):this.props.children}};function z3({className:e,...t}){return l.jsx(AI,{"data-slot":"avatar",className:Ot("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function P3({className:e,...t}){return l.jsx(MI,{"data-slot":"avatar-image",className:Ot("aspect-square size-full",e),...t})}function $3({className:e,...t}){return l.jsx(DI,{"data-slot":"avatar-fallback",className:Ot("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function F3({...e}){return l.jsx(qz,{"data-slot":"dropdown-menu",...e})}function q3({...e}){return l.jsx(Bz,{"data-slot":"dropdown-menu-trigger",...e})}function B3({className:e,sideOffset:t=4,...n}){return l.jsx(Vz,{children:l.jsx(Hz,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ot("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function V3({className:e,inset:t,variant:n="default",...r}){return l.jsx(Kz,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ot("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function H3({className:e,inset:t,...n}){return l.jsx(Gz,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ot("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function G3({className:e,...t}){return l.jsx(Qz,{"data-slot":"dropdown-menu-separator",className:Ot("bg-border -mx-1 my-1 h-px",e),...t})}F.createContext(void 0);F.createContext(void 0);var Al=class{constructor(e,t){this.client=e,this.tableName=t}async getAll(e={}){try{let t=this.client.from(this.tableName).select(e.select||"*").order(e.orderBy||"created_at",{ascending:e.ascending!==!1});if(e.filters&&Object.entries(e.filters).forEach(([s,a])=>{a!=null&&a!==""&&(Array.isArray(a)?t=t.in(s,a):typeof a=="string"&&a.includes("%")?t=t.like(s,a):t=t.eq(s,a))}),e.dateRange){const{startDate:s,endDate:a,dateField:i="created_at"}=e.dateRange;s&&(t=t.gte(i,`${s}T00:00:00.000Z`)),a&&(t=t.lte(i,`${a}T23:59:59.999Z`))}e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));const{data:n,error:r}=await t;if(r)throw new Error(this.handleSupabaseError(r,`${this.tableName}.getAll`));return n||[]}catch(t){throw new Error(`Failed to fetch ${this.tableName}: ${t.message}`)}}async getPaginated(e={}){const t=e.page||1,n=e.perPage||10,r=(t-1)*n,s=await this.count(e.filters);return{data:await this.getAll({...e,limit:n,offset:r}),total:s,page:t,perPage:n,totalPages:Math.ceil(s/n)}}async getById(e,t="*"){try{const{data:n,error:r}=await this.client.from(this.tableName).select(t).eq("id",e).single();if(r)throw new Error(this.handleSupabaseError(r,`${this.tableName}.getById`));return n}catch(n){throw new Error(`Failed to fetch ${this.tableName} by ID: ${n.message}`)}}async create(e){try{const{data:t,error:n}=await this.client.from(this.tableName).insert(e).select().single();if(n)throw new Error(this.handleSupabaseError(n,`${this.tableName}.create`));return t}catch(t){throw new Error(`Failed to create ${this.tableName}: ${t.message}`)}}async update(e,t){try{const{data:n,error:r}=await this.client.from(this.tableName).update(t).eq("id",e).select().single();if(r)throw new Error(this.handleSupabaseError(r,`${this.tableName}.update`));return n}catch(n){throw new Error(`Failed to update ${this.tableName}: ${n.message}`)}}async delete(e){try{const{error:t}=await this.client.from(this.tableName).delete().eq("id",e);if(t)throw new Error(this.handleSupabaseError(t,`${this.tableName}.delete`))}catch(t){throw new Error(`Failed to delete ${this.tableName}: ${t.message}`)}}async bulkDelete(e){try{const{error:t}=await this.client.from(this.tableName).delete().in("id",e);if(t)throw new Error(this.handleSupabaseError(t,`${this.tableName}.bulkDelete`))}catch(t){throw new Error(`Failed to bulk delete ${this.tableName}: ${t.message}`)}}async count(e){try{let t=this.client.from(this.tableName).select("*",{count:"exact",head:!0});e&&Object.entries(e).forEach(([s,a])=>{a!=null&&a!==""&&(Array.isArray(a)?t=t.in(s,a):t=t.eq(s,a))});const{count:n,error:r}=await t;if(r)throw new Error(this.handleSupabaseError(r,`${this.tableName}.count`));return n||0}catch(t){throw new Error(`Failed to count ${this.tableName}: ${t.message}`)}}async search(e,t=["name"],n={}){try{let r=this.client.from(this.tableName).select(n.select||"*");if(t.length===1)r=r.ilike(t[0],`%${e}%`);else{const i=t.map(o=>`${o}.ilike.%${e}%`).join(",");r=r.or(i)}n.filters&&Object.entries(n.filters).forEach(([i,o])=>{o!=null&&o!==""&&(r=r.eq(i,o))}),r=r.order(n.orderBy||"created_at",{ascending:n.ascending!==!1}),n.limit&&(r=r.limit(n.limit));const{data:s,error:a}=await r;if(a)throw new Error(this.handleSupabaseError(a,`${this.tableName}.search`));return s||[]}catch(r){throw new Error(`Failed to search ${this.tableName}: ${r.message}`)}}handleSupabaseError(e,t=""){var n;return e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":(n=e.message)!=null&&n.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred"}},ee={VALIDATION_ERROR:"VALIDATION_ERROR",REQUIRED_FIELD_ERROR:"REQUIRED_FIELD_ERROR",INVALID_FORMAT_ERROR:"INVALID_FORMAT_ERROR",INVALID_RANGE_ERROR:"INVALID_RANGE_ERROR",INVALID_TYPE_ERROR:"INVALID_TYPE_ERROR",NOT_FOUND:"NOT_FOUND",DUPLICATE_ERROR:"DUPLICATE_ERROR",CONFLICT_ERROR:"CONFLICT_ERROR",OUT_OF_SYNC_ERROR:"OUT_OF_SYNC_ERROR",PERMISSION_ERROR:"PERMISSION_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",INSUFFICIENT_STOCK_ERROR:"INSUFFICIENT_STOCK_ERROR",CAPACITY_EXCEEDED_ERROR:"CAPACITY_EXCEEDED_ERROR",INVALID_OPERATION_ERROR:"INVALID_OPERATION_ERROR",WORKFLOW_ERROR:"WORKFLOW_ERROR",SERVER_ERROR:"SERVER_ERROR",DATABASE_ERROR:"DATABASE_ERROR",NETWORK_ERROR:"NETWORK_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",EXTERNAL_SERVICE_ERROR:"EXTERNAL_SERVICE_ERROR",API_ERROR:"API_ERROR",INTEGRATION_ERROR:"INTEGRATION_ERROR",CONFIGURATION_ERROR:"CONFIGURATION_ERROR",ENVIRONMENT_ERROR:"ENVIRONMENT_ERROR",RESOURCE_EXHAUSTED_ERROR:"RESOURCE_EXHAUSTED_ERROR",QUOTA_EXCEEDED_ERROR:"QUOTA_EXCEEDED_ERROR",STORAGE_ERROR:"STORAGE_ERROR",USER_INPUT_ERROR:"USER_INPUT_ERROR",UI_ERROR:"UI_ERROR",NAVIGATION_ERROR:"NAVIGATION_ERROR",RECOVERY_ERROR:"RECOVERY_ERROR",RETRY_ERROR:"RETRY_ERROR",FALLBACK_ERROR:"FALLBACK_ERROR"},Ro=class extends Error{constructor(e,t=ee.SERVER_ERROR,n=500,r=null,s="",a={}){super(e),this.name="ServiceError",this.type=t,this.statusCode=n,this.originalError=r,this.context=s,this.timestamp=new Date().toISOString(),this.id=a.id||this.generateErrorId(),this.severity=a.severity||this.getDefaultSeverity(t),this.retryable=a.retryable!==void 0?a.retryable:this.isRetryable(t),this.userMessage=a.userMessage||this.getDefaultUserMessage(t,e),this.details=a.details||{},this.metadata=a.metadata||{},r!=null&&r.stack&&(this.stack=r.stack)}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultSeverity(e){return{[ee.VALIDATION_ERROR]:"low",[ee.REQUIRED_FIELD_ERROR]:"low",[ee.INVALID_FORMAT_ERROR]:"low",[ee.INVALID_RANGE_ERROR]:"low",[ee.INVALID_TYPE_ERROR]:"low",[ee.USER_INPUT_ERROR]:"low",[ee.UI_ERROR]:"low",[ee.NAVIGATION_ERROR]:"low",[ee.NOT_FOUND]:"medium",[ee.DUPLICATE_ERROR]:"medium",[ee.CONFLICT_ERROR]:"medium",[ee.BUSINESS_LOGIC_ERROR]:"medium",[ee.INSUFFICIENT_STOCK_ERROR]:"medium",[ee.CAPACITY_EXCEEDED_ERROR]:"medium",[ee.INVALID_OPERATION_ERROR]:"medium",[ee.WORKFLOW_ERROR]:"medium",[ee.PERMISSION_ERROR]:"high",[ee.AUTHENTICATION_ERROR]:"high",[ee.AUTHORIZATION_ERROR]:"high",[ee.RATE_LIMIT_ERROR]:"high",[ee.CONFIGURATION_ERROR]:"high",[ee.ENVIRONMENT_ERROR]:"high",[ee.SERVER_ERROR]:"critical",[ee.DATABASE_ERROR]:"critical",[ee.NETWORK_ERROR]:"critical",[ee.CONNECTION_ERROR]:"critical",[ee.EXTERNAL_SERVICE_ERROR]:"critical",[ee.API_ERROR]:"critical",[ee.INTEGRATION_ERROR]:"critical",[ee.RESOURCE_EXHAUSTED_ERROR]:"critical",[ee.QUOTA_EXCEEDED_ERROR]:"critical",[ee.STORAGE_ERROR]:"critical"}[e]||"medium"}isRetryable(e){return[ee.NETWORK_ERROR,ee.CONNECTION_ERROR,ee.TIMEOUT_ERROR,ee.SERVER_ERROR,ee.EXTERNAL_SERVICE_ERROR,ee.API_ERROR,ee.RATE_LIMIT_ERROR].includes(e)}getDefaultUserMessage(e,t){return{[ee.VALIDATION_ERROR]:"Please check your input and try again.",[ee.REQUIRED_FIELD_ERROR]:"Please fill in all required fields.",[ee.INVALID_FORMAT_ERROR]:"Please check the format of your input.",[ee.INVALID_RANGE_ERROR]:"Please enter a value within the allowed range.",[ee.INVALID_TYPE_ERROR]:"Please enter the correct type of data.",[ee.NOT_FOUND]:"The requested item was not found.",[ee.DUPLICATE_ERROR]:"This item already exists.",[ee.CONFLICT_ERROR]:"There was a conflict with your request.",[ee.PERMISSION_ERROR]:"You do not have permission to perform this action.",[ee.AUTHENTICATION_ERROR]:"Please log in to continue.",[ee.AUTHORIZATION_ERROR]:"You are not authorized to perform this action.",[ee.BUSINESS_LOGIC_ERROR]:"This operation cannot be completed due to business rules.",[ee.INSUFFICIENT_STOCK_ERROR]:"Insufficient stock available.",[ee.CAPACITY_EXCEEDED_ERROR]:"Capacity limit exceeded.",[ee.INVALID_OPERATION_ERROR]:"This operation is not allowed.",[ee.SERVER_ERROR]:"A server error occurred. Please try again later.",[ee.DATABASE_ERROR]:"A database error occurred. Please try again later.",[ee.NETWORK_ERROR]:"Network connection failed. Please check your connection.",[ee.CONNECTION_ERROR]:"Connection failed. Please try again.",[ee.TIMEOUT_ERROR]:"The operation timed out. Please try again.",[ee.EXTERNAL_SERVICE_ERROR]:"External service is temporarily unavailable.",[ee.API_ERROR]:"API request failed. Please try again later.",[ee.CONFIGURATION_ERROR]:"System configuration error. Please contact support.",[ee.ENVIRONMENT_ERROR]:"Environment configuration error. Please contact support.",[ee.RESOURCE_EXHAUSTED_ERROR]:"System resources are exhausted. Please try again later.",[ee.QUOTA_EXCEEDED_ERROR]:"Quota exceeded. Please try again later.",[ee.STORAGE_ERROR]:"Storage error occurred. Please try again later.",[ee.USER_INPUT_ERROR]:"Please check your input and try again.",[ee.UI_ERROR]:"A user interface error occurred.",[ee.NAVIGATION_ERROR]:"Navigation error occurred.",[ee.RECOVERY_ERROR]:"Error recovery failed.",[ee.RETRY_ERROR]:"Retry operation failed.",[ee.FALLBACK_ERROR]:"Fallback operation failed."}[e]||"An unexpected error occurred. Please try again."}toUserFriendly(){return{message:this.userMessage,type:this.type,severity:this.severity,retryable:this.retryable,timestamp:this.timestamp}}},Bu=(e,t)=>{const n=t.filter(r=>e[r]===void 0||e[r]===null||e[r]==="");if(n.length>0)throw new Ro(`Missing required fields: ${n.join(", ")}`,ee.REQUIRED_FIELD_ERROR,400,null,"validateRequiredFields",{details:{missingFields:n}})},ll=(e,t)=>{for(const[n,r]of Object.entries(t)){const s=e[n];if(s!=null){const a=Number(s);if(isNaN(a))throw new Ro(`${n} must be a valid number`,ee.INVALID_TYPE_ERROR,400,null,"validateNumericRanges",{details:{field:n,value:s}});if(r.min!==void 0&&a<r.min)throw new Ro(`${n} must be at least ${r.min}`,ee.INVALID_RANGE_ERROR,400,null,"validateNumericRanges",{details:{field:n,value:s,min:r.min}});if(r.max!==void 0&&a>r.max)throw new Ro(`${n} must be no more than ${r.max}`,ee.INVALID_RANGE_ERROR,400,null,"validateNumericRanges",{details:{field:n,value:s,max:r.max}})}}},Rn=(e,t)=>{throw new Ro(`${e} with ID ${t} not found`,ee.NOT_FOUND,404,null,"throwNotFoundError",{details:{entityType:e,id:t}})},Er=(e,t)=>{throw new Ro(e,ee.BUSINESS_LOGIC_ERROR,400,null,"throwBusinessError",{details:t})},K3=e=>{const t={auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}};return f3(e.url,e.anonKey,{...t,...e.options})},Q3=e=>t=>({getEntities:()=>t().entities,getEntityById:n=>t().entities.find(r=>r.id===n),getEntitiesByField:(n,r)=>t().entities.filter(s=>s[n]===r),getEntitiesCount:()=>t().entities.length,getLoadingState:()=>t().loading,getErrorState:()=>t().error,isInitialized:()=>t().initialized}),Y3=e=>(t,n)=>({setEntities:r=>t({entities:r}),addEntity:r=>{const s=n();t({entities:[r,...s.entities]})},updateEntity:(r,s)=>{const i=n().entities.map(o=>o.id===r?{...o,...s}:o);t({entities:i})},removeEntity:r=>{const a=n().entities.filter(i=>i.id!==r);t({entities:a})},setLoading:r=>t({loading:r}),setError:r=>t({error:r}),setInitialized:r=>t({initialized:r}),reset:()=>t({entities:[],loading:!1,error:null,initialized:!1}),cleanupDuplicates:()=>{const r=n(),s=[],a=new Set;r.entities.forEach(i=>{a.has(i.id)||(a.add(i.id),s.push(i))}),t({entities:s})},sortEntitiesByDate:(r=!1)=>{const a=[...n().entities].sort((i,o)=>{const c=new Date(i.created_at||0),u=new Date(o.created_at||0);return r?c.getTime()-u.getTime():u.getTime()-c.getTime()});t({entities:a})},sortEntitiesByField:(r,s=!0)=>{const i=[...n().entities].sort((o,c)=>{const u=o[r],f=c[r];return u<f?s?-1:1:u>f?s?1:-1:0});t({entities:i})},filterEntitiesByDateRange:(r,s,a="created_at")=>{const i=n(),o=new Date(r),c=new Date(s);return i.entities.filter(u=>{const f=new Date(u[a]);return f>=o&&f<=c})}});function Vu(e,t,n,r){const s={entities:[],loading:!1,error:null,initialized:!1},a=(i,o)=>({...s,...Q3()(o),...Y3()(i,o),...t?t(i,o):{},...n?n(o):{}});return r?jp()(y3(a,{name:`${e}-store`,...r})):jp()(a)}const K=K3({url:"https://odlymzidujfrvufeocsz.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kbHltemlkdWpmcnZ1ZmVvY3N6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4NDIyNzYsImV4cCI6MjA3MTQxODI3Nn0.tfugegm1hUJnaF0QjqlOmGKdTXQshGBxeW7bBf2iQNA"}),X3=({children:e})=>l.jsx(k3,{supabaseClient:K,children:e}),Ai=I3;/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),kw=e=>{const t=W3(e);return t.charAt(0).toUpperCase()+t.slice(1)},VC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),J3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},c)=>w.createElement("svg",{ref:c,...eF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:VC("lucide",s),...!a&&!J3(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,f])=>w.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(e,t)=>{const n=w.forwardRef(({className:r,...s},a)=>w.createElement(tF,{ref:a,iconNode:t,className:VC(`lucide-${Z3(kw(e))}`,`lucide-${e}`,r),...s}));return n.displayName=kw(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],rF=ut("archive",nF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],aF=ut("arrow-down",sF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ml=ut("arrow-left",iF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lF=ut("arrow-up",oF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],HC=ut("building-2",cF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dF=ut("calendar",uF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hF=ut("file-text",fF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gF=ut("house",mF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vF=ut("loader-circle",pF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bF=ut("log-out",yF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zf=ut("package",xF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_F=ut("plus",wF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],EF=ut("rotate-cw",SF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dl=ut("save",RF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],kl=ut("square-pen",jF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mi=ut("trash-2",CF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Iw=ut("truck",NF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TF=ut("user",OF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MF=ut("users",AF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Lw=ut("warehouse",DF);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_i=ut("x",kF);function IF(){const{user:e}=Ai(),t=xl(),{isOpen:n}=M3(),r=[{href:"/",label:"Dashboard",icon:gF},{href:"/silos/list",label:"Silos",icon:Zf},{href:"/operators/list",label:"Operatori",icon:MF},{href:"/materials/list",label:"Materiali",icon:Zf},{href:"/suppliers/list",label:"Fornitori",icon:HC},{href:"/merce-in/list",label:"Merce IN",icon:Iw},{href:"/merce-out/list",label:"Merce OUT",icon:Iw},{href:"/reports",label:"Report",icon:hF},{href:"/archive",label:"Archivio Analisi",icon:rF}];return e?n?l.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col flex-shrink-0 sticky left-0 z-30",children:[l.jsx("div",{className:"p-4 border-b border-border",children:l.jsx(Sr,{to:"/",className:"flex items-center justify-center",children:l.jsx("img",{src:"/tracc/trace.svg",alt:"TRACC",className:"h-6 w-auto"})})}),l.jsxs("div",{className:"flex-1 p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-secondary-foreground mb-6",children:"Navigation"}),l.jsx("nav",{className:"space-y-2",children:r.map(s=>{const a=t.pathname===s.href,i=s.icon;return l.jsxs(Sr,{to:s.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${a?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[l.jsx(i,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:s.label})]},s.href)})})]})]}):l.jsx("div",{className:"w-16 bg-secondary shadow-sm border-r border-border min-h-screen",children:l.jsx("div",{className:"flex flex-col items-center py-4 space-y-4",children:r.map(s=>{const a=s.icon,i=t.pathname===s.href;return l.jsx(Sr,{to:s.href||"#",className:`p-3 rounded-lg transition-colors ${i?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-accent"}`,title:s.label,children:l.jsx(a,{className:"h-6 w-6"})},s.href||s.section)})})}):l.jsxs("nav",{className:"w-64 bg-secondary shadow-sm border-r border-border h-screen flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-border",children:l.jsx(Sr,{to:"/login",className:"flex items-center justify-center",children:l.jsx("img",{src:"/tracc/trace.svg",alt:"TRACC",className:"h-6 w-auto"})})}),l.jsxs("div",{className:"flex-1 p-4",children:[l.jsx("h3",{className:"text-xs font-semibold text-secondary-foreground uppercase tracking-wider mb-4",children:"NAVIGATION"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Sr,{to:"/login",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:l.jsx("span",{className:"font-medium",children:"Accedi"})}),l.jsx(Sr,{to:"/signup",className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent transition-colors",children:l.jsx("span",{className:"font-medium",children:"Registrati"})})]})]})]})}const LF=({onRefresh:e,loading:t=!1})=>{const n=()=>{e?e():window.location.reload()};return l.jsx(ie,{onClick:n,variant:"ghost",size:"icon",className:"hidden sm:inline-flex",children:t?l.jsx(vF,{className:"animate-spin"}):l.jsx(EF,{})})},UF=({user:e,onLogout:t})=>{var i;const[n,r]=w.useState(!1),s=w.useCallback(()=>{r(o=>!o)},[]),a=()=>{t&&t(),r(!1)};return l.jsxs(F3,{open:n,onOpenChange:s,children:[l.jsx(q3,{asChild:!0,children:l.jsx(ie,{variant:"ghost",className:"relative h-8 w-8 ml-2 rounded-full",children:l.jsxs(z3,{className:"h-8 w-8",children:[l.jsx(P3,{src:e==null?void 0:e.avatar,role:"presentation"}),l.jsx($3,{children:((i=e==null?void 0:e.name)==null?void 0:i.charAt(0))||"U"})]})})}),l.jsxs(B3,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(H3,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:(e==null?void 0:e.name)||"User"}),(e==null?void 0:e.email)&&l.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})}),l.jsx(G3,{}),l.jsxs(V3,{onClick:a,className:"cursor-pointer",children:[l.jsx(bF,{}),"Log out"]})]})]})};function zF(){var n;const{user:e,signOut:t}=Ai();return l.jsx("header",{className:"bg-secondary border-b border-border",children:l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"flex justify-between items-center flex-1 h-12",children:[l.jsxs(Sr,{to:"/",className:"flex items-center gap-2 text-secondary-foreground no-underline",children:[l.jsx("img",{className:"h-6",src:"/trace.svg",alt:"TRACC"}),l.jsx("h1",{className:"text-xl font-semibold",children:"TRACC"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(E3,{}),l.jsx(LF,{onRefresh:()=>window.location.reload(),loading:!1}),l.jsx(UF,{user:{name:((n=e==null?void 0:e.email)==null?void 0:n.split("@")[0])||"User",email:e==null?void 0:e.email,avatar:e==null?void 0:e.avatar},onLogout:()=>t()})]})]})})})}const ka=async e=>{try{return await e()}catch(t){throw t}};class PF extends Al{constructor(){super("silos")}async getSilosWithLevels(t=!1){return ka(async()=>{const{data:n,error:r}=await K.from("silos").select("*").order("id");if(r)throw r;const{data:s,error:a}=await K.from("inbound").select(`
          id,
          silo_id,
          quantity_kg,
          created_at,
          product,
          lot_supplier,
          lot_tf,
          proteins,
          humidity,
          cleaned
        `).order("created_at",{ascending:!0});if(a)throw a;const{data:i,error:o}=await K.from("outbound").select("silo_id, quantity_kg, items");if(o)throw o;return n.map(u=>{const f=s.filter(g=>g.silo_id===u.id),m=i.filter(g=>g.silo_id===u.id).reduce((g,p)=>g+p.quantity_kg,0);let h=m;const y=[];for(const g of f)if(h<=0){const p={...g,available_quantity:g.quantity_kg};t&&(p.materials={name:g.product}),y.push(p)}else if(h<g.quantity_kg){const p=g.quantity_kg-h,x={...g,available_quantity:p};t&&(x.materials={name:g.product}),y.push(x),h=0}else h-=g.quantity_kg;const v=f.reduce((g,p)=>g+p.quantity_kg,0),b=v-m;return{...u,currentLevel:b,availableItems:y,totalInbound:v,totalOutbound:m,utilizationPercentage:u.capacity_kg>0?b/u.capacity_kg*100:0}})})}async createSilo(t){return ka(async()=>{Bu(t,["name","capacity_kg"]),ll(t,{capacity_kg:{min:1,max:5e5}});const{data:n,error:r}=await K.from("silos").select("id, name").eq("name",t.name);if(r)throw r;if(n&&n.length>0)throw createServiceError(`Silo with name '${t.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"createSilo");return await this.create(t)})}async updateSilo(t,n){return ka(async()=>{const{data:r,error:s}=await K.from("silos").select("id").eq("id",t).single();if(s&&s.code!=="PGRST116")throw s;if(r||Rn("Silo",t),n.capacity_kg!==void 0&&ll(n,{capacity_kg:{min:1,max:5e5}}),n.name){const{data:o,error:c}=await K.from("silos").select("id, name").eq("name",n.name);if(c)throw c;if(o==null?void 0:o.find(f=>f.id!==parseInt(t)))throw createServiceError(`Silo with name '${n.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"updateSilo")}const{data:a,error:i}=await K.from("silos").update(n).eq("id",t).select().single();if(i)throw i;return a})}async deleteSilo(t){return ka(async()=>{const n=await this.getById(t);n||Rn("Silo",t);const s=(await this.getSilosWithLevels()).find(c=>c.id===t);s&&s.currentLevel>0&&Er(`Cannot delete silo '${n.name}' because it contains ${s.currentLevel} kg of material. Please empty the silo first.`);const{data:a,error:i}=await K.from("inbound").select("id").eq("silo_id",t).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()).limit(1);if(i)throw i;return a&&a.length>0&&Er(`Cannot delete silo '${n.name}' because it has recent movements. Please wait 30 days or contact an administrator.`),await this.delete(t)})}async getSilosByMaterial(t){return ka(async()=>{const{data:n,error:r}=await K.from("silos").select("*").contains("allowed_material_ids",[t]).order("name");if(r)throw r;return n||[]})}async getSilosByCapacity(t,n=null){return ka(async()=>{let r=K.from("silos").select("*").gte("capacity_kg",t).order("capacity_kg");n!==null&&(r=r.lte("capacity_kg",n));const{data:s,error:a}=await r;if(a)throw a;return s||[]})}async getUtilizationStats(){return ka(async()=>{const t=await this.getSilosWithLevels(),n={totalSilos:t.length,totalCapacity:t.reduce((r,s)=>r+s.capacity_kg,0),totalCurrentStock:t.reduce((r,s)=>r+s.currentLevel,0),averageUtilization:0,silosByUtilization:{empty:0,low:0,medium:0,high:0,full:0}};return n.totalSilos>0&&(n.averageUtilization=t.reduce((r,s)=>r+s.utilizationPercentage,0)/n.totalSilos,t.forEach(r=>{if(!r||r.utilizationPercentage===null||r.utilizationPercentage===void 0)return;const s=r.utilizationPercentage;s===0?n.silosByUtilization.empty++:s<25?n.silosByUtilization.low++:s<50?n.silosByUtilization.medium++:s<90?n.silosByUtilization.high++:n.silosByUtilization.full++})),n})}}const Ia=async e=>{try{return await e()}catch(t){throw t}};class $F extends Al{constructor(){super("inbound")}async createInbound(t){return Ia(async()=>(Bu(t,["silo_id","quantity_kg","product"]),ll(t,{quantity_kg:{min:.1,max:1e5},proteins:{min:0,max:100},humidity:{min:0,max:100}}),await this.validateSiloCapacity(t.silo_id,t.quantity_kg),await this.create(t)))}async updateInbound(t,n){return Ia(async()=>{const r=await this.getById(t);if(r||Rn("Inbound movement",t),n.quantity_kg!==void 0&&ll(n,{quantity_kg:{min:.1,max:1e5}}),n.silo_id||n.quantity_kg){const a=n.silo_id||r.silo_id,i=n.quantity_kg||r.quantity_kg;await this.validateSiloCapacity(a,i)}return await this.update(t,n)})}async deleteInbound(t){return Ia(async()=>{const n=await this.getById(t);n||Rn("Inbound movement",t);const{data:r,error:s}=await K.from("outbound").select("id, items").contains("items",[{inbound_id:t}]).limit(1);if(s)throw s;r&&r.length>0&&Er("Cannot delete inbound movement because it has been used in outbound movements. Please delete the related outbound movements first.");const a=new Date(n.created_at);return(new Date-a)/(1e3*60*60)>24&&Er("Cannot delete inbound movement older than 24 hours. Please contact an administrator."),await this.delete(t)})}async getInboundBySilo(t,n={}){return Ia(async()=>{const{data:r,error:s}=await K.from("inbound").select(`
          *,
          silos!inner(name)
        `).eq("silo_id",t).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||100);if(s)throw s;return r||[]})}async getInboundByDateRange(t,n,r={}){return Ia(async()=>{const{data:s,error:a}=await K.from("inbound").select(`
          *,
          silos!inner(name)
        `).gte("created_at",`${t}T00:00:00.000Z`).lte("created_at",`${n}T23:59:59.999Z`).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||1e3);if(a)throw a;return s||[]})}async getInboundByProduct(t,n={}){return Ia(async()=>{const{data:r,error:s}=await K.from("inbound").select(`
          *,
          silos!inner(name)
        `).eq("product",t).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||100);if(s)throw s;return r||[]})}async getInboundStats(t={}){return Ia(async()=>{let n=K.from("inbound").select("quantity_kg, product, created_at, silo_id");t.startDate&&(n=n.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(n=n.lte("created_at",`${t.endDate}T23:59:59.999Z`)),t.siloId&&(n=n.eq("silo_id",t.siloId)),t.product&&(n=n.eq("product",t.product));const{data:r,error:s}=await n;if(s)throw s;const a={totalMovements:r.length,totalQuantity:r.reduce((i,o)=>i+o.quantity_kg,0),averageQuantity:0,products:{},silos:{},dailyStats:{}};return a.totalMovements>0&&(a.averageQuantity=a.totalQuantity/a.totalMovements,r.forEach(i=>{!i||!i.product||(a.products[i.product]||(a.products[i.product]={count:0,quantity:0}),a.products[i.product].count++,a.products[i.product].quantity+=i.quantity_kg||0)}),r.forEach(i=>{!i||i.silo_id===null||i.silo_id===void 0||(a.silos[i.silo_id]||(a.silos[i.silo_id]={count:0,quantity:0}),a.silos[i.silo_id].count++,a.silos[i.silo_id].quantity+=i.quantity_kg||0)}),r.forEach(i=>{if(!i||!i.created_at)return;const o=i.created_at.split("T")[0];a.dailyStats[o]||(a.dailyStats[o]={count:0,quantity:0}),a.dailyStats[o].count++,a.dailyStats[o].quantity+=i.quantity_kg||0})),a})}async validateSiloCapacity(t,n){const{data:r,error:s}=await K.from("silos").select("capacity_kg, name").eq("id",t).single();if(s)throw s;r||Rn("Silo",t);const{data:a,error:i}=await K.from("inbound").select("quantity_kg").eq("silo_id",t);if(i)throw i;const{data:o,error:c}=await K.from("outbound").select("quantity_kg").eq("silo_id",t);if(c)throw c;const u=a.reduce((h,y)=>h+y.quantity_kg,0),f=o.reduce((h,y)=>h+y.quantity_kg,0),d=u-f;d+n>r.capacity_kg&&Er(`Cannot add ${n} kg to silo '${r.name}'. Would exceed capacity of ${r.capacity_kg} kg. Current level: ${d} kg.`)}}const La=async e=>{try{return await e()}catch(t){throw t}};class FF extends Al{constructor(){super("outbound")}async createOutbound(t){return La(async()=>{Bu(t,["silo_id","quantity_kg","operator_name"]),ll(t,{quantity_kg:{min:.1,max:1e5}});const r=(await this.getSilosWithLevels([t.silo_id])).find(o=>o.id===t.silo_id);r||Rn("Silo",t.silo_id),r.currentLevel<t.quantity_kg&&Er(`Insufficient stock in silo '${r.name}'. Available: ${r.currentLevel} kg, Requested: ${t.quantity_kg} kg`);const s=this.calculateFIFOWithdrawal(r.availableItems,t.quantity_kg),a={...t,items:s,quantity_kg:t.quantity_kg};return await this.create(a)})}async updateOutbound(t,n){return La(async()=>{const r=await this.getById(t);r||Rn("Outbound movement",t);const s=new Date(r.created_at);if((new Date-s)/(1e3*60*60)>24&&Er("Cannot update outbound movement older than 24 hours. Please contact an administrator."),n.quantity_kg!==void 0&&ll(n,{quantity_kg:{min:.1,max:1e5}}),n.silo_id||n.quantity_kg){const c=n.silo_id||r.silo_id,u=n.quantity_kg||r.quantity_kg,d=(await this.getSilosWithLevels([c])).find(m=>m.id===c);d||Rn("Silo",c),d.currentLevel<u&&Er(`Insufficient stock in silo '${d.name}'. Available: ${d.currentLevel} kg, Requested: ${u} kg`),n.items=this.calculateFIFOWithdrawal(d.availableItems,u)}return await this.update(t,n)})}async deleteOutbound(t){return La(async()=>{const n=await this.getById(t);n||Rn("Outbound movement",t);const r=new Date(n.created_at);return(new Date-r)/(1e3*60*60)>24&&Er("Cannot delete outbound movement older than 24 hours. Please contact an administrator."),await this.delete(t)})}async getOutboundBySilo(t,n={}){return La(async()=>{const{data:r,error:s}=await K.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("silo_id",t).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||100);if(s)throw s;return r||[]})}async getOutboundByDateRange(t,n,r={}){return La(async()=>{const{data:s,error:a}=await K.from("outbound").select(`
          *,
          silos!inner(name)
        `).gte("created_at",`${t}T00:00:00.000Z`).lte("created_at",`${n}T23:59:59.999Z`).order("created_at",{ascending:r.ascending!==!1}).limit(r.limit||1e3);if(a)throw a;return s||[]})}async getOutboundByOperator(t,n={}){return La(async()=>{const{data:r,error:s}=await K.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("operator_name",t).order("created_at",{ascending:n.ascending!==!1}).limit(n.limit||100);if(s)throw s;return r||[]})}async getOutboundStats(t={}){return La(async()=>{let n=K.from("outbound").select("quantity_kg, operator_name, created_at, silo_id, items");t.startDate&&(n=n.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(n=n.lte("created_at",`${t.endDate}T23:59:59.999Z`)),t.siloId&&(n=n.eq("silo_id",t.siloId)),t.operatorName&&(n=n.eq("operator_name",t.operatorName));const{data:r,error:s}=await n;if(s)throw s;const a={totalMovements:r.length,totalQuantity:r.reduce((i,o)=>i+o.quantity_kg,0),averageQuantity:0,operators:{},silos:{},dailyStats:{},products:{}};return a.totalMovements>0&&(a.averageQuantity=a.totalQuantity/a.totalMovements,r.forEach(i=>{!i||i.operator_name===null||i.operator_name===void 0||(a.operators[i.operator_name]||(a.operators[i.operator_name]={count:0,quantity:0}),a.operators[i.operator_name].count++,a.operators[i.operator_name].quantity+=i.quantity_kg||0)}),r.forEach(i=>{!i||i.silo_id===null||i.silo_id===void 0||(a.silos[i.silo_id]||(a.silos[i.silo_id]={count:0,quantity:0}),a.silos[i.silo_id].count++,a.silos[i.silo_id].quantity+=i.quantity_kg||0)}),r.forEach(i=>{if(!i||!i.created_at)return;const o=i.created_at.split("T")[0];a.dailyStats[o]||(a.dailyStats[o]={count:0,quantity:0}),a.dailyStats[o].count++,a.dailyStats[o].quantity+=i.quantity_kg||0}),r.forEach(i=>{!i||!i.items||!Array.isArray(i.items)||i.items.forEach(o=>{if(!o||!o.material_name)return;const c=o.material_name;a.products[c]||(a.products[c]={count:0,quantity:0}),a.products[c].count++,a.products[c].quantity+=o.quantity_kg||0})})),a})}calculateFIFOWithdrawal(t,n){let r=n;const s=[];for(const a of t){if(r<=0)break;const i=Math.min(r,a.available_quantity);s.push({inbound_id:a.id,quantity_kg:i,material_name:a.product,supplier_lot:a.lot_supplier,tf_lot:a.lot_tf,protein_content:a.proteins,moisture_content:a.humidity,cleaning_status:a.cleaned,entry_date:a.created_at.split("T")[0]}),r-=i}return r>0&&Er(`FIFO calculation error: ${r} kg could not be allocated from available items`),s}async getSilosWithLevels(t=null){let n=K.from("silos").select("*").order("id");t&&(n=n.in("id",t));const{data:r,error:s}=await n;if(s)throw s;const{data:a,error:i}=await K.from("inbound").select("silo_id, quantity_kg, created_at, product, lot_supplier, lot_tf, proteins, humidity, cleaned").order("created_at",{ascending:!0});if(i)throw i;const{data:o,error:c}=await K.from("outbound").select("silo_id, quantity_kg");if(c)throw c;return r.map(u=>{const f=a.filter(g=>g.silo_id===u.id),m=o.filter(g=>g.silo_id===u.id).reduce((g,p)=>g+p.quantity_kg,0);let h=m;const y=[];for(const g of f)if(h<=0)y.push({...g,available_quantity:g.quantity_kg});else if(h<g.quantity_kg){const p=g.quantity_kg-h;y.push({...g,available_quantity:p}),h=0}else h-=g.quantity_kg;const v=f.reduce((g,p)=>g+p.quantity_kg,0),b=v-m;return{...u,currentLevel:b,availableItems:y,totalInbound:v,totalOutbound:m}})}}const Qi=async e=>{try{return await e()}catch(t){throw t}};class qF extends Al{constructor(){super("materials")}async getActiveMaterials(t={}){return Qi(async()=>{const{data:n,error:r}=await supabase.from("materials").select(t.select||"*").eq("active",!0).order("name").limit(t.limit||100);if(r)throw r;return n||[]})}async createMaterial(t){return Qi(async()=>{Bu(t,["name"]);const{data:n,error:r}=await supabase.from("materials").select("id, name").eq("name",t.name);if(r)throw r;if(n&&n.length>0)throw createServiceError(`Material with name '${t.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"createMaterial");const s={...t,active:t.active!==void 0?t.active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await this.create(s)})}async updateMaterial(t,n){return Qi(async()=>{const{data:r,error:s}=await supabase.from("materials").select("id").eq("id",t).single();if(s&&s.code!=="PGRST116")throw s;if(r||Rn("Material",t),n.name){const{data:o,error:c}=await supabase.from("materials").select("id, name").eq("name",n.name);if(c)throw c;if(o==null?void 0:o.find(f=>f.id!==parseInt(t)))throw createServiceError(`Material with name '${n.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"updateMaterial")}const{data:a,error:i}=await supabase.from("materials").update(n).eq("id",t).select().single();if(i)throw i;return a})}async deactivateMaterial(t){return Qi(async()=>{const{data:n,error:r}=await supabase.from("materials").select("id").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;n||Rn("Material",t);const{data:s,error:a}=await supabase.from("silos").select("id, name").contains("allowed_material_ids",[t]).limit(1);if(a)throw a;if(s&&s.length>0)throw createServiceError("Cannot deactivate material because it is being used in silos. Please remove it from silos first.",ERROR_TYPES.BUSINESS_LOGIC_ERROR,422,null,"deactivateMaterial");const{data:i,error:o}=await supabase.from("materials").update({active:!1}).eq("id",t).select().single();if(o)throw o;return i})}async getMaterialsByCategory(t,n={}){return Qi(async()=>{const{data:r,error:s}=await supabase.from("materials").select(n.select||"*").eq("category",t).eq("active",!0).order("name").limit(n.limit||100);if(s)throw s;return r||[]})}async getMaterialStats(){return Qi(async()=>{const{data:t,error:n}=await supabase.from("materials").select("active, category");if(n)throw n;const r={total:t.length,active:0,inactive:0,categories:{}};return t.forEach(s=>{s.active?r.active++:r.inactive++,s.category&&(r.categories[s.category]||(r.categories[s.category]=0),r.categories[s.category]++)}),r})}}const Ua=async e=>{try{return await e()}catch(t){throw t}};class BF extends Al{constructor(){super("operators")}async getActiveOperators(t={}){return Ua(async()=>{const{data:n,error:r}=await supabase.from("operators").select(t.select||"*").eq("active",!0).order("name").limit(t.limit||100);if(r)throw r;return n||[]})}async createOperator(t){return Ua(async()=>{Bu(t,["name"]);const{data:n,error:r}=await supabase.from("operators").select("id, name").eq("name",t.name);if(r)throw r;if(n&&n.length>0)throw createServiceError(`Operator with name '${t.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"createOperator");const s={...t,active:t.active!==void 0?t.active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await this.create(s)})}async updateOperator(t,n){return Ua(async()=>{const{data:r,error:s}=await supabase.from("operators").select("id").eq("id",t).single();if(s&&s.code!=="PGRST116")throw s;if(r||Rn("Operator",t),n.name){const{data:o,error:c}=await supabase.from("operators").select("id, name").eq("name",n.name);if(c)throw c;if(o==null?void 0:o.find(f=>f.id!==parseInt(t)))throw createServiceError(`Operator with name '${n.name}' already exists`,ERROR_TYPES.DUPLICATE_ERROR,409,null,"updateOperator")}const{data:a,error:i}=await supabase.from("operators").update(n).eq("id",t).select().single();if(i)throw i;return a})}async deactivateOperator(t){return Ua(async()=>{const{data:n,error:r}=await supabase.from("operators").select("id").eq("id",t).single();if(r&&r.code!=="PGRST116")throw r;n||Rn("Operator",t);const{data:s,error:a}=await supabase.from("outbound").select("id").eq("operator_name",t).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()).limit(1);if(a)throw a;if(s&&s.length>0)throw createServiceError("Cannot deactivate operator because they have recent movements. Please wait 30 days or contact an administrator.",ERROR_TYPES.BUSINESS_LOGIC_ERROR,422,null,"deactivateOperator");const{data:i,error:o}=await supabase.from("operators").update({active:!1}).eq("id",t).select().single();if(o)throw o;return i})}async getOperatorsByDepartment(t,n={}){return Ua(async()=>{const{data:r,error:s}=await supabase.from("operators").select(n.select||"*").eq("department",t).eq("active",!0).order("name").limit(n.limit||100);if(s)throw s;return r||[]})}async getOperatorStats(){return Ua(async()=>{const{data:t,error:n}=await supabase.from("operators").select("active, department");if(n)throw n;const r={total:t.length,active:0,inactive:0,departments:{}};return t.forEach(s=>{s.active?r.active++:r.inactive++,s.department&&(r.departments[s.department]||(r.departments[s.department]=0),r.departments[s.department]++)}),r})}async getOperatorActivityStats(t={}){return Ua(async()=>{let n=supabase.from("outbound").select("operator_name, quantity_kg, created_at");t.startDate&&(n=n.gte("created_at",`${t.startDate}T00:00:00.000Z`)),t.endDate&&(n=n.lte("created_at",`${t.endDate}T23:59:59.999Z`));const{data:r,error:s}=await n;if(s)throw s;const a={totalMovements:r.length,totalQuantity:r.reduce((i,o)=>i+o.quantity_kg,0),operators:{}};return r.forEach(i=>{a.operators[i.operator_name]||(a.operators[i.operator_name]={movements:0,quantity:0,averageQuantity:0}),a.operators[i.operator_name].movements++,a.operators[i.operator_name].quantity+=i.quantity_kg}),Object.keys(a.operators).forEach(i=>{const o=a.operators[i];o.averageQuantity=o.quantity/o.movements}),a})}}const cl=new PF;new $F;new FF;new qF;new BF;const ae={silos:["silos"],silo:e=>["silos",e],silosWithLevels:["silos","withLevels"],inbound:["inbound"],inboundBySilo:e=>["inbound","silo",e],inboundByDate:e=>["inbound","date",e],outbound:["outbound"],outboundBySilo:e=>["outbound","silo",e],outboundByDate:e=>["outbound","date",e],materials:["materials"],material:e=>["materials",e],operators:["operators"],operator:e=>["operators",e]},Di=()=>tt({queryKey:ae.silos,queryFn:()=>cl.getSilosWithLevels(),staleTime:5*60*1e3}),Hu=(e=!1)=>tt({queryKey:[...ae.silosWithLevels,e],queryFn:()=>cl.getSilosWithLevels(e),staleTime:2*60*1e3}),GC=()=>{const e=Me();return Ae({mutationFn:t=>cl.createSilo(t),onSuccess:t=>{e.invalidateQueries({queryKey:ae.silos}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.silos,n=>n?[...n,t]:[t]),nt(`Silo "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Xe(`Errore nella creazione del silo: ${t.message}`)}})},KC=()=>{const e=Me();return Ae({mutationFn:({id:t,updates:n})=>cl.updateSilo(t,n),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:ae.silos}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.silos,r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),e.setQueryData(ae.silo(n),t),nt(`Silo "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Xe(`Errore nell'aggiornamento del silo: ${t.message}`)}})},n0=()=>{const e=Me();return Ae({mutationFn:async t=>{const n=await cl.getById(t);return await cl.deleteSilo(t),n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.silos}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.silos,n=>n==null?void 0:n.filter(r=>r.id!==t.id)),e.removeQueries({queryKey:ae.silo(t.id)}),nt(`Silo "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Xe(`Errore nell'eliminazione del silo: ${t.message}`)}})},QC=()=>tt({queryKey:ae.inbound,queryFn:async()=>{const{data:e,error:t}=await K.from("inbound").select("*").order("created_at",{ascending:!1});if(t)throw t;return(e==null?void 0:e.map(n=>({...n,fornitore:n.lot_supplier})))||[]},staleTime:1*60*1e3}),VF=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("inbound").insert([t]).select().single();if(r)throw r;return{...n,fornitore:n.lot_supplier}},onSuccess:t=>{e.invalidateQueries({queryKey:ae.inbound}),e.invalidateQueries({queryKey:[...ae.inbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.inbound,n=>n?[t,...n]:[t]),nt("Movimento IN registrato con successo")},onError:t=>{Xe(`Errore nella registrazione del movimento IN: ${t.message}`)}})},HF=()=>{const e=Me();return Ae({mutationFn:async({id:t,updates:n})=>{const{data:r,error:s}=await K.from("inbound").update(n).eq("id",t).select().single();if(s)throw s;return{...r,fornitore:r.lot_supplier}},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:ae.inbound}),e.invalidateQueries({queryKey:[...ae.inbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.inbound,r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),nt("Movimento IN aggiornato con successo")},onError:t=>{Xe(`Errore nell'aggiornamento del movimento IN: ${t.message}`)}})},YC=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("inbound").select("*").eq("id",t).single();if(r)throw r;const{error:s}=await K.from("inbound").delete().eq("id",t);if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.inbound}),e.invalidateQueries({queryKey:[...ae.inbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.inboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.inbound,n=>n==null?void 0:n.filter(r=>r.id!==t.id)),nt("Movimento IN eliminato con successo")},onError:t=>{Xe(`Errore nell'eliminazione del movimento IN: ${t.message}`)}})},XC=()=>tt({queryKey:ae.outbound,queryFn:async()=>{const{data:e,error:t}=await K.from("outbound").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:1*60*1e3}),GF=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("outbound").insert([t]).select().single();if(r)throw r;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.outbound}),e.invalidateQueries({queryKey:[...ae.outbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.outbound,n=>n?[t,...n]:[t]),nt("Movimento OUT registrato con successo")},onError:t=>{Xe(`Errore nella registrazione del movimento OUT: ${t.message}`)}})},KF=()=>{const e=Me();return Ae({mutationFn:async({id:t,updates:n})=>{const{data:r,error:s}=await K.from("outbound").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:ae.outbound}),e.invalidateQueries({queryKey:[...ae.outbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.outbound,r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),nt("Movimento OUT aggiornato con successo")},onError:t=>{Xe(`Errore nell'aggiornamento del movimento OUT: ${t.message}`)}})},ZC=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("outbound").select("*").eq("id",t).single();if(r)throw r;const{error:s}=await K.from("outbound").delete().eq("id",t);if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.outbound}),e.invalidateQueries({queryKey:[...ae.outbound,"with-silos"]}),e.invalidateQueries({queryKey:ae.outboundBySilo(t.silo_id)}),e.invalidateQueries({queryKey:ae.silosWithLevels}),e.setQueryData(ae.outbound,n=>n==null?void 0:n.filter(r=>r.id!==t.id)),nt("Movimento OUT eliminato con successo")},onError:t=>{Xe(`Errore nell'eliminazione del movimento OUT: ${t.message}`)}})},xs=()=>tt({queryKey:ae.materials,queryFn:async()=>{const{data:e,error:t}=await K.from("materials").select("*").order("name");if(t)throw t;return e},staleTime:10*60*1e3}),Gu=()=>tt({queryKey:ae.operators,queryFn:async()=>{const{data:e,error:t}=await K.from("operators").select("*").order("name");if(t)throw t;return e},staleTime:10*60*1e3}),QF=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("materials").insert([t]).select().single();if(r)throw r;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.materials}),e.setQueryData(ae.materials,n=>n?[t,...n]:[t]),nt(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Xe(`Errore nella creazione del materiale: ${t.message}`)}})},YF=()=>{const e=Me();return Ae({mutationFn:async({id:t,updates:n})=>{const{data:r,error:s}=await K.from("materials").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:ae.materials}),e.setQueryData(ae.materials,r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),e.setQueryData(ae.material(n),t),nt(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Xe(`Errore nell'aggiornamento del materiale: ${t.message}`)}})},WC=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("materials").select("*").eq("id",t).single();if(r)throw r;const{error:s}=await K.from("materials").delete().eq("id",t);if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.materials}),e.setQueryData(ae.materials,n=>n==null?void 0:n.filter(r=>r.id!==t.id)),e.removeQueries({queryKey:ae.material(t.id)}),nt(`Materiale "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Xe(`Errore nell'eliminazione del materiale: ${t.message}`)}})},XF=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("operators").insert([t]).select().single();if(r)throw r;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.operators}),e.setQueryData(ae.operators,n=>n?[t,...n]:[t]),nt(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Xe(`Errore nella creazione dell'operatore: ${t.message}`)}})},ZF=()=>{const e=Me();return Ae({mutationFn:async({id:t,updates:n})=>{const{data:r,error:s}=await K.from("operators").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:ae.operators}),e.setQueryData(ae.operators,r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),e.setQueryData(ae.operator(n),t),nt(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Xe(`Errore nell'aggiornamento dell'operatore: ${t.message}`)}})},JC=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("operators").select("*").eq("id",t).single();if(r)throw r;const{error:s}=await K.from("operators").delete().eq("id",t);if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:ae.operators}),e.setQueryData(ae.operators,n=>n==null?void 0:n.filter(r=>r.id!==t.id)),e.removeQueries({queryKey:ae.operator(t.id)}),nt(`Operatore "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Xe(`Errore nell'eliminazione dell'operatore: ${t.message}`)}})},WF=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("suppliers").insert([t]).select().single();if(r)throw r;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],n=>n?[t,...n]:[t]),nt(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" creato con successo`)},onError:t=>{Xe(`Errore nella creazione del fornitore: ${t.message}`)}})},JF=()=>{const e=Me();return Ae({mutationFn:async({id:t,updates:n})=>{const{data:r,error:s}=await K.from("suppliers").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],r=>r==null?void 0:r.map(s=>s.id===n?{...s,...t}:s)),nt(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" aggiornato con successo`)},onError:t=>{Xe(`Errore nell'aggiornamento del fornitore: ${t.message}`)}})},eN=()=>{const e=Me();return Ae({mutationFn:async t=>{const{data:n,error:r}=await K.from("suppliers").select("*").eq("id",t).single();if(r)throw r;const{error:s}=await K.from("suppliers").delete().eq("id",t);if(s)throw s;return n},onSuccess:t=>{e.invalidateQueries({queryKey:["suppliers"]}),e.setQueryData(["suppliers"],n=>n==null?void 0:n.filter(r=>r.id!==t.id)),nt(`Fornitore "${(t==null?void 0:t.name)||"Unknown"}" eliminato con successo`)},onError:t=>{Xe(`Errore nell'eliminazione del fornitore: ${t.message}`)}})},Uw=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const m=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,m))}},s=()=>t,o={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,o);return o},eq=e=>e?Uw(e):Uw,tq=e=>e;function nq(e,t=tq){const n=F.useSyncExternalStore(e.subscribe,F.useCallback(()=>t(e.getState()),[e,t]),F.useCallback(()=>t(e.getInitialState()),[e,t]));return F.useDebugValue(n),n}const zw=e=>{const t=eq(e),n=r=>nq(t,r);return Object.assign(n,t),n},rq=e=>e?zw(e):zw;rq((e,t)=>({isLoading:!1,loadingStates:{silos:!1,inbound:!1,outbound:!1,materials:!1,operators:!1,reports:!1},forms:{siloForm:{isOpen:!1,editingItem:null},inboundForm:{isOpen:!1,editingItem:null},outboundForm:{isOpen:!1,editingItem:null}},filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"},notifications:{success:null,error:null,warning:null,info:null},modals:{confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null},deleteDialog:{isOpen:!1,item:null,onConfirm:null}},setLoading:n=>e({isLoading:n}),setLoadingState:(n,r)=>e(s=>({loadingStates:{...s.loadingStates,[n]:r}})),setMultipleLoadingStates:n=>e(r=>({loadingStates:{...r.loadingStates,...n}})),openForm:(n,r=null)=>e(s=>({forms:{...s.forms,[n]:{isOpen:!0,editingItem:r}}})),closeForm:n=>e(r=>({forms:{...r.forms,[n]:{isOpen:!1,editingItem:null}}})),setFilter:(n,r)=>e(s=>({filters:{...s.filters,[n]:r}})),setFilters:n=>e(r=>({filters:{...r.filters,...n}})),resetFilters:()=>e({filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"}}),setNotification:(n,r)=>e(s=>({notifications:{...s.notifications,[n]:r}})),clearNotification:n=>e(r=>({notifications:{...r.notifications,[n]:null}})),clearAllNotifications:()=>e({notifications:{success:null,error:null,warning:null,info:null}}),showConfirmDialog:(n,r,s)=>e(a=>({modals:{...a.modals,confirmDialog:{isOpen:!0,title:n,message:r,onConfirm:s}}})),hideConfirmDialog:()=>e(n=>({modals:{...n.modals,confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null}}})),showDeleteDialog:(n,r)=>e(s=>({modals:{...s.modals,deleteDialog:{isOpen:!0,item:n,onConfirm:r}}})),hideDeleteDialog:()=>e(n=>({modals:{...n.modals,deleteDialog:{isOpen:!1,item:null,onConfirm:null}}})),getLoadingState:n=>t().loadingStates[n],getFormState:n=>t().forms[n],getFilter:n=>t().filters[n],getNotification:n=>t().notifications[n],getModalState:n=>t().modals[n],reset:()=>e({isLoading:!1,loadingStates:{silos:!1,inbound:!1,outbound:!1,materials:!1,operators:!1,reports:!1},forms:{siloForm:{isOpen:!1,editingItem:null},inboundForm:{isOpen:!1,editingItem:null},outboundForm:{isOpen:!1,editingItem:null}},filters:{dateRange:{startDate:"",endDate:""},siloFilter:"all",reportType:"movements"},notifications:{success:null,error:null,warning:null,info:null},modals:{confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null},deleteDialog:{isOpen:!1,item:null,onConfirm:null}}})}));const sq=Vu("silos"),aq=Vu("inbound"),iq=Vu("outbound"),oq=Vu("materials"),lq=Vu("operators"),cq=()=>{const{data:e}=Di(),{data:t}=QC(),{data:n}=XC(),{data:r}=xs(),{data:s}=Gu(),{setEntities:a}=sq(),{setEntities:i}=aq(),{setEntities:o}=iq(),{setEntities:c}=oq(),{setEntities:u}=lq();w.useEffect(()=>{e&&a(e)},[e,a]),w.useEffect(()=>{t&&i(t)},[t,i]),w.useEffect(()=>{n&&o(n)},[n,o]),w.useEffect(()=>{r&&c(r)},[r,c]),w.useEffect(()=>{s&&u(s)},[s,u])};function zh({silo:e,onClose:t,onEdit:n,isSnapshot:r=!1,snapshotDateTime:s=null}){var _,R,T,C,M,O,E,k;const[a,i]=w.useState(!1),[o,c]=w.useState({name:e.name||"",capacity_kg:e.capacity_kg||"",allowed_material_ids:e.allowed_material_ids||[]}),{data:u}=xs(),{data:f}=Hu(!0),d=n0(),m=Me(),h=r?e:(f==null?void 0:f.find(N=>N.id===e.id))||e,y=Ae({mutationFn:async N=>{const{error:j}=await K.from("silos").update(N).eq("id",e.id);if(j)throw j},onSuccess:()=>{m.invalidateQueries(["silos"]),i(!1)}}),v=()=>{y.mutate(o)},b=()=>{c({name:e.name||"",capacity_kg:e.capacity_kg||"",allowed_material_ids:e.allowed_material_ids||[]}),i(!1)},g=()=>{Ea("Sei sicuro di voler eliminare questo silos?")&&d.mutate(e.id,{onSuccess:()=>{t()}})},p=N=>{const j=o.allowed_material_ids||[],L=j.includes(N)?j.filter(B=>B!==N):[...j,N];c(B=>({...B,allowed_material_ids:L}))},x=()=>!e.allowed_material_ids||e.allowed_material_ids.length===0?"Tutti i materiali":e.allowed_material_ids.map(N=>{const j=u==null?void 0:u.find(L=>L.id===N);return j?j.name:`ID: ${N}`}).join(", ");return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(Lw,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Snapshot Silos":a?"Edit Silo":"Silo Details"}),l.jsx("p",{className:"text-muted-foreground",children:r&&s?`Silos ${e.name} - Snapshot al ${new Date(s).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}`:a?"Modify silo information":e.name})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:!r&&l.jsx(l.Fragment,{children:a?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:v,disabled:y.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),y.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:g,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"name",children:"Nome Silos"}),a?l.jsx(ve,{id:"name",value:o.name,onChange:N=>c(j=>({...j,name:N.target.value})),placeholder:"Inserisci nome silos"}):l.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"capacity",children:"Capacit (Kg)"}),a?l.jsx(ve,{id:"capacity",type:"number",value:o.capacity_kg,onChange:N=>c(j=>({...j,capacity_kg:N.target.value})),placeholder:"Inserisci capacit in kg"}):l.jsxs("p",{className:"text-foreground font-medium",children:[(_=e.capacity_kg)==null?void 0:_.toLocaleString()," kg"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Materiali Consentiti"}),a?l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Seleziona i materiali che questo silos pu accettare. Lascia vuoto per accettare tutti i materiali."}),l.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto border border-border rounded-md p-3",children:u==null?void 0:u.map(N=>{var j;return l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:((j=o.allowed_material_ids)==null?void 0:j.includes(N.id))||!1,onChange:()=>p(N.id),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-sm font-medium",children:N.name})]},N.id)})}),((R=o.allowed_material_ids)==null?void 0:R.length)>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.allowed_material_ids.length," materiali selezionati"]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-foreground font-medium",children:x()}),((T=e.allowed_material_ids)==null?void 0:T.length)>0&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.allowed_material_ids.length," materiale",e.allowed_material_ids.length!==1?"i":""," specificati"]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"ID Silos"}),l.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Capacit Attuale"}),l.jsxs("p",{className:"text-foreground font-medium",children:[((C=h.currentLevel)==null?void 0:C.toLocaleString())||0," / ",(M=e.capacity_kg)==null?void 0:M.toLocaleString()," kg"]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:l.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.min((h.currentLevel||0)/(e.capacity_kg||1)*100,100)}%`}})}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round((h.currentLevel||0)/(e.capacity_kg||1)*100),"% utilizzato"]})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Stato"}),l.jsx(ds,{variant:"default",className:"bg-green-100 text-green-800",children:"Attivo"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data Creazione"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Giacenza Attuale"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Questo silos contiene ",((O=h.availableItems)==null?void 0:O.length)||0," lotti di materiale."]})}),((E=h.availableItems)==null?void 0:E.length)>0&&l.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:["Totale giacenza: ",(k=h.currentLevel)==null?void 0:k.toLocaleString()," kg"]})})]})]})]})]}),h.availableItems&&h.availableItems.length>0&&l.jsxs("div",{className:"border-t border-border pt-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[l.jsx(Zf,{className:"h-5 w-5"}),"Giacenza Scorporata nei Lotti"]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Lista dei materiali attualmente presenti nel silos, organizzati per lotti"})]}),l.jsx("div",{className:"space-y-3",children:h.availableItems.map((N,j)=>{var L,B;return l.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`hsl(${j*137.5%360}, 70%, 50%)`}}),l.jsx("span",{className:"font-medium text-foreground",children:((L=N.materials)==null?void 0:L.name)||N.product||"Materiale"})]}),l.jsxs(ds,{variant:"outline",className:"text-xs",children:["Lotto #",j+1]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(ne,{className:"text-xs text-muted-foreground",children:"Quantit Disponibile"}),l.jsxs("p",{className:"font-medium",children:[(B=N.available_quantity)==null?void 0:B.toLocaleString()," kg"]})]}),N.lot_supplier&&l.jsxs("div",{children:[l.jsx(ne,{className:"text-xs text-muted-foreground",children:"Lotto Fornitore"}),l.jsx("p",{className:"font-medium",children:N.lot_supplier})]}),N.lot_tf&&l.jsxs("div",{children:[l.jsx(ne,{className:"text-xs text-muted-foreground",children:"Lotto TF"}),l.jsx("p",{className:"font-medium",children:N.lot_tf})]}),l.jsxs("div",{children:[l.jsx(ne,{className:"text-xs text-muted-foreground",children:"Data Entrata"}),l.jsxs("p",{className:"font-medium flex items-center gap-1",children:[l.jsx(dF,{className:"h-3 w-3"}),new Date(N.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",day:"2-digit",month:"2-digit",year:"numeric"})]})]})]}),(N.proteins||N.humidity||N.cleaned)&&l.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[N.proteins&&l.jsxs("div",{children:[l.jsx(ne,{className:"text-muted-foreground",children:"Proteine"}),l.jsxs("p",{className:"font-medium",children:[N.proteins,"%"]})]}),N.humidity&&l.jsxs("div",{children:[l.jsx(ne,{className:"text-muted-foreground",children:"Umidit"}),l.jsxs("p",{className:"font-medium",children:[N.humidity,"%"]})]}),N.cleaned!==void 0&&l.jsxs("div",{children:[l.jsx(ne,{className:"text-muted-foreground",children:"Pulito"}),l.jsx(ds,{variant:N.cleaned?"default":"secondary",className:"text-xs",children:N.cleaned?"S":"No"})]})]})})]},j)})})]}),(!h.availableItems||h.availableItems.length===0)&&l.jsx("div",{className:"border-t border-border pt-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Lw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Silos Vuoto"}),l.jsx("p",{className:"text-muted-foreground",children:"Questo silos non contiene attualmente alcun materiale."})]})})]})]})})}function uq(){var T;Ai();const e=zt(),[t,n]=w.useState(null),{data:r,isLoading:s,error:a}=Di(),{data:i,isLoading:o,error:c}=QC(),{data:u,isLoading:f,error:d}=XC();F.useEffect(()=>{console.log(" HomePage data status:",{silosData:(r==null?void 0:r.length)||0,inboundData:(i==null?void 0:i.length)||0,outboundData:(u==null?void 0:u.length)||0,loading:{silosLoading:s,inboundLoading:o,outboundLoading:f},errors:{silosError:a,inboundError:c,outboundError:d}})},[r,i,u,s,o,f,a,c,d]);const m=w.useMemo(()=>{if(s||o||f)return{};const C=(r==null?void 0:r.reduce((H,Q)=>H+(Q.capacity_kg||0),0))||0,M=(r==null?void 0:r.map(H=>{const Q=(i==null?void 0:i.filter(se=>se&&se.silo_id===H.id))||[],re=(u==null?void 0:u.filter(se=>se&&se.silo_id===H.id))||[],Y=Q.reduce((se,de)=>se+((de==null?void 0:de.quantity_kg)||0),0),Z=re.reduce((se,de)=>se+((de==null?void 0:de.quantity_kg)||0),0),W=Y-Z;return{...H,currentLevel:Math.max(0,W),utilizationPercentage:H.capacity_kg>0?Math.max(0,W)/H.capacity_kg*100:0}}))||[],O=M.reduce((H,Q)=>H+Q.currentLevel,0),E=C>0?O/C*100:0,k=new Date().toISOString().split("T")[0],N=(i==null?void 0:i.filter(H=>{var Q;return H&&((Q=H.created_at)==null?void 0:Q.split("T")[0])===k}).length)||0,j=(u==null?void 0:u.filter(H=>{var Q;return H&&((Q=H.created_at)==null?void 0:Q.split("T")[0])===k}).length)||0,L=new Date;L.setDate(L.getDate()-7);const B=L.toISOString(),D=(i==null?void 0:i.filter(H=>H&&H.created_at>=B).length)||0,$=(u==null?void 0:u.filter(H=>H&&H.created_at>=B).length)||0,U=(i==null?void 0:i.reduce((H,Q)=>H+((Q==null?void 0:Q.quantity_kg)||0),0))||0,P=(u==null?void 0:u.reduce((H,Q)=>H+((Q==null?void 0:Q.quantity_kg)||0),0))||0;return{totalSilos:(r==null?void 0:r.length)||0,totalCapacity:C,totalCurrentStock:O,totalUtilization:E,todayInbound:N,todayOutbound:j,weekInbound:D,weekOutbound:$,totalInboundQuantity:U,totalOutboundQuantity:P,silosWithLevels:M}},[r,i,u,s,o,f]),{trendLabels:h,inboundCountSeries:y,outboundCountSeries:v,inboundQtySeries:b,outboundQtySeries:g}=w.useMemo(()=>{const M=new Date,O=D=>new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate())),E=D=>new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate(),23,59,59,999)),k=[],N=[],j=[],L=[],B=[];for(let D=14-1;D>=0;D--){const $=new Date(O(M));$.setUTCDate($.getUTCDate()-D);const U=O($),P=E($),H=U.toISOString().split("T")[0],Q=(i||[]).filter(W=>{if(!W||!W.created_at)return!1;const se=new Date(W.created_at);return se>=U&&se<=P}).length,re=(u||[]).filter(W=>{if(!W||!W.created_at)return!1;const se=new Date(W.created_at);return se>=U&&se<=P}).length,Y=(i||[]).reduce((W,se)=>{if(!se||!se.created_at)return W;const de=new Date(se.created_at);return de>=U&&de<=P?W+(se.quantity_kg||0):W},0),Z=(u||[]).reduce((W,se)=>{if(!se||!se.created_at)return W;const de=new Date(se.created_at);return de>=U&&de<=P?W+(se.quantity_kg||0):W},0);k.push(H),N.push(Q),j.push(re),L.push(Y),B.push(Z)}return{trendLabels:k,inboundCountSeries:N,outboundCountSeries:j,inboundQtySeries:L,outboundQtySeries:B}},[i,u]),p=({width:C=600,height:M=120,labels:O,series:E,colors:k})=>{const N={top:10,right:10,bottom:18,left:24},j=C-N.left-N.right,L=M-N.top-N.bottom,B=Math.max(1,O.length-1),D=Math.max(1,...E.flat()),$=re=>j*re/B,U=re=>L-L*re/D,P=re=>re.map((Y,Z)=>`${Z===0?"M":"L"} ${$(Z).toFixed(2)} ${U(Y).toFixed(2)}`).join(" "),H=3,Q=Array.from({length:H+1},(re,Y)=>L*Y/H);return l.jsx("svg",{viewBox:`0 0 ${C} ${M}`,className:"w-full h-28",children:l.jsxs("g",{transform:`translate(${N.left},${N.top})`,children:[Q.map((re,Y)=>l.jsx("line",{x1:0,y1:re,x2:j,y2:re,stroke:"#e5e7eb",strokeWidth:"1"},Y)),E.map((re,Y)=>l.jsx("path",{d:P(re),fill:"none",stroke:k[Y],strokeWidth:"2"},Y)),E.map((re,Y)=>l.jsx("circle",{cx:$(re.length-1),cy:U(re[re.length-1]),r:"2.5",fill:k[Y]},`pt-${Y}`)),O.map((re,Y)=>Y%3===0?l.jsx("text",{x:$(Y),y:L+12,fontSize:"9",textAnchor:"middle",fill:"#6b7280",children:re.slice(5)},re):null),l.jsx("text",{x:-8,y:-2,fontSize:"9",textAnchor:"end",fill:"#6b7280",children:Math.round(D)})]})})},x=C=>{n(C)},_=()=>{n(null)};return s||o||f?l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((C,M)=>l.jsx("div",{className:"h-32 bg-muted rounded-lg"},M))}),l.jsx("div",{className:"h-64 bg-muted rounded-lg"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard Tracciabilit Molino"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(qe,{className:"p-6",children:[l.jsx(Pn,{className:"pb-2",children:l.jsx($n,{className:"text-sm font-medium text-muted-foreground",children:"Silos Totali"})}),l.jsxs(vn,{children:[l.jsx("div",{className:"text-3xl font-bold text-foreground",children:m.totalSilos}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Capacit: ",m.totalCapacity.toLocaleString()," kg"]})]})]}),l.jsxs(qe,{className:"p-6",children:[l.jsx(Pn,{className:"pb-2",children:l.jsx($n,{className:"text-sm font-medium text-muted-foreground",children:"Giacenza Attuale"})}),l.jsxs(vn,{children:[l.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[m.totalCurrentStock.toLocaleString()," kg"]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Utilizzo: ",Math.round(m.totalUtilization),"%"]})]})]}),l.jsxs(qe,{className:"p-6",children:[l.jsx(Pn,{className:"pb-2",children:l.jsx($n,{className:"text-sm font-medium text-muted-foreground",children:"Movimenti Oggi"})}),l.jsxs(vn,{children:[l.jsx("div",{className:"text-3xl font-bold text-foreground",children:m.todayInbound+m.todayOutbound}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["IN: ",m.todayInbound," | OUT: ",m.todayOutbound]})]})]}),l.jsxs(qe,{className:"p-6",children:[l.jsx(Pn,{className:"pb-2",children:l.jsx($n,{className:"text-sm font-medium text-muted-foreground",children:"Movimenti Settimana"})}),l.jsxs(vn,{children:[l.jsx("div",{className:"text-3xl font-bold text-foreground",children:m.weekInbound+m.weekOutbound}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["IN: ",m.weekInbound," | OUT: ",m.weekOutbound]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($n,{children:"Trend Movimenti (14 giorni)"}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-3 h-1 bg-primary"})," IN"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-3 h-1 bg-muted-foreground"})," OUT"]})]})]})}),l.jsx(vn,{children:l.jsx(p,{labels:h,series:[y,v],colors:["hsl(var(--primary))","hsl(var(--muted-foreground))"]})})]}),l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($n,{children:"Quantit IN/OUT (kg)  14 giorni"}),l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-3 h-1 bg-green-600"})," IN"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-3 h-1 bg-red-600"})," OUT"]})]})]})}),l.jsx(vn,{children:l.jsx(p,{labels:h,series:[b,g],colors:["#16a34a","#dc2626"]})})]})]}),l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsx($n,{children:"Stato Silos"})}),l.jsx(vn,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(T=m.silosWithLevels)==null?void 0:T.map(C=>l.jsxs("div",{className:"border rounded-lg p-4 bg-card cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:()=>x(C),children:[l.jsx("h3",{className:"font-semibold text-card-foreground mb-3",children:C.name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Capacit:"}),l.jsxs("span",{className:"font-medium",children:[C.capacity_kg.toLocaleString()," kg"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Livello:"}),l.jsxs("span",{className:"font-medium",children:[C.currentLevel.toLocaleString()," kg"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Utilizzo:"}),l.jsxs("span",{className:"font-medium text-foreground",children:[Math.round(C.utilizationPercentage),"%"]})]}),l.jsx("div",{className:"mt-3",children:l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"h-2 rounded-full bg-primary",style:{width:`${Math.min(C.utilizationPercentage,100)}%`}})})})]})]},C.id))})})]}),l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsx($n,{children:"Azioni Rapide"})}),l.jsx(vn,{children:l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx(ie,{onClick:()=>e("/silos"),children:"Gestisci Silos"}),l.jsx(ie,{variant:"outline",onClick:()=>e("/merce-in/new"),children:"Registra Merce IN"}),l.jsx(ie,{variant:"outline",onClick:()=>e("/merce-out/new"),children:"Registra Merce OUT"}),l.jsx(ie,{variant:"outline",onClick:()=>e("/reports"),children:"Visualizza Report"})]})})]}),t&&l.jsx(zh,{silo:t,onClose:_})]})}const dq=({silo:e,onClick:t})=>{const{id:n,name:r,capacity_kg:s,currentLevel:a,availableItems:i=[]}=e,o=s>0?a/s*100:0,c=f=>{const d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];return d[f%d.length]},u=()=>i.length===0?l.jsx("div",{className:"w-20 h-40 bg-gray-100 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-gray-400 text-xs transform -rotate-90",children:"Vuoto"})}):l.jsxs("div",{className:"relative w-20 h-40 bg-gray-100 rounded overflow-hidden flex flex-col justify-end",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gray-400 opacity-50"}),i.map((f,d)=>{var h;const m=f.available_quantity/s*100;return l.jsx("div",{className:"flex items-center justify-center relative",style:{height:`${m}%`,backgroundColor:c(d),minHeight:m>3?"auto":"4px"},title:`${((h=f.materials)==null?void 0:h.name)||"Materiale"}: ${f.available_quantity}kg`},d)})]});return l.jsx(qe,{className:"p-4 hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:t,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r})}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[a.toLocaleString()," / ",s.toLocaleString()," kg"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(o),"% utilizzato"]})]})]}),l.jsx("div",{className:"flex items-end space-x-2",children:u()})]})})};function fq(){const[e,t]=w.useState(!1),[n,r]=w.useState(null),[s,a]=w.useState(null),{data:i,isLoading:o}=Hu(!0),{data:c}=xs(),u=GC(),f=KC();n0();const d=async g=>{const p={...g,capacity_kg:parseInt(g.capacity_kg),allowed_material_ids:g.allowed_material_ids||[],updated_at:new Date().toISOString()};n?await f.mutateAsync({id:n.id,updates:p}):await u.mutateAsync(p),t(!1),r(null)},m=g=>{d(g)},h=()=>{t(!1),r(null)},y=g=>{a(g)},v=()=>{a(null)},b={sections:[{title:"Informazioni Silos",fields:[{name:"name",label:"Nome Silos",type:"text",required:!0,placeholder:"Inserisci nome silos"},{name:"capacity_kg",label:"Capacit (Kg)",type:"number",required:!0,placeholder:"Inserisci capacit in kg"},{name:"allowed_material_ids",label:"Materiali Consentiti",type:"checkbox",options:(c==null?void 0:c.map(g=>({value:g.id,label:g.name})))||[]}]}],addButtonText:"Aggiungi Silos",editButtonText:"Aggiorna Silos",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione silos",editContext:"Aggiornamento silos",addErrorMessage:"Errore durante la creazione del silos",editErrorMessage:"Errore durante l'aggiornamento del silos"};return o?l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-8 bg-gray-300 rounded w-48"})}),l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-10 bg-gray-300 rounded w-32"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-6 bg-gray-300 rounded w-40"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(g=>l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"})},g))})]})]}):l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Gestione Silos"}),l.jsx(ie,{onClick:()=>t(!0),children:"Aggiungi Silos"})]}),e&&l.jsxs(qe,{className:"p-2",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-lg font-semibold",children:n?"Modifica Silos":"Nuovo Silos"})}),l.jsx(qu,{config:b,initialData:n||{},onSubmit:m,onCancel:h,isEditMode:!!n,isLoading:n?f.isPending:u.isPending})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Silos Disponibili"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i==null?void 0:i.map(g=>l.jsx(dq,{silo:g,onClick:()=>y(g)},g.id))}),(i==null?void 0:i.length)===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground text-lg",children:"Nessun silos disponibile"}),l.jsx("p",{className:"text-muted-foreground/70 text-sm mt-2",children:'Clicca su "Aggiungi Silos" per creare il primo silos'})]})]}),s&&l.jsx(zh,{silo:s,onClose:v})]})}function hq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:["silos"],queryFn:async()=>{const{data:v,error:b}=await K.from("silos").select("*").order("created_at",{ascending:!1});if(b)throw b;return v}}),{data:a,isLoading:i}=xs(),o=n0(),c=Me(),u=Ae({mutationFn:async v=>{const{error:b}=await K.from("silos").delete().in("id",v);if(b)throw b},onSuccess:()=>c.invalidateQueries(["silos"])}),f=v=>{n(v)},d=()=>{n(null)},m=v=>{e(`/silos/edit/${v.id}`)},h=v=>{o.mutate(v.id)},y=[{accessorKey:"id",header:"ID",cell:({getValue:v})=>`#${v()}`},{accessorKey:"name",header:"Nome Silos"},{accessorKey:"capacity_kg",header:"Capacit (Kg)",cell:({getValue:v})=>`${v().toLocaleString()} kg`}];return s||i?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Silos",entityName:"Silo",createButtonHref:"/silos/new",data:r||[],columns:y,onRowClick:f,onEditRow:m,onDeleteRow:h,enableFiltering:!0,filterableColumns:["name"],enableGlobalSearch:!1,onBulkDelete:v=>u.mutate(v),detailComponent:t&&l.jsx(zh,{silo:t,onClose:d})})}function Pw(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1),{data:i,isLoading:o}=xs(),c=GC(),u=KC();w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("silos").select("*").eq("id",e).single().then(({data:v,error:b})=>{b?(console.error("Error fetching silo data:",b),t("/silos/list")):r(v),a(!1)}))},[e,t]);const f=async v=>{let b=[];Array.isArray(v.allowed_material_ids)?b=v.allowed_material_ids.filter(p=>!isNaN(p)):typeof v.allowed_material_ids=="string"&&v.allowed_material_ids.trim()&&(b=v.allowed_material_ids.split(",").map(p=>parseInt(p.trim())).filter(p=>!isNaN(p)));const g={...v,capacity_kg:parseInt(v.capacity_kg),allowed_material_ids:b,updated_at:new Date().toISOString()};n?await u.mutateAsync({id:n.id,updates:g}):await c.mutateAsync(g),t("/silos/list")},d=v=>{f(v)},m=()=>{t("/silos/list")},h={allowed_material_ids:(v,{setValue:b,getValues:g})=>{const p=g(v.name)||[];return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-[10px] text-gray-600 mb-2",children:"Seleziona i materiali che questo silos pu accettare. Lascia vuoto per accettare tutti i materiali."}),l.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-2",children:i==null?void 0:i.map(x=>l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p.includes(x.id),onChange:_=>{const R=g(v.name)||[];_.target.checked?b(v.name,[...R,x.id]):b(v.name,R.filter(T=>T!==x.id))},className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-[10px] font-medium",children:x.name})]},x.id))}),p.length>0&&l.jsxs("div",{className:"text-[9px] text-gray-500",children:[p.length," materiali selezionati"]})]})}},y={sections:[{title:"Informazioni Silos",fields:[{name:"name",label:"Nome Silos",type:"text",required:!0,placeholder:"Inserisci nome silos"},{name:"capacity_kg",label:"Capacit (Kg)",type:"number",required:!0,placeholder:"Inserisci capacit in kg"}]},{title:"Configurazione Materiali",fields:[{name:"allowed_material_ids",label:"Materiali Consentiti",type:"allowed_material_ids",helpText:"Seleziona i materiali che questo silos pu accettare"}]}],addButtonText:"Aggiungi Silos",editButtonText:"Aggiorna Silos",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione silos",editContext:"Aggiornamento silos",addErrorMessage:"Errore durante la creazione del silos",editErrorMessage:"Errore durante l'aggiornamento del silos"};return s||o?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(t0,{title:"Nuovo Silos",editTitle:"Modifica Silos",isEditMode:!!n,formConfig:y,initialData:n?{...n,allowed_material_ids:n.allowed_material_ids||[]}:{},onSubmit:d,onCancel:m,isLoading:n?u.isPending:c.isPending,customFieldRenderers:h})}function mq({operator:e,onClose:t,onEdit:n}){const[r,s]=w.useState(!1),[a,i]=w.useState({name:e.name||"",code:e.code||"",role:e.role||"",status:e.status||"active",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=JC(),c=Me(),u=Ae({mutationFn:async y=>{const{error:v}=await K.from("operators").update(y).eq("id",e.id);if(v)throw v},onSuccess:()=>{c.invalidateQueries(["operators"]),s(!1)}}),f=()=>{u.mutate(a)},d=()=>{i({name:e.name||"",code:e.code||"",role:e.role||"",status:e.status||"active",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),s(!1)},m=()=>{Ea("Sei sicuro di voler eliminare questo operatore?")&&o.mutate(e.id,{onSuccess:()=>{t()}})},h=y=>{switch(y){case"active":return"default";case"inactive":return"destructive";case"suspended":return"secondary";default:return"outline"}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(TF,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Edit Operator":"Operator Details"}),l.jsx("p",{className:"text-muted-foreground",children:r?"Modify operator information":e.name})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:f,disabled:u.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:m,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"name",children:"Nome"}),r?l.jsx(ve,{id:"name",value:a.name,onChange:y=>i(v=>({...v,name:y.target.value})),placeholder:"Inserisci nome operatore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"code",children:"Codice"}),r?l.jsx(ve,{id:"code",value:a.code,onChange:y=>i(v=>({...v,code:y.target.value})),placeholder:"Inserisci codice operatore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.code})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"role",children:"Ruolo"}),r?l.jsx(ve,{id:"role",value:a.role,onChange:y=>i(v=>({...v,role:y.target.value})),placeholder:"Inserisci ruolo"}):l.jsx("p",{className:"text-foreground font-medium",children:e.role})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"status",children:"Stato"}),r?l.jsxs("select",{id:"status",value:a.status,onChange:y=>i(v=>({...v,status:y.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"})]}):l.jsx(ds,{variant:h(e.status),children:e.status||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Contact Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"phone",children:"Telefono"}),r?l.jsx(ve,{id:"phone",value:a.phone,onChange:y=>i(v=>({...v,phone:y.target.value})),placeholder:"Inserisci numero di telefono"}):l.jsx("p",{className:"text-foreground font-medium",children:e.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"email",children:"Email"}),r?l.jsx(ve,{id:"email",type:"email",value:a.email,onChange:y=>i(v=>({...v,email:y.target.value})),placeholder:"Inserisci indirizzo email"}):l.jsx("p",{className:"text-foreground font-medium",children:e.email||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),r?l.jsx("textarea",{value:a.notes,onChange:y=>i(v=>({...v,notes:y.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):l.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"ID Operatore"}),l.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Attivo"}),r?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:a.active,onChange:y=>i(v=>({...v,active:y.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:a.active?"Operatore attivo":"Operatore inattivo"})]}):l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data Creazione"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})})]})})}function gq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:["operators"],queryFn:async()=>{const{data:h,error:y}=await K.from("operators").select("*").order("created_at",{ascending:!1});if(y)throw y;return h}}),a=JC(),i=Me(),o=Ae({mutationFn:async h=>{const{error:y}=await K.from("operators").delete().in("id",h);if(y)throw y},onSuccess:()=>i.invalidateQueries(["operators"])}),c=h=>{n(h)},u=()=>{n(null)},f=h=>{e(`/operators/edit/${h.id}`)},d=h=>{a.mutate(h.id)},m=[{accessorKey:"id",header:"ID",cell:({getValue:h})=>`#${h()}`},{accessorKey:"name",header:"Nome"},{accessorKey:"code",header:"Codice"},{accessorKey:"role",header:"Ruolo"},{accessorKey:"status",header:"Stato",cell:({getValue:h})=>{const y=h(),v=y==="active"?"default":y==="inactive"?"destructive":y==="suspended"?"secondary":"outline";return l.jsx(ds,{variant:v,children:y||"N/A"})}}];return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Operatori",entityName:"Operator",createButtonHref:"/operators/new",data:r||[],columns:m,onRowClick:c,onEditRow:f,onDeleteRow:d,enableFiltering:!0,filterableColumns:["name","code","role","status"],enableGlobalSearch:!1,onBulkDelete:h=>o.mutate(h),detailComponent:t&&l.jsx(mq,{operator:t,onClose:u})})}function $w(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1);w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("operators").select("*").eq("id",e).single().then(({data:m,error:h})=>{h?(console.error("Error fetching operator data:",h),t("/operators/list")):r(m),a(!1)}))},[e,t]);const i=XF(),o=ZF(),c=async m=>{const h={...m,updated_at:new Date().toISOString()};n?await o.mutateAsync({id:n.id,updates:h}):await i.mutateAsync(h),t("/operators/list")},u=m=>{c(m)},f=()=>{t("/operators/list")},d={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Operatore",type:"text",required:!0,placeholder:"Inserisci nome operatore"},{name:"code",label:"Codice Operatore",type:"text",placeholder:"Inserisci codice operatore"},{name:"role",label:"Ruolo",type:"select",required:!0,options:[{value:"Operatore",label:"Operatore"},{value:"Supervisore",label:"Supervisore"},{value:"Manager",label:"Manager"},{value:"Amministratore",label:"Amministratore"}]},{name:"status",label:"Stato",type:"select",required:!0,options:[{value:"active",label:"Attivo"},{value:"inactive",label:"Inattivo"},{value:"suspended",label:"Sospeso"}]}]},{title:"Contatti",fields:[{name:"phone",label:"Telefono",type:"text",placeholder:"Inserisci numero di telefono"},{name:"email",label:"Email",type:"text",placeholder:"Inserisci indirizzo email"}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Operatore",editButtonText:"Aggiorna Operatore",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione operatore",editContext:"Aggiornamento operatore",addErrorMessage:"Errore durante la creazione dell'operatore",editErrorMessage:"Errore durante l'aggiornamento dell'operatore"};return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:n?"Modifica Operatore":"Nuovo Operatore"})}),l.jsx(qu,{config:d,initialData:n?{...n,active:String(n.active)}:{},onSubmit:u,onCancel:f,isEditMode:!!n,isLoading:n?o.isPending:i.isPending})]})}function pq({material:e,onClose:t,onEdit:n}){const[r,s]=w.useState(!1),[a,i]=w.useState({name:e.name||"",description:e.description||"",unit:e.unit||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=WC(),c=Me(),u=Ae({mutationFn:async h=>{const{error:y}=await K.from("materials").update(h).eq("id",e.id);if(y)throw y},onSuccess:()=>{c.invalidateQueries(["materials"]),s(!1)}}),f=()=>{u.mutate(a)},d=()=>{i({name:e.name||"",description:e.description||"",unit:e.unit||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),s(!1)},m=()=>{Ea("Sei sicuro di voler eliminare questo materiale?")&&o.mutate(e.id,{onSuccess:()=>{t()}})};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(Zf,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Edit Material":"Material Details"}),l.jsx("p",{className:"text-muted-foreground",children:r?"Modify material information":e.name})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:f,disabled:u.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:m,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"name",children:"Nome Materiale"}),r?l.jsx(ve,{id:"name",value:a.name,onChange:h=>i(y=>({...y,name:h.target.value})),placeholder:"Inserisci nome materiale"}):l.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"description",children:"Descrizione"}),r?l.jsx("textarea",{id:"description",value:a.description,onChange:h=>i(y=>({...y,description:h.target.value})),placeholder:"Inserisci descrizione del materiale",rows:3}):l.jsx("p",{className:"text-foreground",children:e.description||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"unit",children:"Unit di Misura"}),r?l.jsx(ve,{id:"unit",value:a.unit,onChange:h=>i(y=>({...y,unit:h.target.value})),placeholder:"es. Kg, L, pz"}):l.jsx("p",{className:"text-foreground font-medium",children:e.unit||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),r?l.jsx("textarea",{value:a.notes,onChange:h=>i(y=>({...y,notes:h.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):l.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"ID Materiale"}),l.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Attivo"}),r?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:a.active,onChange:h=>i(y=>({...y,active:h.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:a.active?"Materiale attivo":"Materiale inattivo"})]}):l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data Creazione"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Usage Information"}),l.jsx("div",{className:"space-y-2",children:l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Questo materiale pu essere utilizzato nei silos e nei movimenti di merce."})})})]})]})]})})]})})}function vq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:["materials"],queryFn:async()=>{const{data:h,error:y}=await K.from("materials").select("*").order("created_at",{ascending:!1});if(y)throw y;return h}}),a=WC(),i=Me(),o=Ae({mutationFn:async h=>{const{error:y}=await K.from("materials").delete().in("id",h);if(y)throw y},onSuccess:()=>i.invalidateQueries(["materials"])}),c=h=>{n(h)},u=()=>{n(null)},f=h=>{e(`/materials/edit/${h.id}`)},d=h=>{a.mutate(h.id)},m=[{accessorKey:"id",header:"ID",cell:({getValue:h})=>`#${h()}`},{accessorKey:"name",header:"Nome Materiale"},{accessorKey:"unit",header:"Unit"},{accessorKey:"active",header:"Attivo",cell:({getValue:h})=>l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h()?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:h()?"S":"No"})}];return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Materiali",entityName:"Material",createButtonHref:"/materials/new",data:r||[],columns:m,onRowClick:c,onEditRow:f,onDeleteRow:d,enableFiltering:!0,filterableColumns:["name","unit"],enableGlobalSearch:!1,onBulkDelete:h=>o.mutate(h),detailComponent:t&&l.jsx(pq,{material:t,onClose:u})})}function Fw(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1);w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("materials").select("*").eq("id",e).single().then(({data:m,error:h})=>{h?(console.error("Error fetching material data:",h),t("/materials/list")):r(m),a(!1)}))},[e,t]);const i=QF(),o=YF(),c=async m=>{const h={...m,updated_at:new Date().toISOString()};n?await o.mutateAsync({id:n.id,updates:h}):await i.mutateAsync(h),t("/materials/list")},u=m=>{c(m)},f=()=>{t("/materials/list")},d={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Materiale",type:"text",required:!0,placeholder:"Inserisci nome materiale"},{name:"description",label:"Descrizione",type:"textarea",rows:3,placeholder:"Inserisci descrizione del materiale"},{name:"unit",label:"Unit di Misura",type:"select",required:!0,options:[{value:"Kg",label:"Kg"},{value:"g",label:"g"},{value:"L",label:"L"},{value:"ml",label:"ml"},{value:"pz",label:"Pezzi"},{value:"m",label:"Metri"},{value:"m",label:"Metri Quadri"},{value:"m",label:"Metri Cubi"}]}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Materiale",editButtonText:"Aggiorna Materiale",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione materiale",editContext:"Aggiornamento materiale",addErrorMessage:"Errore durante la creazione del materiale",editErrorMessage:"Errore durante l'aggiornamento del materiale"};return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(t0,{title:"Nuovo Materiale",editTitle:"Modifica Materiale",isEditMode:!!n,formConfig:d,initialData:n?{...n,active:String(n.active)}:{},onSubmit:u,onCancel:f,isLoading:n?o.isPending:i.isPending})}function yq({supplier:e,onClose:t,onEdit:n}){const[r,s]=w.useState(!1),[a,i]=w.useState({name:e.name||"",code:e.code||"",contact_person:e.contact_person||"",status:e.status||"active",address:e.address||"",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),o=eN(),c=Me(),u=Ae({mutationFn:async y=>{const{error:v}=await K.from("suppliers").update(y).eq("id",e.id);if(v)throw v},onSuccess:()=>{c.invalidateQueries(["suppliers"]),s(!1)}}),f=()=>{u.mutate(a)},d=()=>{i({name:e.name||"",code:e.code||"",contact_person:e.contact_person||"",status:e.status||"active",address:e.address||"",phone:e.phone||"",email:e.email||"",notes:e.notes||"",active:e.active!==void 0?e.active:!0}),s(!1)},m=()=>{Ea("Sei sicuro di voler eliminare questo fornitore?")&&o.mutate(e.id,{onSuccess:()=>{t()}})},h=y=>{switch(y){case"active":return"default";case"inactive":return"destructive";case"suspended":return"secondary";default:return"outline"}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:l.jsx(HC,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Edit Supplier":"Supplier Details"}),l.jsx("p",{className:"text-muted-foreground",children:r?"Modify supplier information":e.name})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:f,disabled:u.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),u.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:m,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Company Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"name",children:"Nome Fornitore"}),r?l.jsx(ve,{id:"name",value:a.name,onChange:y=>i(v=>({...v,name:y.target.value})),placeholder:"Inserisci nome fornitore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.name})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"code",children:"Codice"}),r?l.jsx(ve,{id:"code",value:a.code,onChange:y=>i(v=>({...v,code:y.target.value})),placeholder:"Inserisci codice fornitore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.code})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"contact_person",children:"Persona di Contatto"}),r?l.jsx(ve,{id:"contact_person",value:a.contact_person,onChange:y=>i(v=>({...v,contact_person:y.target.value})),placeholder:"Inserisci persona di contatto"}):l.jsx("p",{className:"text-foreground font-medium",children:e.contact_person||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"status",children:"Stato"}),r?l.jsxs("select",{id:"status",value:a.status,onChange:y=>i(v=>({...v,status:y.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"})]}):l.jsx(ds,{variant:h(e.status),children:e.status||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Contact Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"address",children:"Indirizzo"}),r?l.jsx("textarea",{id:"address",value:a.address,onChange:y=>i(v=>({...v,address:y.target.value})),placeholder:"Inserisci indirizzo completo",rows:3}):l.jsx("p",{className:"text-foreground",children:e.address||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"phone",children:"Telefono"}),r?l.jsx(ve,{id:"phone",value:a.phone,onChange:y=>i(v=>({...v,phone:y.target.value})),placeholder:"Inserisci numero di telefono"}):l.jsx("p",{className:"text-foreground font-medium",children:e.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"email",children:"Email"}),r?l.jsx(ve,{id:"email",type:"email",value:a.email,onChange:y=>i(v=>({...v,email:y.target.value})),placeholder:"Inserisci indirizzo email"}):l.jsx("p",{className:"text-foreground font-medium",children:e.email||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),r?l.jsx("textarea",{value:a.notes,onChange:y=>i(v=>({...v,notes:y.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):l.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Status & Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"ID Fornitore"}),l.jsxs("p",{className:"text-foreground font-medium",children:["#",e.id]})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Attivo"}),r?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:a.active,onChange:y=>i(v=>({...v,active:y.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:a.active?"Fornitore attivo":"Fornitore inattivo"})]}):l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.active?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.active?"S":"No"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data Creazione"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Business Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Questo fornitore pu essere utilizzato nei movimenti di merce in entrata."})}),e.contact_person&&l.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:["Contatto principale: ",e.contact_person]})})]})]})]})]})})]})})}function bq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:["suppliers"],queryFn:async()=>{const{data:h,error:y}=await K.from("suppliers").select("*").order("created_at",{ascending:!1});if(y)throw y;return h}}),a=eN(),i=Me(),o=Ae({mutationFn:async h=>{const{error:y}=await K.from("suppliers").delete().in("id",h);if(y)throw y},onSuccess:()=>i.invalidateQueries(["suppliers"])}),c=h=>{n(h)},u=()=>{n(null)},f=h=>{e(`/suppliers/edit/${h.id}`)},d=h=>{a.mutate(h.id)},m=[{accessorKey:"id",header:"ID",cell:({getValue:h})=>`#${h()}`},{accessorKey:"name",header:"Nome Fornitore"},{accessorKey:"code",header:"Codice"},{accessorKey:"contact_person",header:"Persona di Contatto"},{accessorKey:"status",header:"Stato",cell:({getValue:h})=>{const y=h(),v=y==="active"?"default":y==="inactive"?"destructive":y==="suspended"?"secondary":"outline";return l.jsx(ds,{variant:v,children:y||"N/A"})}}];return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Fornitori",entityName:"Supplier",createButtonHref:"/suppliers/new",data:r||[],columns:m,onRowClick:c,onEditRow:f,onDeleteRow:d,enableFiltering:!0,filterableColumns:["name","code","contact_person","status"],onBulkDelete:h=>o.mutate(h),enableGlobalSearch:!1,detailComponent:t&&l.jsx(yq,{supplier:t,onClose:u})})}function qw(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1);w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("suppliers").select("*").eq("id",e).single().then(({data:m,error:h})=>{h?(console.error("Error fetching supplier data:",h),t("/suppliers/list")):r(m),a(!1)}))},[e,t]);const i=WF(),o=JF(),c=async m=>{const h={...m,updated_at:new Date().toISOString()};n?await o.mutateAsync({id:n.id,updates:h}):await i.mutateAsync(h),t("/suppliers/list")},u=m=>{c(m)},f=()=>{t("/suppliers/list")},d={sections:[{title:"Informazioni Generali",fields:[{name:"name",label:"Nome Fornitore",type:"text",required:!0,placeholder:"Inserisci nome fornitore"},{name:"code",label:"Codice Fornitore",type:"text",placeholder:"Inserisci codice fornitore"},{name:"contact_person",label:"Persona di Contatto",type:"text",placeholder:"Inserisci nome persona di contatto"},{name:"status",label:"Stato",type:"select",required:!0,options:[{value:"active",label:"Attivo"},{value:"inactive",label:"Inattivo"},{value:"suspended",label:"Sospeso"}]}]},{title:"Contatti",fields:[{name:"address",label:"Indirizzo",type:"textarea",rows:3,placeholder:"Inserisci indirizzo completo"},{name:"phone",label:"Telefono",type:"text",placeholder:"Inserisci numero di telefono"},{name:"email",label:"Email",type:"text",placeholder:"Inserisci indirizzo email"}]},{title:"Altre Informazioni",fields:[{name:"notes",label:"Note",type:"textarea",rows:3,placeholder:"Inserisci note aggiuntive"},{name:"active",label:"Attivo",type:"select",required:!0,options:[{value:"true",label:"S"},{value:"false",label:"No"}]}]}],addButtonText:"Aggiungi Fornitore",editButtonText:"Aggiorna Fornitore",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione fornitore",editContext:"Aggiornamento fornitore",addErrorMessage:"Errore durante la creazione del fornitore",editErrorMessage:"Errore durante l'aggiornamento del fornitore"};return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(t0,{title:"Nuovo Fornitore",editTitle:"Modifica Fornitore",isEditMode:!!n,formConfig:d,initialData:n?{...n,active:String(n.active)}:{},onSubmit:u,onCancel:f,isLoading:n?o.isPending:i.isPending})}function xq({inbound:e,onClose:t,onEdit:n}){const[r,s]=w.useState(!1),[a,i]=w.useState({ddt_number:e.ddt_number||"",product:e.product||"",quantity_kg:e.quantity_kg||"",silo_id:e.silo_id||"",lot_supplier:e.lot_supplier||"",lot_tf:e.lot_tf||"",cleaned:e.cleaned!==void 0?e.cleaned:!1,proteins:e.proteins||"",humidity:e.humidity||"",operator_name:e.operator_name||""});xs(),Gu();const{data:o}=Di(),{data:c}=tt({queryKey:["suppliers"],queryFn:async()=>{const{data:b,error:g}=await K.from("suppliers").select("id, name").eq("active",!0).order("name");if(g)throw g;return b}}),u=YC(),f=Me(),d=Ae({mutationFn:async b=>{console.log("About to update with data:",b);const{data:g,error:p}=await K.from("inbound").update(b).eq("id",e.id).select("*, silos(name)").single();if(p)throw console.error("Update error:",p),p;return console.log("Update successful"),g},onSuccess:()=>{f.invalidateQueries({queryKey:["inbound"]}),f.invalidateQueries({queryKey:["inbound","with-silos"]}),f.invalidateQueries({queryKey:["silos","withLevels"]}),s(!1),t&&t()}}),m=()=>{console.log("Saving formData:",a),console.log("lot_supplier value:",a.lot_supplier),console.log("Original inbound lot_supplier:",e.lot_supplier);const b={ddt_number:a.ddt_number||null,product:a.product||null,quantity_kg:a.quantity_kg?parseFloat(a.quantity_kg):null,silo_id:a.silo_id?parseInt(a.silo_id):null,lot_supplier:a.lot_supplier||null,lot_tf:a.lot_tf||null,cleaned:a.cleaned,proteins:a.proteins?parseFloat(a.proteins):null,humidity:a.humidity?parseFloat(a.humidity):null,operator_name:a.operator_name||null};console.log("Processed dataToSave:",b),d.mutate(b)},h=()=>{i({ddt_number:e.ddt_number||"",product:e.product||"",quantity_kg:e.quantity_kg||"",silo_id:e.silo_id||"",lot_supplier:e.lot_supplier||"",lot_tf:e.lot_tf||"",cleaned:e.cleaned!==void 0?e.cleaned:!1,proteins:e.proteins||"",humidity:e.humidity||"",operator_name:e.operator_name||""}),s(!1)},y=()=>{Ea("Sei sicuro di voler eliminare questo movimento?")&&u.mutate(e.id,{onSuccess:()=>{t()}})},v=b=>{const g=o==null?void 0:o.find(p=>p.id===b);return g?g.name:"N/A"};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(aF,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Edit Inbound Movement":"Inbound Movement Details"}),l.jsx("p",{className:"text-muted-foreground",children:r?"Modify movement information":`Movement ${e.id}`})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:h,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:()=>{console.log("Save button clicked"),m()},disabled:d.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{console.log("Edit button clicked"),s(!0)},className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:y,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Movement Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"ddt_number",children:"DDT Number"}),r?l.jsx(ve,{id:"ddt_number",value:a.ddt_number,onChange:b=>i(g=>({...g,ddt_number:b.target.value})),placeholder:"Inserisci numero DDT"}):l.jsx("p",{className:"text-foreground font-medium",children:e.ddt_number||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"product",children:"Prodotto"}),r?l.jsx(ve,{id:"product",value:a.product,onChange:b=>i(g=>({...g,product:b.target.value})),placeholder:"Inserisci nome prodotto"}):l.jsx("p",{className:"text-foreground font-medium",children:e.product})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"quantity_kg",children:"Quantit (Kg)"}),r?l.jsx(ve,{id:"quantity_kg",type:"number",value:a.quantity_kg,onChange:b=>i(g=>({...g,quantity_kg:b.target.value})),placeholder:"Inserisci quantit in kg"}):l.jsxs("p",{className:"text-foreground font-medium",children:[e.quantity_kg," kg"]})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"silo_id",children:"Silos"}),r?l.jsxs("select",{id:"silo_id",value:a.silo_id,onChange:b=>i(g=>({...g,silo_id:b.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"",children:"Seleziona silos"}),o==null?void 0:o.map(b=>l.jsx("option",{value:b.id,children:b.name},b.id))]}):l.jsx("p",{className:"text-foreground font-medium",children:v(e.silo_id)})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"fornitore",children:"Fornitore"}),r?l.jsxs("select",{id:"fornitore",value:a.lot_supplier,onChange:b=>{console.log("Fornitore changed to:",b.target.value),console.log("Previous formData:",a);const g={...a,lot_supplier:b.target.value};console.log("New formData:",g),i(g)},className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"",children:"Seleziona fornitore"}),c==null?void 0:c.map(b=>l.jsx("option",{value:b.name,children:b.name},b.id))]}):l.jsx("p",{className:"text-foreground font-medium",children:e.lot_supplier||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"operator_name",children:"Operatore"}),r?l.jsx(ve,{id:"operator_name",value:a.operator_name,onChange:b=>i(g=>({...g,operator_name:b.target.value})),placeholder:"Inserisci nome operatore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.operator_name||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Lot Information"}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"lot_code",children:"Codice Lotto"}),r?l.jsx(ve,{id:"lot_code",value:a.lot_tf,onChange:b=>i(g=>({...g,lot_tf:b.target.value})),placeholder:"Inserisci codice lotto"}):l.jsx("p",{className:"text-foreground font-medium",children:e.lot_tf||"N/A"})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Quality Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"proteins",children:"Proteine (%)"}),r?l.jsx(ve,{id:"proteins",type:"number",step:"0.1",value:a.proteins,onChange:b=>i(g=>({...g,proteins:b.target.value})),placeholder:"Inserisci percentuale proteine"}):l.jsx("p",{className:"text-foreground font-medium",children:e.proteins?`${e.proteins}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"humidity",children:"Umidit (%)"}),r?l.jsx(ve,{id:"humidity",type:"number",step:"0.1",value:a.humidity,onChange:b=>i(g=>({...g,humidity:b.target.value})),placeholder:"Inserisci percentuale umidit"}):l.jsx("p",{className:"text-foreground font-medium",children:e.humidity?`${e.humidity}%`:"N/A"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Pulizia"}),r?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:a.cleaned,onChange:b=>i(g=>({...g,cleaned:b.target.checked})),className:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:a.cleaned?"Pulizia accettata":"Pulizia non accettata"})]}):l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.cleaned?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:e.cleaned?"Accettata":"Non Accettata"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data/Ora Movimento"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})})]})})}function wq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:[...ae.inbound,"with-silos"],queryFn:async()=>{const{data:g,error:p}=await K.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});if(p)throw p;return g}}),{data:a,isLoading:i}=xs(),{data:o,isLoading:c}=Gu(),u=YC(),f=Me(),d=Ae({mutationFn:async g=>{const{error:p}=await K.from("inbound").delete().in("id",g);if(p)throw p},onSuccess:()=>f.invalidateQueries([...ae.inbound,"with-silos"])}),m=g=>{n(g)},h=()=>{n(null)},y=g=>{e(`/merce-in/edit/${g.id}`)},v=g=>{u.mutate(g.id)},b=[{accessorKey:"id",header:"ID",cell:({getValue:g})=>`#${g()}`},{accessorKey:"created_at",header:"Data/Ora",cell:({getValue:g})=>new Date(g()).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{accessorKey:"product",header:"Prodotto"},{accessorKey:"quantity_kg",header:"Quantit (Kg)",cell:({getValue:g})=>`${g()} kg`},{accessorKey:"silos.name",header:"Silos",cell:({row:g})=>{var p;return((p=g.original.silos)==null?void 0:p.name)||"N/A"}},{accessorKey:"operator_name",header:"Operatore"},{accessorKey:"lot_supplier",header:"Fornitore"}];return s||i||c?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Movimenti IN",entityName:"Movement",createButtonHref:"/merce-in/new",data:r||[],columns:b,onRowClick:m,onEditRow:y,onDeleteRow:v,enableFiltering:!0,filterableColumns:["product","operator_name","lot_supplier"],enableGlobalSearch:!1,onBulkDelete:g=>d.mutate(g),detailComponent:t&&l.jsx(xq,{inbound:t,onClose:h})})}function Bw(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1),[i,o]=w.useState(null),[c,u]=w.useState("");w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("inbound").select("*, silos(name)").eq("id",e).single().then(({data:E,error:k})=>{k?(console.error("Error fetching inbound data:",k),t("/merce-in/list")):(r(E),E.product&&o(E.product),E.quantity_kg&&u(String(E.quantity_kg))),a(!1)}))},[e,t]);const{data:f}=Hu(),{data:d,isLoading:m,error:h}=xs(),{data:y,isLoading:v,error:b}=Gu(),{data:g}=tt({queryKey:["suppliers"],queryFn:async()=>{const{data:E,error:k}=await K.from("suppliers").select("id, name").eq("active",!0).order("name");if(k)throw k;return E}}),p=w.useMemo(()=>{if(!f||!i)return f||[];const E=d==null?void 0:d.find(N=>N.name===i);if(!E)return f;const k=parseFloat(c)||0;return f.filter(N=>{let j=!0;if(N.allowed_material_ids&&N.allowed_material_ids.length>0&&(j=N.allowed_material_ids.includes(E.id)),!j)return!1;if(k>0){const L=N.currentLevel||0;return(N.capacity_kg||0)-L>=k}return!0})},[f,i,d,c]),x=VF(),_=HF(),R=async E=>{if(console.log("MerceInPage handleSubmit called with:",E),console.log("lot_supplier value:",E.lot_supplier),E.silo_id==="no-silos"||E.silo_id==="select-product"){alert("Seleziona un silos valido");return}if(E.operator_name==="loading"){alert("Seleziona un operatore valido");return}const k={...E,silo_id:parseInt(E.silo_id),cleaned:E.cleaned==="true",updated_at:new Date().toISOString()};n?await _.mutateAsync({id:n.id,updates:k}):await x.mutateAsync(k),t("/merce-in/list")},T=E=>{R(E)},C=()=>{t("/merce-in/list")},M={product:(E,{setValue:k,getValues:N})=>l.jsxs("select",{id:E.name,className:"w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-navy-800 focus:border-transparent text-[10px]",value:N(E.name)||"",onChange:j=>{const L=j.target.value;k(E.name,L),o(L),k("silo_id","select-product")},required:E.required,children:[l.jsx("option",{value:"",children:"Seleziona prodotto"}),d==null?void 0:d.map(j=>l.jsxs("option",{value:j.name,children:[j.name," (",j.unit||"Kg",")"]},j.id))]}),quantity_kg:(E,{setValue:k,getValues:N})=>l.jsx("input",{id:E.name,type:"number",className:"w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-navy-800 focus:border-transparent text-[10px]",value:N(E.name)||"",onChange:j=>{const L=j.target.value;k(E.name,L),u(L),k("silo_id","select-product")},placeholder:E.placeholder,required:E.required})},O={sections:[{title:"Informazioni Generali",fields:[{name:"ddt_number",label:"Numero DDT",type:"number",required:!0,placeholder:"Inserisci numero DDT"},{name:"product",label:"Prodotto",type:"product",required:!0},{name:"quantity_kg",label:"Quantit (Kg)",type:"quantity_kg",required:!0,placeholder:"Inserisci quantit in kg"},{name:"lot_supplier",label:"Fornitore",type:"select",required:!0,options:(g==null?void 0:g.map(E=>({value:E.name,label:E.name})))||[]},{name:"silo_id",label:"Silos Destinazione",type:"select",required:!0,options:(p==null?void 0:p.length)>0?p.map(E=>{const k=E.currentLevel||0,N=E.capacity_kg||0,j=N-k,L=N>0?k/N*100:0;return{value:String(E.id),label:`${E.name} (${j.toFixed(0)}kg disponibili, ${L.toFixed(1)}% utilizzato)`}}):i?[{value:"no-silos",label:c?"Nessun silos con capacit sufficiente":"Nessun silos compatibile con questo materiale"}]:[{value:"select-product",label:"Seleziona prima un prodotto"}],placeholder:i?(p==null?void 0:p.length)>0?"Seleziona silos compatibile":"Nessun silos disponibile":"Seleziona prima un prodotto",disabled:i&&(p==null?void 0:p.length)===0,helpText:i?(p==null?void 0:p.length)>0?`${p.length} silos compatibili con "${i}"${c?` e con capacit sufficiente per ${c}kg`:""}`:c?`Nessun silos con capacit sufficiente per ${c}kg di "${i}"`:`Nessun silos configurato per accettare "${i}"`:"Seleziona un prodotto per vedere i silos compatibili"}]},{title:"Dettagli Lotto",fields:[{name:"lot_tf",label:"Lotto TF",type:"text",placeholder:"Inserisci lotto TF"}]},{title:"Controlli Qualit",fields:[{name:"cleaned",label:"Pulizia Merce",type:"select",required:!0,options:[{value:"true",label:"Accettata"},{value:"false",label:"Non Accettata"}]},{name:"proteins",label:"Proteine Prodotto (%)",type:"number",placeholder:"Inserisci percentuale proteine"},{name:"humidity",label:"Umidit Prodotto (%)",type:"number",placeholder:"Inserisci percentuale umidit"}]},{title:"Operatore",fields:[{name:"operator_name",label:"Nome Operatore",type:"select",required:!0,options:(y==null?void 0:y.length)>0?y.map(E=>({value:E.name,label:`${E.name}${E.code?` (${E.code})`:""}`})):[{value:"loading",label:"Caricamento operatori..."}]}]}],addButtonText:"Aggiungi Movimento",editButtonText:"Aggiorna Movimento",addLoadingText:"Aggiungendo...",editLoadingText:"Aggiornando...",addContext:"Creazione movimento merce in entrata",editContext:"Aggiornamento movimento merce in entrata",addErrorMessage:"Errore durante la creazione del movimento",editErrorMessage:"Errore durante l'aggiornamento del movimento"};return s||m||v?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:n?"Modifica Movimento Merce IN":"Nuovo Movimento Merce IN"})}),l.jsx(qu,{config:O,initialData:n?{...n,silo_id:String(n.silo_id),cleaned:String(n.cleaned)}:{},onSubmit:T,onCancel:C,isEditMode:!!n,isLoading:n?_.isPending:x.isPending,customFieldRenderers:M})]})}function _q({outbound:e,onClose:t,onEdit:n}){const[r,s]=w.useState(!1),[a,i]=w.useState({silo_id:e.silo_id||"",quantity_kg:e.quantity_kg||"",operator_name:e.operator_name||"",items:e.items||[],notes:e.notes||""}),{data:o}=Di(),{data:c}=Hu(),u=ZC(),f=Me(),d=Ae({mutationFn:async _=>{const{error:R}=await K.from("outbound").update(_).eq("id",e.id);if(R)throw R},onSuccess:()=>{f.invalidateQueries(["outbound"]),s(!1)}}),m=()=>{d.mutate(a)},h=()=>{i({silo_id:e.silo_id||"",quantity_kg:e.quantity_kg||"",operator_name:e.operator_name||"",items:e.items||[],notes:e.notes||""}),s(!1)},y=()=>{Ea("Sei sicuro di voler eliminare questo prelievo?")&&u.mutate(e.id,{onSuccess:()=>{t()}})},v=_=>{const R=o==null?void 0:o.find(T=>T.id===_);return R?R.name:"N/A"},b=_=>c==null?void 0:c.find(R=>R.id===_),g=()=>{i(_=>({..._,items:[..._.items,{material_name:"",quantity_kg:"",supplier_lot:"",tf_lot:"",protein_content:"",moisture_content:""}]}))},p=(_,R,T)=>{i(C=>({...C,items:C.items.map((M,O)=>O===_?{...M,[R]:T}:M)}))},x=_=>{i(R=>({...R,items:R.items.filter((T,C)=>C!==_)}))};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs(qe,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ie,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[l.jsx(Ml,{className:"h-4 w-4"}),"Back to List"]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(lF,{className:"h-6 w-6 text-red-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r?"Edit Outbound Movement":"Outbound Movement Details"}),l.jsx("p",{className:"text-muted-foreground",children:r?"Modify movement information":`Movement ${e.id}`})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:r?l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:h,className:"flex items-center gap-2",children:[l.jsx(_i,{className:"h-4 w-4"}),"Cancel"]}),l.jsxs(ie,{size:"sm",onClick:m,disabled:d.isPending,className:"flex items-center gap-2",children:[l.jsx(Dl,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2",children:[l.jsx(kl,{className:"h-4 w-4"}),"Edit"]}),l.jsxs(ie,{variant:"destructive",size:"sm",onClick:y,className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),"Delete"]})]})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Movement Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"silo_id",children:"Silos"}),r?l.jsxs("select",{id:"silo_id",value:a.silo_id,onChange:_=>i(R=>({...R,silo_id:_.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"",children:"Seleziona silos"}),o==null?void 0:o.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]}):l.jsx("p",{className:"text-foreground font-medium",children:v(e.silo_id)})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"quantity_kg",children:"Quantit Totale (Kg)"}),r?l.jsx(ve,{id:"quantity_kg",type:"number",value:a.quantity_kg,onChange:_=>i(R=>({...R,quantity_kg:_.target.value})),placeholder:"Inserisci quantit totale in kg"}):l.jsxs("p",{className:"text-foreground font-medium",children:[e.quantity_kg," kg"]})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"operator_name",children:"Operatore"}),r?l.jsx(ve,{id:"operator_name",value:a.operator_name,onChange:_=>i(R=>({...R,operator_name:_.target.value})),placeholder:"Inserisci nome operatore"}):l.jsx("p",{className:"text-foreground font-medium",children:e.operator_name||"N/A"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Notes"}),r?l.jsx("textarea",{value:a.notes,onChange:_=>i(R=>({...R,notes:_.target.value})),placeholder:"Inserisci note aggiuntive",rows:4}):l.jsx("p",{className:"text-foreground",children:e.notes||"Nessuna nota"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Dettagli Prelievo"}),r?l.jsxs("div",{className:"space-y-4",children:[a.items.map((_,R)=>l.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"font-medium text-foreground",children:["Item ",R+1]}),l.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>x(R),children:l.jsx(_i,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Materiale"}),l.jsx(ve,{value:_.material_name,onChange:T=>p(R,"material_name",T.target.value),placeholder:"Nome materiale"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Quantit (Kg)"}),l.jsx(ve,{type:"number",value:_.quantity_kg,onChange:T=>p(R,"quantity_kg",T.target.value),placeholder:"Quantit"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Lotto Fornitore"}),l.jsx(ve,{value:_.supplier_lot,onChange:T=>p(R,"supplier_lot",T.target.value),placeholder:"Lotto fornitore"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Lotto TF"}),l.jsx(ve,{value:_.tf_lot,onChange:T=>p(R,"tf_lot",T.target.value),placeholder:"Lotto TF"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Proteine (%)"}),l.jsx(ve,{type:"number",step:"0.1",value:_.protein_content,onChange:T=>p(R,"protein_content",T.target.value),placeholder:"Proteine"})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Umidit (%)"}),l.jsx(ve,{type:"number",step:"0.1",value:_.moisture_content,onChange:T=>p(R,"moisture_content",T.target.value),placeholder:"Umidit"})]})]})]},R)),l.jsx(ie,{variant:"outline",onClick:g,className:"w-full",children:"+ Aggiungi Item"})]}):l.jsx("div",{className:"space-y-3",children:e.items&&e.items.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg border border-primary/20",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:"Totale Prelevato:"}),l.jsxs("span",{className:"text-lg font-bold text-primary",children:[e.items.reduce((_,R)=>_+(R.quantity_kg||0),0).toFixed(2)," kg"]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.items.length," lotto",e.items.length!==1?"i":""," utilizzato",e.items.length!==1?"i":""]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Dettaglio Lotti:"}),e.items.map((_,R)=>l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-foreground",children:_.material_name}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Quantit prelevata: ",l.jsxs("span",{className:"font-medium text-foreground",children:[_.quantity_kg," kg"]})]})]}),_.entry_date&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Entrata: ",new Date(_.entry_date).toLocaleDateString("it-IT")]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[_.supplier_lot&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Lotto Fornitore:"}),l.jsx("span",{className:"ml-1 font-medium text-foreground",children:_.supplier_lot})]}),_.tf_lot&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Lotto TF:"}),l.jsx("span",{className:"ml-1 font-medium text-foreground",children:_.tf_lot})]}),_.protein_content&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Proteine:"}),l.jsxs("span",{className:"ml-1 font-medium text-foreground",children:[_.protein_content,"%"]})]}),_.moisture_content&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Umidit:"}),l.jsxs("span",{className:"ml-1 font-medium text-foreground",children:[_.moisture_content,"%"]})]}),_.cleaning_status!==void 0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Pulito:"}),l.jsx("span",{className:`ml-1 font-medium ${_.cleaning_status?"text-green-600":"text-orange-600"}`,children:_.cleaning_status?"S":"No"})]})]})]},R))]})]}):l.jsx("p",{className:"text-muted-foreground",children:"Nessun dettaglio disponibile"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Stato Silos Attuale"}),(()=>{var R;const _=b(e.silo_id);return _?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-muted-foreground",children:"Livello Attuale:"}),l.jsxs("span",{className:"font-semibold text-foreground",children:[((R=_.currentLevel)==null?void 0:R.toFixed(2))||0," kg"]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("span",{className:"text-muted-foreground",children:"Capacit:"}),l.jsxs("span",{className:"text-foreground",children:[_.capacity_kg," kg"]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,_.currentLevel/_.capacity_kg*100)}%`}})}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-center",children:[(_.currentLevel/_.capacity_kg*100).toFixed(1),"% utilizzato"]})]})]}),_.availableItems&&_.availableItems.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Lotti Disponibili:"}),l.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.availableItems.map((T,C)=>l.jsxs("div",{className:"p-2 bg-muted/20 rounded text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium text-foreground",children:T.product}),l.jsxs("span",{className:"text-muted-foreground",children:[T.available_quantity," kg"]})]}),(T.lot_supplier||T.lot_tf)&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[T.lot_supplier&&`${T.lot_supplier}`,T.lot_supplier&&T.lot_tf&&"  ",T.lot_tf&&`${T.lot_tf}`]})]},C))})]})]}):l.jsx("p",{className:"text-muted-foreground",children:"Dati silos non disponibili"})})()]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Timestamps"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{children:"Data/Ora Movimento"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{children:[l.jsx(ne,{children:"Ultima Modifica"}),l.jsx("p",{className:"text-foreground font-medium",children:new Date(e.updated_at).toLocaleDateString("it-IT",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})})]})})}function Sq(){const e=zt();w.useState(null);const[t,n]=w.useState(null),{data:r,isLoading:s}=tt({queryKey:[...ae.outbound,"with-silos"],queryFn:async()=>{const{data:h,error:y}=await K.from("outbound").select(`
          *,
          silos!inner(name)
        `).order("created_at",{ascending:!1});if(y)throw y;return h}}),a=ZC(),i=Me(),o=Ae({mutationFn:async h=>{const{error:y}=await K.from("outbound").delete().in("id",h);if(y)throw y},onSuccess:()=>i.invalidateQueries([...ae.outbound,"with-silos"])}),c=h=>{n(h)},u=()=>{n(null)},f=h=>{e(`/merce-out/edit/${h.id}`)},d=h=>{a.mutate(h.id)},m=[{accessorKey:"id",header:"ID",cell:({getValue:h})=>`#${h()}`},{accessorKey:"created_at",header:"Data/Ora",cell:({getValue:h})=>new Date(h()).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{accessorKey:"silos.name",header:"Silos"},{accessorKey:"quantity_kg",header:"Quantit (Kg)",cell:({getValue:h})=>`${h()} kg`},{accessorKey:"operator_name",header:"Operatore"},{accessorKey:"items",header:"Lotti",cell:({getValue:h})=>{const y=h();if(!y||y.length===0)return l.jsx("span",{className:"text-muted-foreground",children:"N/A"});if(y.length===1){const v=y[0];return l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:v.material_name}),l.jsx("div",{className:"text-muted-foreground",children:v.supplier_lot||v.tf_lot||"Senza lotto"})]})}return l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[y.length," lotti"]}),l.jsx("div",{className:"text-muted-foreground",children:y.map(v=>v.material_name).filter((v,b,g)=>g.indexOf(v)===b).join(", ")})]})}}];return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsx(Tl,{title:"Lista Movimenti OUT",createButtonText:"+ New Withdrawal",createButtonHref:"/merce-out/new",data:r||[],columns:m,onRowClick:c,onEditRow:f,onDeleteRow:d,enableFiltering:!0,filterableColumns:["silos.name","operator_name"],enableGlobalSearch:!1,onBulkDelete:h=>o.mutate(h),detailComponent:t&&l.jsx(_q,{outbound:t,onClose:u})})}function Vw(){const{id:e}=wl(),t=zt(),[n,r]=w.useState(null),[s,a]=w.useState(!1),[i,o]=w.useState(""),[c,u]=w.useState(""),[f,d]=w.useState([]),[m,h]=w.useState([]);w.useEffect(()=>{e&&e!=="new"&&(a(!0),K.from("outbound").select(`
          *,
          silos!inner(name)
        `).eq("id",e).single().then(({data:O,error:E})=>{E?(console.error("Error fetching outbound data:",E),t("/merce-out/list")):r(O),a(!1)}))},[e,t]);const{data:y}=Di(),{data:v}=Hu(),{data:b}=Gu();w.useEffect(()=>{if(i&&v){const O=v.find(E=>E.id===parseInt(i));O&&O.availableItems?h(O.availableItems):h([]),d([])}},[i,v]);const g=GF(),p=KF(),x=async()=>{try{if(!i)throw new Error("Seleziona un silos");if(!c)throw new Error("Seleziona un operatore");if(f.length===0)throw new Error("Seleziona almeno un lotto da prelevare");for(const N of f){if(!N.withdrawQuantity||N.withdrawQuantity<=0)throw new Error(`Inserisci una quantit valida per il lotto ${N.lot_supplier||N.lot_tf||"senza nome"}`);if(N.withdrawQuantity>N.available_quantity)throw new Error(`Quantit richiesta (${N.withdrawQuantity}kg) supera quella disponibile (${N.available_quantity}kg) per il lotto ${N.lot_supplier||N.lot_tf||"senza nome"}`)}const O=f.reduce((N,j)=>N+parseFloat(j.withdrawQuantity),0),E=f.map(N=>({inbound_id:N.id,quantity_kg:parseFloat(N.withdrawQuantity),material_name:N.product,supplier_lot:N.lot_supplier,tf_lot:N.lot_tf,protein_content:N.proteins,moisture_content:N.humidity,cleaning_status:N.cleaned,entry_date:N.created_at.split("T")[0]})),k={silo_id:parseInt(i),quantity_kg:O,operator_name:c,items:E,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n?await p.mutateAsync({id:n.id,updates:k}):await g.mutateAsync(k),t("/merce-out/list")}catch(O){throw console.error("Error submitting outbound:",O),O}},_=()=>{t("/merce-out/list")},R=O=>{f.find(E=>E.id===O.id)||d(E=>[...E,{...O,withdrawQuantity:""}])},T=O=>{d(E=>E.filter(k=>k.id!==O))},C=(O,E)=>{d(k=>k.map(N=>N.id===O?{...N,withdrawQuantity:E}:N))},M=()=>f.reduce((O,E)=>{const k=parseFloat(E.withdrawQuantity)||0;return O+k},0);return s?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsxs("div",{className:"h-full flex flex-col p-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:n?"Modifica Prelievo Merce OUT":"Nuovo Prelievo Merce OUT"}),l.jsx(ie,{variant:"outline",onClick:_,children:"Annulla"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 flex-1",children:[l.jsxs(qe,{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Informazioni Prelievo"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"silo_id",children:"Silos di Prelievo"}),l.jsxs("select",{id:"silo_id",value:i,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"",children:"Seleziona silos"}),y==null?void 0:y.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l.jsxs("div",{children:[l.jsx(ne,{htmlFor:"operator_name",children:"Operatore"}),l.jsxs("select",{id:"operator_name",value:c,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[l.jsx("option",{value:"",children:"Seleziona operatore"}),b==null?void 0:b.map(O=>l.jsxs("option",{value:O.name,children:[O.name,O.code?` (${O.code})`:""]},O.id))]})]}),f.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsx(ne,{children:"Quantit Totale Selezionata"}),l.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[M().toFixed(2)," kg"]})]}),l.jsx(ie,{onClick:x,disabled:!i||!c||f.length===0||g.isPending||p.isPending,className:"w-full",children:g.isPending||p.isPending?"Registrando...":"Registra Prelievo"})]})]}),l.jsxs(qe,{className:"p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Selezione Lotti"}),i?m.length===0?l.jsx("p",{className:"text-muted-foreground",children:"Nessun lotto disponibile in questo silos"}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Lotti Disponibili"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(O=>l.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${f.find(E=>E.id===O.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>R(O),children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-foreground",children:O.product}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.lot_supplier&&`Lotto Fornitore: ${O.lot_supplier}`,O.lot_supplier&&O.lot_tf&&"  ",O.lot_tf&&`Lotto TF: ${O.lot_tf}`]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Disponibile: ",l.jsxs("span",{className:"font-medium",children:[O.available_quantity," kg"]})]}),(O.proteins||O.humidity)&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[O.proteins&&`Proteine: ${O.proteins}%`,O.proteins&&O.humidity&&"  ",O.humidity&&`Umidit: ${O.humidity}%`]})]}),l.jsx(ie,{size:"sm",variant:f.find(E=>E.id===O.id)?"default":"outline",onClick:E=>{E.stopPropagation(),R(O)},children:l.jsx(_F,{className:"h-4 w-4"})})]})},O.id))})]}),f.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Lotti Selezionati"}),l.jsx("div",{className:"space-y-2",children:f.map(O=>l.jsxs("div",{className:"p-3 border border-primary bg-primary/5 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-foreground",children:O.product}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.lot_supplier&&`${O.lot_supplier}`,O.lot_supplier&&O.lot_tf&&"  ",O.lot_tf&&`${O.lot_tf}`]})]}),l.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>T(O.id),children:l.jsx(Mi,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ne,{htmlFor:`quantity-${O.id}`,className:"text-sm",children:"Quantit da prelevare:"}),l.jsx(ve,{id:`quantity-${O.id}`,type:"number",step:"0.1",min:"0",max:O.available_quantity,value:O.withdrawQuantity,onChange:E=>C(O.id,E.target.value),placeholder:"0",className:"w-24"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",O.available_quantity," kg"]})]})]},O.id))})]})]}):l.jsx("p",{className:"text-muted-foreground",children:"Seleziona un silos per vedere i lotti disponibili"})]})]})]})}function Eq(){const[e,t]=w.useState({startDate:"",endDate:"",siloId:"all",reportType:"movements",snapshotDate:"",snapshotTime:""}),[n,r]=w.useState(null),{data:s}=Di(),{data:a,isLoading:i}=tt({queryKey:["movements-report",e],queryFn:async()=>{let j=K.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(j=j.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(j=j.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(j=j.eq("silo_id",e.siloId));const{data:L,error:B}=await j;if(B)throw B;return L},enabled:e.reportType==="movements"}),{data:o,isLoading:c}=tt({queryKey:["outbound-report",e],queryFn:async()=>{let j=K.from("outbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(j=j.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(j=j.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(j=j.eq("silo_id",e.siloId));const{data:L,error:B}=await j;if(B)throw B;return L},enabled:e.reportType==="outbound"}),{data:u,isLoading:f}=tt({queryKey:["combined-movements-report",e],queryFn:async()=>{let j=K.from("inbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(j=j.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(j=j.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(j=j.eq("silo_id",e.siloId));let L=K.from("outbound").select("*, silos(name)").order("created_at",{ascending:!1});e.startDate&&(L=L.gte("created_at",e.startDate+"T00:00:00.000Z")),e.endDate&&(L=L.lte("created_at",e.endDate+"T23:59:59.999Z")),e.siloId&&e.siloId!=="all"&&(L=L.eq("silo_id",e.siloId));const[B,D]=await Promise.all([j,L]);if(B.error)throw B.error;if(D.error)throw D.error;return[...B.data.map(U=>({...U,movement_type:"IN"})),...D.data.map(U=>({...U,movement_type:"OUT"}))].sort((U,P)=>new Date(P.created_at)-new Date(U.created_at))},enabled:e.reportType==="combined"}),{data:d,isLoading:m}=tt({queryKey:["stock-report",e],queryFn:async()=>{let j=s;if(!j){const{data:Q,error:re}=await K.from("silos").select("*").order("id");if(re)throw re;j=Q}let L=K.from("inbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0}),B=K.from("outbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0});if(e.startDate){const Q=e.startDate+"T00:00:00.000Z";L=L.gte("created_at",Q),B=B.gte("created_at",Q)}if(e.endDate){const Q=e.endDate+"T23:59:59.999Z";L=L.lte("created_at",Q),B=B.lte("created_at",Q)}e.siloId&&e.siloId!=="all"&&(L=L.eq("silo_id",e.siloId),B=B.eq("silo_id",e.siloId));const{data:D,error:$}=await L;if($)throw $;const{data:U,error:P}=await B;if(P)throw P;const H=j.map(Q=>{const re=D.filter(de=>de.silo_id===Q.id),Y=U.filter(de=>de.silo_id===Q.id),Z=re.reduce((de,fe)=>de+fe.quantity_kg,0),W=Y.reduce((de,fe)=>de+fe.quantity_kg,0),se=Z-W;return{...Q,totalInbound:Z,totalOutbound:W,currentStock:se,utilizationPercentage:Q.capacity_kg>0?se/Q.capacity_kg*100:0}});return e.siloId&&e.siloId!=="all"?H.filter(Q=>Q.id===parseInt(e.siloId)):H},enabled:e.reportType==="stock"}),{data:h,isLoading:y}=tt({queryKey:["snapshot-report",e],queryFn:async()=>{if(!e.snapshotDate||!e.snapshotTime)throw new Error("Data e ora snapshot sono richiesti");const j=`${e.snapshotDate}T${e.snapshotTime}:59.999Z`;let L=s;if(!L){const{data:re,error:Y}=await K.from("silos").select("*").order("id");if(Y)throw Y;L=re}let B=K.from("inbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0}),D=K.from("outbound").select("silo_id, quantity_kg, created_at").order("created_at",{ascending:!0});B=B.lte("created_at",j),D=D.lte("created_at",j),e.siloId&&e.siloId!=="all"&&(B=B.eq("silo_id",e.siloId),D=D.eq("silo_id",e.siloId));const{data:$,error:U}=await B;if(U)throw console.error("Inbound query error:",U),console.error("Snapshot datetime:",j),U;const{data:P,error:H}=await D;if(H)throw console.error("Outbound query error:",H),H;const Q=L.map(re=>{const Y=$.filter(fe=>fe.silo_id===re.id),Z=P.filter(fe=>fe.silo_id===re.id),W=Y.reduce((fe,Te)=>fe+Te.quantity_kg,0),se=Z.reduce((fe,Te)=>fe+Te.quantity_kg,0),de=W-se;return{...re,totalInbound:W,totalOutbound:se,currentStock:de,utilizationPercentage:re.capacity_kg>0?de/re.capacity_kg*100:0,snapshotDateTime:j}});return e.siloId&&e.siloId!=="all"?Q.filter(re=>re.id===parseInt(e.siloId)):Q},enabled:e.reportType==="snapshot"&&!!e.snapshotDate&&!!e.snapshotTime}),{data:v,isLoading:b}=tt({queryKey:["snapshot-silo-detail",n==null?void 0:n.id,e.snapshotDate,e.snapshotTime],queryFn:async()=>{if(!n||!e.snapshotDate||!e.snapshotTime)return null;const j=`${e.snapshotDate}T${e.snapshotTime}:59.999Z`,{data:L,error:B}=await K.from("inbound").select(`
          id,
          silo_id,
          quantity_kg,
          created_at,
          product,
          lot_supplier,
          lot_tf,
          proteins,
          humidity,
          cleaned
        `).eq("silo_id",n.id).lte("created_at",j).order("created_at",{ascending:!0});if(B)throw B;const{data:D,error:$}=await K.from("outbound").select("silo_id, quantity_kg, items, created_at").eq("silo_id",n.id).lte("created_at",j).order("created_at",{ascending:!0});if($)throw $;let U=D.reduce((Y,Z)=>Y+Z.quantity_kg,0);const P=[];for(const Y of L)if(U<=0)P.push({...Y,available_quantity:Y.quantity_kg});else if(U<Y.quantity_kg){const Z=Y.quantity_kg-U;Z>0&&P.push({...Y,available_quantity:Z}),U=0}else U-=Y.quantity_kg;const H=L.reduce((Y,Z)=>Y+Z.quantity_kg,0),Q=D.reduce((Y,Z)=>Y+Z.quantity_kg,0),re=H-Q;return{...n,availableItems:P,currentLevel:re,totalInbound:H,totalOutbound:Q,utilizationPercentage:n.capacity_kg>0?re/n.capacity_kg*100:0,snapshotDateTime:j}},enabled:!!n&&!!e.snapshotDate&&!!e.snapshotTime}),g=(j,L)=>{t(B=>({...B,[j]:L}))},p=j=>{r(j)},x=()=>{r(null)},_=(j,L)=>{if(!j||j.length===0){alert("Nessun dato da esportare");return}const B=Object.keys(j[0]),D=[B.join(","),...j.map(H=>B.map(Q=>{const re=H[Q];return typeof re=="object"&&re!==null?`"${JSON.stringify(re).replace(/"/g,'""')}"`:`"${String(re||"").replace(/"/g,'""')}"`}).join(","))].join(`
`),$=new Blob([D],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),P=URL.createObjectURL($);U.setAttribute("href",P),U.setAttribute("download",`${L}_${new Date().toISOString().split("T")[0]}.csv`),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U)},R=()=>{window.print()},T=()=>{switch(e.reportType){case"movements":return a;case"outbound":return o;case"combined":return u;case"stock":return d;case"snapshot":return h;default:return[]}},C=()=>{switch(e.reportType){case"movements":return i;case"outbound":return c;case"combined":return f;case"stock":return m;case"snapshot":return y;default:return!1}},M=()=>!a||a.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun movimento trovato"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),l.jsx("th",{className:"text-left p-2",children:"DDT"}),l.jsx("th",{className:"text-left p-2",children:"Silos"}),l.jsx("th",{className:"text-left p-2",children:"Prodotto"}),l.jsx("th",{className:"text-left p-2",children:"Quantit"}),l.jsx("th",{className:"text-left p-2",children:"Lotto Fornitore"}),l.jsx("th",{className:"text-left p-2",children:"Lotto TF"}),l.jsx("th",{className:"text-left p-2",children:"Pulizia"}),l.jsx("th",{className:"text-left p-2",children:"Proteine"}),l.jsx("th",{className:"text-left p-2",children:"Umidit"}),l.jsx("th",{className:"text-left p-2",children:"Operatore"})]})}),l.jsx("tbody",{children:a.map(j=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2",children:new Date(j.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),l.jsx("td",{className:"p-2",children:j.ddt_number}),l.jsx("td",{className:"p-2",children:j.silos.name}),l.jsx("td",{className:"p-2",children:j.product}),l.jsxs("td",{className:"p-2",children:[j.quantity_kg," kg"]}),l.jsx("td",{className:"p-2",children:j.lot_supplier}),l.jsx("td",{className:"p-2",children:j.lot_tf}),l.jsx("td",{className:"p-2",children:j.cleaned?"Accettata":"Non Accettata"}),l.jsxs("td",{className:"p-2",children:[j.proteins,"%"]}),l.jsxs("td",{className:"p-2",children:[j.humidity,"%"]}),l.jsx("td",{className:"p-2",children:j.operator_name})]},j.id))})]})}),O=()=>!o||o.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun prelievo trovato"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),l.jsx("th",{className:"text-left p-2",children:"Silos"}),l.jsx("th",{className:"text-left p-2",children:"Quantit"}),l.jsx("th",{className:"text-left p-2",children:"Operatore"}),l.jsx("th",{className:"text-left p-2",children:"Dettagli Prelievo"})]})}),l.jsx("tbody",{children:o.map(j=>{var L;return l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2",children:new Date(j.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),l.jsx("td",{className:"p-2",children:j.silos.name}),l.jsxs("td",{className:"p-2",children:[j.quantity_kg," kg"]}),l.jsx("td",{className:"p-2",children:j.operator_name}),l.jsx("td",{className:"p-2",children:l.jsx("div",{className:"text-xs",children:(L=j.items)==null?void 0:L.map((B,D)=>{var $,U;return l.jsxs("div",{children:[(($=B.snapshot)==null?void 0:$.product)||"N/A",": ",B.quantity_kg,"kg",((U=B.snapshot)==null?void 0:U.lot_supplier)&&` (${B.snapshot.lot_supplier})`]},D)})})})]},j.id)})})]})}),E=()=>!u||u.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun movimento trovato"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Data/Ora"}),l.jsx("th",{className:"text-left p-2",children:"Tipo"}),l.jsx("th",{className:"text-left p-2",children:"DDT"}),l.jsx("th",{className:"text-left p-2",children:"Silos"}),l.jsx("th",{className:"text-left p-2",children:"Prodotto"}),l.jsx("th",{className:"text-left p-2",children:"Quantit"}),l.jsx("th",{className:"text-left p-2",children:"Lotto Fornitore"}),l.jsx("th",{className:"text-left p-2",children:"Lotto TF"}),l.jsx("th",{className:"text-left p-2",children:"Pulizia"}),l.jsx("th",{className:"text-left p-2",children:"Proteine"}),l.jsx("th",{className:"text-left p-2",children:"Umidit"}),l.jsx("th",{className:"text-left p-2",children:"Operatore"})]})}),l.jsx("tbody",{children:u.map(j=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2",children:new Date(j.created_at).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),l.jsx("td",{className:"p-2",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j.movement_type==="IN"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:j.movement_type})}),l.jsx("td",{className:"p-2",children:j.ddt_number||"-"}),l.jsx("td",{className:"p-2",children:j.silos.name}),l.jsx("td",{className:"p-2",children:j.product||"-"}),l.jsxs("td",{className:"p-2",children:[j.quantity_kg," kg"]}),l.jsx("td",{className:"p-2",children:j.lot_supplier||"-"}),l.jsx("td",{className:"p-2",children:j.lot_tf||"-"}),l.jsx("td",{className:"p-2",children:j.movement_type==="IN"?j.cleaned?"Accettata":"Non Accettata":"-"}),l.jsx("td",{className:"p-2",children:j.proteins?`${j.proteins}%`:"-"}),l.jsx("td",{className:"p-2",children:j.humidity?`${j.humidity}%`:"-"}),l.jsx("td",{className:"p-2",children:j.operator_name||"-"})]},`${j.movement_type}-${j.id}`))})]})}),k=()=>!d||d.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun dato silos trovato"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Silos"}),l.jsx("th",{className:"text-left p-2",children:"Capacit"}),l.jsx("th",{className:"text-left p-2",children:"Totale Entrate"}),l.jsx("th",{className:"text-left p-2",children:"Totale Uscite"}),l.jsx("th",{className:"text-left p-2",children:"Giacenza Attuale"}),l.jsx("th",{className:"text-left p-2",children:"Utilizzo"})]})}),l.jsx("tbody",{children:d.map(j=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"p-2",children:j.name}),l.jsxs("td",{className:"p-2",children:[j.capacity_kg.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2",children:[j.totalInbound.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2",children:[j.totalOutbound.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2",children:[j.currentStock.toLocaleString()," kg"]}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${j.utilizationPercentage>=90?"bg-red-500":j.utilizationPercentage>=70?"bg-yellow-500":j.utilizationPercentage>=30?"bg-green-500":"bg-gray-300"}`,style:{width:`${Math.min(j.utilizationPercentage,100)}%`}})}),l.jsxs("span",{children:[Math.round(j.utilizationPercentage),"%"]})]})})]},j.id))})]})}),N=()=>{var j;return!h||h.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nessun dato snapshot trovato"}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Snapshot al:"})," ",new Date((j=h[0])==null?void 0:j.snapshotDateTime).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:" Clicca su una riga per vedere i dettagli dei lotti"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left p-2",children:"Silos"}),l.jsx("th",{className:"text-left p-2",children:"Capacit"}),l.jsx("th",{className:"text-left p-2",children:"Totale Entrate"}),l.jsx("th",{className:"text-left p-2",children:"Totale Uscite"}),l.jsx("th",{className:"text-left p-2",children:"Giacenza Attuale"}),l.jsx("th",{className:"text-left p-2",children:"Utilizzo"})]})}),l.jsx("tbody",{children:h.map(L=>l.jsxs("tr",{className:"border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>p(L),title:"Clicca per vedere i dettagli dei lotti",children:[l.jsx("td",{className:"p-2 font-medium",children:L.name}),l.jsxs("td",{className:"p-2",children:[L.capacity_kg.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2",children:[L.totalInbound.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2",children:[L.totalOutbound.toLocaleString()," kg"]}),l.jsxs("td",{className:"p-2 font-medium",children:[L.currentStock.toLocaleString()," kg"]}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${L.utilizationPercentage>=90?"bg-red-500":L.utilizationPercentage>=70?"bg-yellow-500":L.utilizationPercentage>=30?"bg-green-500":"bg-gray-300"}`,style:{width:`${Math.min(L.utilizationPercentage,100)}%`}})}),l.jsxs("span",{className:"font-medium",children:[Math.round(L.utilizationPercentage),"%"]})]})})]},L.id))})]})})]})};return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Report e Analisi"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{onClick:()=>_(T(),`report_${e.reportType}`),variant:"outline",children:"Esporta CSV"}),l.jsx(ie,{onClick:R,className:"",children:"Stampa Report"})]})]}),l.jsxs(qe,{className:"p-2",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filtri Report"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo Report"}),l.jsxs("select",{value:e.reportType,onChange:j=>g("reportType",j.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[l.jsx("option",{value:"movements",children:"Movimenti IN"}),l.jsx("option",{value:"outbound",children:"Movimenti OUT"}),l.jsx("option",{value:"combined",children:"Movimenti IN & OUT"}),l.jsx("option",{value:"stock",children:"Giacenze Silos"}),l.jsx("option",{value:"snapshot",children:"Snapshot Silos"})]})]}),e.reportType==="snapshot"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Snapshot"}),l.jsx(ve,{type:"date",value:e.snapshotDate,onChange:j=>g("snapshotDate",j.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ora Snapshot"}),l.jsx(ve,{type:"time",value:e.snapshotTime,onChange:j=>g("snapshotTime",j.target.value)})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Inizio"}),l.jsx(ve,{type:"date",value:e.startDate,onChange:j=>g("startDate",j.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fine"}),l.jsx(ve,{type:"date",value:e.endDate,onChange:j=>g("endDate",j.target.value)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Silos"}),l.jsxs("select",{value:e.siloId,onChange:j=>g("siloId",j.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[l.jsx("option",{value:"all",children:"Tutti i silos"}),s==null?void 0:s.map(j=>l.jsx("option",{value:j.id.toString(),children:j.name},j.id))]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx(ie,{onClick:()=>t({startDate:"",endDate:"",siloId:"all",reportType:"movements",snapshotDate:"",snapshotTime:""}),variant:"outline",className:"w-full",children:"Reset Filtri"})})]})]}),l.jsxs(qe,{className:"p-2",children:[l.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[e.reportType==="movements"&&"Report Movimenti IN",e.reportType==="outbound"&&"Report Movimenti OUT",e.reportType==="combined"&&"Report Movimenti IN & OUT",e.reportType==="stock"&&"Report Giacenze Silos",e.reportType==="snapshot"&&"Report Snapshot Silos"]}),C()?l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-64 bg-muted rounded"})}):l.jsxs(l.Fragment,{children:[e.reportType==="movements"&&M(),e.reportType==="outbound"&&O(),e.reportType==="combined"&&E(),e.reportType==="stock"&&k(),e.reportType==="snapshot"&&N()]})]}),n&&v&&l.jsx(zh,{silo:v,onClose:x,isSnapshot:!0,snapshotDateTime:e.snapshotDate&&e.snapshotTime?`${e.snapshotDate}T${e.snapshotTime}:59.999Z`:null})]})}function Rq(){const[e,t]=w.useState(!1),[n,r]=w.useState(null),{data:s,isLoading:a}=tt({queryKey:["analysis-archive"],queryFn:async()=>{const{data:g,error:p}=await K.from("inbound").select(`
          *,
          silos!inner(name)
        `).order("created_at",{ascending:!1});if(p)throw p;return console.log("Archive data:",g),console.log("First item:",g==null?void 0:g[0]),g}});xs();const{data:i}=Di();tt({queryKey:["suppliers"],queryFn:async()=>{const{data:g,error:p}=await K.from("suppliers").select("*").eq("active",!0).order("name");if(p)throw p;return g}}),tt({queryKey:["operators"],queryFn:async()=>{const{data:g,error:p}=await K.from("operators").select("*").eq("active",!0).order("name");if(p)throw p;return g}});const o=Ae({mutationFn:async g=>{const p=new Date,x={...g,silo_id:parseInt(g.silo_id),cleaned:g.cleaned==="true",updated_at:p.toISOString()};if(n){const{error:_}=await K.from("inbound").update(x).eq("id",n.id);if(_)throw _}else{const{error:_}=await K.from("inbound").insert([x]);if(_)throw _}},onSuccess:()=>{c.invalidateQueries(["analysis-archive"]),t(!1),r(null),nt(n?"Analisi aggiornata con successo":"Analisi registrata con successo")},onError:g=>{Xe("Errore durante il salvataggio: "+g.message)}}),c=Me(),u=Ae({mutationFn:async g=>{const{error:p}=await K.from("inbound").delete().eq("id",g);if(p)throw p},onSuccess:()=>{c.invalidateQueries(["analysis-archive"]),nt("Analisi eliminata con successo")},onError:g=>{Xe("Errore durante l'eliminazione: "+g.message)}}),f=Ae({mutationFn:async g=>{const{error:p}=await K.from("inbound").delete().in("id",g);if(p)throw p},onSuccess:()=>c.invalidateQueries(["analysis-archive"])}),d=g=>{r(g),t(!0)},m=g=>{window.confirm("Sei sicuro di voler eliminare questa analisi?")&&u.mutate(g.id)},h=g=>{o.mutate(g)},y=()=>{t(!1),r(null)},v={sections:[{title:"Informazioni Generali",fields:[{name:"ddt_number",label:"Numero DDT",type:"number",required:!0,placeholder:"Inserisci numero DDT"},{name:"product",label:"Prodotto",type:"text",required:!0,placeholder:"Inserisci nome prodotto"},{name:"quantity_kg",label:"Quantit (Kg)",type:"number",required:!0,placeholder:"Inserisci quantit in kg"},{name:"silo_id",label:"Silos Destinazione",type:"select",required:!0,options:(i==null?void 0:i.map(g=>({value:g.id,label:g.name})))||[]},{name:"lot_supplier",label:"Fornitore",type:"text",required:!0,placeholder:"Inserisci nome fornitore"}]},{title:"Dettagli Lotto",fields:[{name:"lot_tf",label:"Lotto TF",type:"text",placeholder:"Inserisci lotto TF"}]},{title:"Analisi Qualit",fields:[{name:"cleaned",label:"Pulizia Merce",type:"select",required:!0,options:[{value:"true",label:"Accettata"},{value:"false",label:"Non Accettata"}]},{name:"proteins",label:"Proteine Prodotto (%)",type:"number",placeholder:"Inserisci percentuale proteine"},{name:"humidity",label:"Umidit Prodotto (%)",type:"number",placeholder:"Inserisci percentuale umidit"}]},{title:"Operatore",fields:[{name:"operator_name",label:"Nome Operatore",type:"text",required:!0,placeholder:"Inserisci nome operatore"}]}],addButtonText:"Registra Analisi",editButtonText:"Aggiorna Analisi",addLoadingText:"Registrando...",editLoadingText:"Aggiornando...",addContext:"Registrazione analisi",editContext:"Aggiornamento analisi",addErrorMessage:"Errore durante la registrazione dell'analisi",editErrorMessage:"Errore durante l'aggiornamento dell'analisi"},b=[{accessorKey:"id",header:"ID",cell:({getValue:g})=>`#${g()}`},{accessorKey:"created_at",header:"Data/Ora",cell:({getValue:g})=>new Date(g()).toLocaleString("it-IT",{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},{accessorKey:"ddt_number",header:"DDT"},{accessorKey:"product",header:"Prodotto"},{accessorKey:"quantity_kg",header:"Quantit (Kg)",cell:({getValue:g})=>`${g()} kg`},{accessorKey:"silos.name",header:"Silos",cell:({row:g})=>{var p;return((p=g.original.silos)==null?void 0:p.name)||"N/A"}},{accessorKey:"lot_supplier",header:"Fornitore"},{accessorKey:"lot_tf",header:"Lotto TF",cell:({getValue:g})=>{const p=g();return console.log("Lot TF value:",p),p||"N/A"}},{accessorKey:"cleaned",header:"Pulizia",cell:({getValue:g})=>{const p=g();return console.log("Cleaned value:",p,typeof p),p?"Accettata":"Non Accettata"}},{accessorKey:"proteins",header:"Proteine (%)",cell:({getValue:g})=>g()?`${g()}%`:"N/A"},{accessorKey:"humidity",header:"Umidit (%)",cell:({getValue:g})=>g()?`${g()}%`:"N/A"},{accessorKey:"operator_name",header:"Operatore",cell:({getValue:g})=>{const p=g();return console.log("Operator name value:",p),p||"N/A"}}];return a?l.jsx("div",{className:"p-2",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-4"}),l.jsx("div",{className:"h-64 bg-muted rounded"})]})}):l.jsxs("div",{className:"h-full flex flex-col p-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Archivio Analisi"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Registra e gestisci tutti i valori di ogni analisi per migliorare la tracciabilit"})]}),l.jsx(ie,{onClick:()=>t(!0),className:"",children:"Registra Analisi"})]}),e&&l.jsxs(qe,{className:"p-4 mb-4 flex-shrink-0",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsx("h2",{className:"text-lg font-semibold",children:n?"Modifica Analisi":"Nuova Analisi"})}),l.jsx(qu,{config:v,initialData:n||{},onSubmit:h,onCancel:y,isEditMode:!!n,isLoading:o.isPending})]}),l.jsxs(qe,{className:"p-4 flex-1 flex flex-col min-h-0",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:"Storico Analisi"}),l.jsx("div",{className:"flex-1 min-h-0",children:l.jsx(e0,{data:s||[],columns:b,onEditRow:d,onDeleteRow:m,enableFiltering:!0,filterableColumns:["product","silos.name","cleaned","operator_name","lot_supplier"],onBulkDelete:g=>f.mutate(g)})})]})]})}class jq extends Al{constructor(){super(K,"silos")}async getSilosWithFilters(t={}){return this.getAll({select:"id, name, capacity, current_level, material_type, location, created_at, updated_at",orderBy:"name",ascending:!0,...t})}async getPaginatedSilos(t=1,n=10,r={}){return this.getPaginated({select:"id, name, capacity, current_level, material_type, location, created_at, updated_at",orderBy:"name",ascending:!0,page:t,perPage:n,filters:r})}async searchSilos(t,n={}){return this.search(t,["name","material_type"],{select:"id, name, capacity, current_level, material_type, location",orderBy:"name",...n})}async getSilosByMaterialType(t){return this.getAll({filters:{material_type:t},orderBy:"name"})}async getLowCapacitySilos(){try{const{data:t,error:n}=await this.client.from(this.tableName).select("id, name, capacity, current_level, material_type").lt("current_level",.2).order("current_level",{ascending:!0});if(n)throw new Error(this.handleSupabaseError(n,"getLowCapacitySilos"));return t||[]}catch(t){throw new Error(`Failed to get low capacity silos: ${t.message}`)}}async updateSiloLevel(t,n){if(n<0||n>1)throw new Error("Silo level must be between 0 and 1");return this.update(t,{current_level:n,updated_at:new Date().toISOString()})}async bulkUpdateLevels(t){const n=t.map(({id:r,level:s})=>this.updateSiloLevel(r,s));return Promise.all(n)}}const Cq=new jq;function Nq(){const[e,t]=w.useState(""),[n,r]=w.useState([]),[s,a]=w.useState({current:1,pageSize:10}),i=D3(Cq,"silos"),{data:o,isLoading:c,error:u}=i.useGetPaginated({page:s.current,perPage:s.pageSize,filters:e?{name:`%${e}%`}:{}}),f=i.useDelete(),d=i.useBulkDelete(),m=[{key:"name",title:"Silo Name",dataIndex:"name",sortable:!0,render:(p,x)=>l.jsx("div",{className:"font-medium",children:p})},{key:"material_type",title:"Material Type",dataIndex:"material_type",sortable:!0,render:p=>l.jsx(ds,{variant:"secondary",children:p||"N/A"})},{key:"capacity",title:"Capacity",dataIndex:"capacity",sortable:!0,align:"right",render:p=>`${(p==null?void 0:p.toLocaleString())||0} tons`},{key:"current_level",title:"Current Level",dataIndex:"current_level",sortable:!0,align:"right",render:p=>{const x=Math.round((p||0)*100),_=x<20?"destructive":x<50?"secondary":"default";return l.jsxs(ds,{variant:_,children:[x,"%"]})}},{key:"location",title:"Location",dataIndex:"location",sortable:!0},{key:"actions",title:"Actions",render:(p,x)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>h(x),children:"Edit"}),l.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>y(x.id),children:"Delete"})]})}],h=p=>{console.log("Edit silo:",p)},y=async p=>{try{await f.mutateAsync(p),nt("Silo deleted successfully")}catch(x){Xe(`Failed to delete silo: ${x.message}`)}},v=async()=>{if(n.length!==0)try{await d.mutateAsync(n),nt(`${n.length} silos deleted successfully`),r([])}catch(p){Xe(`Failed to delete silos: ${p.message}`)}},b={selectedRowKeys:n,onChange:(p,x)=>{r(p)}},g=(p,x)=>{a({current:p,pageSize:x})};return u?l.jsx("div",{className:"p-6",children:l.jsx(qe,{children:l.jsx(vn,{className:"pt-6",children:l.jsxs("div",{className:"text-destructive",children:["Error loading silos: ",u.message]})})})}):l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Modern Silos Management"}),l.jsx("p",{className:"text-muted-foreground",children:"Powered by @santonastaso/shared - Professional data handling patterns"})]}),l.jsx(ie,{onClick:()=>console.log("Add new silo"),children:"Add New Silo"})]}),l.jsxs(qe,{children:[l.jsxs(Pn,{children:[l.jsx($n,{children:"Silos Overview"}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx(ve,{placeholder:"Search silos...",value:e,onChange:p=>t(p.target.value),className:"max-w-sm"}),n.length>0&&l.jsxs(ie,{variant:"destructive",onClick:v,disabled:d.isPending,children:["Delete Selected (",n.length,")"]})]})]}),l.jsx(vn,{children:l.jsx(e0,{data:(o==null?void 0:o.data)||[],columns:m,loading:c,rowSelection:b,pagination:{current:s.current,pageSize:s.pageSize,total:(o==null?void 0:o.total)||0,onChange:g},onRowClick:p=>console.log("Row clicked:",p),emptyText:"No silos found"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsx($n,{children:"Total Silos"})}),l.jsx(vn,{children:l.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.total)||0})})]}),l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsx($n,{children:"Selected"})}),l.jsx(vn,{children:l.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),l.jsxs(qe,{children:[l.jsx(Pn,{children:l.jsx($n,{children:"Current Page"})}),l.jsx(vn,{children:l.jsxs("div",{className:"text-2xl font-bold",children:[s.current," of ",(o==null?void 0:o.totalPages)||1]})})]})]})]})}function Oq(){const[e,t]=w.useState(!1),[n,r]=w.useState({email:"",password:""}),{signIn:s}=Ai(),a=zt(),i=c=>{const{name:u,value:f}=c.target;r(d=>({...d,[u]:f}))},o=async c=>{c.preventDefault(),t(!0);try{await s(n.email,n.password),a("/")}catch(u){console.error("Login error:",u)}finally{t(!1)}};return l.jsx("div",{className:"min-h-screen flex",children:l.jsxs("div",{className:"container relative grid flex-col items-center justify-center sm:max-w-none lg:grid-cols-2 lg:px-0",children:[l.jsxs("div",{className:"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex",children:[l.jsx("div",{className:"absolute inset-0 bg-primary"}),l.jsxs("div",{className:"relative z-20 flex items-center text-lg font-medium",children:[l.jsx("img",{className:"h-6 mr-2",src:"/trace.svg",alt:"TRACC"}),"TRACC"]})]}),l.jsx("div",{className:"lg:p-8",children:l.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[l.jsx("div",{className:"flex flex-col space-y-2 text-center",children:l.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Accedi"})}),l.jsxs("form",{className:"space-y-8",onSubmit:o,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ne,{htmlFor:"email",children:"Email"}),l.jsx(ve,{id:"email",name:"email",type:"email",value:n.email,onChange:i,placeholder:"name@example.com",required:!0,disabled:e})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ne,{htmlFor:"password",children:"Password"}),l.jsx(ve,{id:"password",name:"password",type:"password",value:n.password,onChange:i,required:!0,disabled:e})]}),l.jsx(ie,{type:"submit",className:"w-full cursor-pointer",disabled:e,children:e?"Accesso in corso...":"Accedi"})]}),l.jsx(Sr,{to:"/forgot-password",className:"text-sm text-center hover:underline",children:"Password dimenticata?"})]})})]})})}function Tq(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,a]=w.useState(""),[i,o]=w.useState(!1),{signUp:c}=Ai(),u=zt(),f=async d=>{if(d.preventDefault(),n!==s){Xe("Le password non coincidono");return}if(n.length<6){Xe("La password deve essere di almeno 6 caratteri");return}o(!0);try{await c(e,n),nt("Registrazione completata! Controlla la tua email per confermare l'account."),u("/login")}catch(m){Xe("Errore durante la registrazione: "+m.message)}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs(qe,{className:"w-full max-w-md p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"TRACC"}),l.jsx("p",{className:"text-gray-600",children:"Sistema Tracciabilit Molino"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx(ve,{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),required:!0,placeholder:"Inserisci la tua email",className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx(ve,{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,placeholder:"Inserisci la tua password (min. 6 caratteri)",className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Conferma Password"}),l.jsx(ve,{id:"confirmPassword",type:"password",value:s,onChange:d=>a(d.target.value),required:!0,placeholder:"Conferma la tua password",className:"w-full"})]}),l.jsx(ie,{type:"submit",disabled:i,className:"w-full",children:i?"Registrazione in corso...":"Registrati"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Hai gi un account?"," ",l.jsx(Sr,{to:"/login",className:"text-primary hover:underline font-medium",children:"Accedi qui"})]})})]})})}const Aq=({children:e})=>{const{user:t,loading:n}=Ai();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Caricamento..."})]})}):t?e:l.jsx(x1,{to:"/login",replace:!0})},Mq=()=>(Ai(),cq(),l.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[l.jsx(IF,{}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[l.jsx(zF,{}),l.jsx("main",{className:"flex-1 overflow-auto bg-background min-w-0 p-4",id:"main-content",children:l.jsx("div",{className:"max-w-full",children:l.jsx(HA,{})})})]}),l.jsx(mM,{position:"top-right",richColors:!0,closeButton:!0,duration:4e3})]}));function Dq(){return l.jsx(_3,{children:l.jsx(U3,{children:l.jsxs(KA,{children:[l.jsx(Pe,{path:"/login",element:l.jsx(Oq,{})}),l.jsx(Pe,{path:"/signup",element:l.jsx(Tq,{})}),l.jsxs(Pe,{path:"/",element:l.jsx(Aq,{children:l.jsx(Mq,{})}),children:[l.jsx(Pe,{index:!0,element:l.jsx(uq,{})}),l.jsx(Pe,{path:"silos",element:l.jsx(fq,{})}),l.jsx(Pe,{path:"silos/list",element:l.jsx(hq,{})}),l.jsx(Pe,{path:"silos/modern",element:l.jsx(Nq,{})}),l.jsx(Pe,{path:"silos/new",element:l.jsx(Pw,{})}),l.jsx(Pe,{path:"silos/edit/:id",element:l.jsx(Pw,{})}),l.jsx(Pe,{path:"operators/list",element:l.jsx(gq,{})}),l.jsx(Pe,{path:"operators/new",element:l.jsx($w,{})}),l.jsx(Pe,{path:"operators/edit/:id",element:l.jsx($w,{})}),l.jsx(Pe,{path:"materials/list",element:l.jsx(vq,{})}),l.jsx(Pe,{path:"materials/new",element:l.jsx(Fw,{})}),l.jsx(Pe,{path:"materials/edit/:id",element:l.jsx(Fw,{})}),l.jsx(Pe,{path:"suppliers/list",element:l.jsx(bq,{})}),l.jsx(Pe,{path:"suppliers/new",element:l.jsx(qw,{})}),l.jsx(Pe,{path:"suppliers/edit/:id",element:l.jsx(qw,{})}),l.jsx(Pe,{path:"merce-in/list",element:l.jsx(wq,{})}),l.jsx(Pe,{path:"merce-in/new",element:l.jsx(Bw,{})}),l.jsx(Pe,{path:"merce-in/edit/:id",element:l.jsx(Bw,{})}),l.jsx(Pe,{path:"merce-out/list",element:l.jsx(Sq,{})}),l.jsx(Pe,{path:"merce-out/new",element:l.jsx(Vw,{})}),l.jsx(Pe,{path:"merce-out/edit/:id",element:l.jsx(Vw,{})}),l.jsx(Pe,{path:"reports",element:l.jsx(Eq,{})}),l.jsx(Pe,{path:"archive",element:l.jsx(Rq,{})})]}),l.jsx(Pe,{path:"*",element:l.jsx(x1,{to:"/",replace:!0})})]})})})}const kq=new j2({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});eA.createRoot(document.getElementById("root")).render(l.jsx(F.StrictMode,{children:l.jsx(C2,{client:kq,children:l.jsx(e2,{basename:"/tracc/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs(X3,{children:[l.jsx(Dq,{}),l.jsx(F2,{initialIsOpen:!1})]})})})}));
